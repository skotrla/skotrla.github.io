/* Minification failed for ~/Scripts/build/type.plugins.min.js, line number 1: missing name after . operator */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";var e=function(t,n){var i=this;return i.id=e.count++,e.lifo.push(i),t&&i.open(t,n),i};e.defaults={prefix:"jqi",classes:{box:"",fade:"",prompt:"",form:"",close:"",title:"",message:"",buttons:"",button:"",defaultButton:""},title:"",closeText:"&times;",buttons:{Ok:!0},loaded:function(t){},submit:function(t,e,n,i){},close:function(t,e,n,i){},statechanging:function(t,e,n){},statechanged:function(t,e){},opacity:.8,zIndex:999,overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",hide:"fadeOut",focus:0,defaultButton:0,useiframe:!1,top:"15%",position:{container:null,x:null,y:null,arrow:null,width:null},persistent:!0,timeout:0,states:{},state:{name:null,title:"",html:"",buttons:{Ok:!0},focus:0,defaultButton:0,position:{container:null,x:null,y:null,arrow:null,width:null},submit:function(t,e,n,i){return!0}}},e.setDefaults=function(n){e.defaults=t.extend({},e.defaults,n)},e.setStateDefaults=function(n){e.defaults.state=t.extend({},e.defaults.state,n)},e.count=0,e.lifo=[],e.getLast=function(){var t=e.lifo.length;return t>0&&e.lifo[t-1]},e.removeFromStack=function(t){for(var n=e.lifo.length-1;n>=0;n--)if(e.lifo[n].id===t)return e.lifo.splice(n,1)[0]},e.prototype={id:null,open:function(n,i){var r=this;r.options=t.extend({},e.defaults,i),r.timeout&&clearTimeout(r.timeout),r.timeout=!1;var o,s,a=r.options,l=t(document.body),u=t(window),c='<div class="'+a.prefix+"box "+a.classes.box+'">';for(o in a.useiframe&&t("object, applet").length>0?c+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+a.prefix+"fade "+a.classes.fade+'"></iframe>':c+='<div class="'+a.prefix+"fade "+a.classes.fade+'"></div>',c+='<div class="'+a.prefix+" "+a.classes.prompt+'"><form action="javascript:false;" onsubmit="return false;" class="'+a.prefix+"form "+a.classes.form+'"><div class="'+a.prefix+"close "+a.classes.close+'">'+a.closeText+'</div><div class="'+a.prefix+'states"></div></form></div></div>',r.jqib=t(c).appendTo(l),r.jqi=r.jqib.children("."+a.prefix),r.jqif=r.jqib.children("."+a.prefix+"fade"),n.constructor===String&&(n={state0:{title:a.title,html:n,buttons:a.buttons,position:a.position,focus:a.focus,defaultButton:a.defaultButton,submit:a.submit}}),r.options.states={},n)s=t.extend({},e.defaults.state,{name:o},n[o]),r.addState(s.name,s),""===r.currentStateName&&(r.currentStateName=s.name);r.jqi.on("click","."+a.prefix+"buttons button",function(e){var n=t(this),i=n.parents("."+a.prefix+"state"),o=r.options.states[i.data("jqi-name")],s=i.children("."+a.prefix+"message"),l=o.buttons[n.text()]||o.buttons[n.html()],u={};if(void 0===l)for(var c in o.buttons)o.buttons[c].title!==n.text()&&o.buttons[c].title!==n.html()||(l=o.buttons[c].value);t.each(r.jqi.children("form").serializeArray(),function(t,e){void 0===u[e.name]?u[e.name]=e.value:typeof u[e.name]===Array||"object"==typeof u[e.name]?u[e.name].push(e.value):u[e.name]=[u[e.name],e.value]});var p=new t.Event("impromptu:submit");p.stateName=o.name,p.state=i,i.trigger(p,[l,s,u]),p.isDefaultPrevented()||r.close(!0,l,s,u)});var p=function(){if(a.persistent){var e=a.top.toString().indexOf("%")>=0?u.height()*(parseInt(a.top,10)/100):parseInt(a.top,10),n=parseInt(r.jqi.css("top").replace("px",""),10)-e;t("html,body").animate({scrollTop:n},"fast",function(){var t=0;r.jqib.addClass(a.prefix+"warning");var e=setInterval(function(){r.jqib.toggleClass(a.prefix+"warning"),t++>1&&(clearInterval(e),r.jqib.removeClass(a.prefix+"warning"))},100)})}else r.close(!0)};return r.position(),r.style(),r._windowResize=function(t){r.position(t)},u.resize({animate:!1},r._windowResize),r.jqif.click(p),r.jqi.find("."+a.prefix+"close").click(function(){r.close()}),r.jqib.on("keydown",function(e){var n=window.event?event.keyCode:e.keyCode;if(27===n&&p(),13===n){var i=r.getCurrentState().find("."+a.prefix+"defaultbutton");!1===t(e.target).is("textarea,."+a.prefix+"button")&&i.length>0&&(e.preventDefault(),i.click())}if(9===n){var o=t("input,select,textarea,button",r.getCurrentState()),s=!e.shiftKey&&e.target===o[o.length-1],l=e.shiftKey&&e.target===o[0];if(s||l)return setTimeout(function(){if(o){var t=o[!0===l?o.length-1:0];t&&t.focus()}},10),!1}}).on("impromptu:loaded",a.loaded).on("impromptu:close",a.close).on("impromptu:statechanging",a.statechanging).on("impromptu:statechanged",a.statechanged),r.jqif[a.show](a.overlayspeed),r.jqi[a.show](a.promptspeed,function(){var t=r.jqi.find("."+a.prefix+"states ."+a.prefix+"state").eq(0);r.goToState(t.data("jqi-name")),r.jqib.trigger("impromptu:loaded")}),a.timeout>0&&(r.timeout=setTimeout(function(){r.close(!0)},a.timeout)),r},close:function(n,i,r,o){var s=this;return e.removeFromStack(s.id),s.timeout&&(clearTimeout(s.timeout),s.timeout=!1),s.jqib&&s.jqib[s.options.hide]("fast",function(){s.jqib.trigger("impromptu:close",[i,r,o]),s.jqib.remove(),t(window).off("resize",s._windowResize),"function"==typeof n&&n()}),s.currentStateName="",s},addState:function(n,i,r){var o,s,a,l,u,c="",p=null,h="",d="",f=this.options,m=t("."+f.prefix+"states"),g=[],v=0;if(null!==(i=t.extend({},e.defaults.state,{name:n},i)).position.arrow&&(h='<div class="'+f.prefix+"arrow "+f.prefix+"arrow"+i.position.arrow+'"></div>'),i.title&&""!==i.title&&(d='<div class="lead '+f.prefix+"title "+f.classes.title+'">'+i.title+"</div>"),o=i.html,"function"==typeof i.html&&(o="Error: html function must return text"),c+='<div class="'+f.prefix+'state" data-jqi-name="'+n+'" style="display:none;">'+h+d+'<div class="'+f.prefix+"message "+f.classes.message+'">'+o+'</div><div class="'+f.prefix+"buttons "+f.classes.buttons+'"'+(t.isEmptyObject(i.buttons)?'style="display:none;"':"")+">",t.isArray(i.buttons))g=i.buttons;else if(t.isPlainObject(i.buttons))for(a in i.buttons)i.buttons.hasOwnProperty(a)&&g.push({title:a,value:i.buttons[a]});for(v=0,u=g.length;v<u;v++)l=g[v],s=i.focus===v||isNaN(i.focus)&&i.defaultButton===v?f.prefix+"defaultbutton "+f.classes.defaultButton:"",c+='<button class="'+f.classes.button+" "+f.prefix+"button "+s,void 0!==l.classes&&(c+=" "+(t.isArray(l.classes)?l.classes.join(" "):l.classes)+" "),c+='" name="'+f.prefix+"_"+n+"_button"+l.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+l.value+'">'+l.title+"</button>";return(p=t(c+="</div></div>")).on("impromptu:submit",i.submit),void 0!==r?m.find('[data-jqi-name="'+r+'"]').after(p):m.append(p),this.options.states[n]=i,p},removeState:function(t,e){var n=this,i=n.getState(t),r=function(){i.remove()};return 0!==i.length&&("none"!==i.css("display")?void 0!==e&&n.getState(e).length>0?n.goToState(e,!1,r):i.next().length>0?n.nextState(r):i.prev().length>0?n.prevState(r):n.close():i.slideUp("slow",r),!0)},getApi:function(){return this},getBox:function(){return this.jqib},getPrompt:function(){return this.jqi},getState:function(t){return this.jqi.find('[data-jqi-name="'+t+'"]')},getCurrentState:function(){return this.getState(this.getCurrentStateName())},getCurrentStateName:function(){return this.currentStateName},position:function(e){var n=this,i=t.fx.off,r=n.getCurrentState(),o=n.options.states[r.data("jqi-name")],s=o?o.position:void 0,a=t(window),l=document.body.scrollHeight,u=t(window).height(),c=(t(document).height(),l>u?l:u),p=parseInt(a.scrollTop(),10)+(n.options.top.toString().indexOf("%")>=0?u*(parseInt(n.options.top,10)/100):parseInt(n.options.top,10));if(void 0!==e&&!1===e.data.animate&&(t.fx.off=!0),n.jqib.css({position:"absolute",height:c,width:"100%",top:0,left:0,right:0,bottom:0}),n.jqif.css({position:"fixed",height:c,width:"100%",top:0,left:0,right:0,bottom:0}),s&&s.container){var h=t(s.container).offset();t.isPlainObject(h)&&void 0!==h.top&&(n.jqi.css({position:"absolute"}),n.jqi.animate({top:h.top+s.y,left:h.left+s.x,marginLeft:0,width:void 0!==s.width?s.width:null}),p=h.top+s.y-(n.options.top.toString().indexOf("%")>=0?u*(parseInt(n.options.top,10)/100):parseInt(n.options.top,10)),t("html,body").animate({scrollTop:p},"slow","swing",function(){}))}else s&&s.width?(n.jqi.css({position:"absolute",left:"50%"}),n.jqi.animate({top:s.y||p,left:s.x||"50%",marginLeft:s.width/2*-1,width:s.width})):n.jqi.css({position:"absolute",top:p,left:"50%",marginLeft:n.jqi.outerWidth(!1)/2*-1});void 0!==e&&!1===e.data.animate&&(t.fx.off=i)},style:function(){var t=this;t.jqif.css({zIndex:t.options.zIndex,display:"none",opacity:t.options.opacity}),t.jqi.css({zIndex:t.options.zIndex+1,display:"none"}),t.jqib.css({zIndex:t.options.zIndex})},goToState:function(e,n,i){var r=this,o=(r.jqi,r.options),s=r.getState(e),a=o.states[s.data("jqi-name")],l=new t.Event("impromptu:statechanging"),u=r.options;if(void 0!==a){if("function"==typeof a.html){var c=a.html;s.find("."+u.prefix+"message ").html(c())}"function"==typeof n&&(i=n,n=!1),r.jqib.trigger(l,[r.getCurrentStateName(),e]),!l.isDefaultPrevented()&&s.length>0&&(r.jqi.find("."+u.prefix+"parentstate").removeClass(u.prefix+"parentstate"),n?(r.jqi.find("."+u.prefix+"substate").not(s).slideUp(o.promptspeed).removeClass("."+u.prefix+"substate").find("."+u.prefix+"arrow").hide(),r.jqi.find("."+u.prefix+"state:visible").addClass(u.prefix+"parentstate"),s.addClass(u.prefix+"substate")):r.jqi.find("."+u.prefix+"state").not(s).slideUp(o.promptspeed).find("."+u.prefix+"arrow").hide(),r.currentStateName=a.name,s.slideDown(o.promptspeed,function(){var n=t(this);"string"==typeof a.focus?n.find(a.focus).eq(0).focus():n.find("."+u.prefix+"defaultbutton").focus(),n.find("."+u.prefix+"arrow").show(o.promptspeed),"function"==typeof i&&r.jqib.on("impromptu:statechanged",i),r.jqib.trigger("impromptu:statechanged",[e]),"function"==typeof i&&r.jqib.off("impromptu:statechanged",i)}),n||r.position())}return s},nextState:function(t){var e=this.getCurrentState().next();return e.length>0&&this.goToState(e.data("jqi-name"),t),e},prevState:function(t){var e=this.getCurrentState().prev();return e.length>0&&this.goToState(e.data("jqi-name"),t),e}},t.prompt=function(t,n){return new e(t,n).jqi},t.each(e,function(e,n){t.prompt[e]=n}),t.each(e.prototype,function(n,i){t.prompt[n]=function(){var t=e.getLast();if(t&&"function"==typeof t[n])return t[n].apply(t,arguments)}}),t.fn.prompt=function(e){void 0===e&&(e={}),void 0===e.withDataAndEvents&&(e.withDataAndEvents=!1),t.prompt(t(this).clone(e.withDataAndEvents).html(),e)},window.Impromptu=e}),function(){"use strict";var t=0,e={};function n(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=n.Adapter.extend({},n.defaults,i),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),e[this.key]=this,t+=1}n.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},n.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete e[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(t){var n=[];for(var i in e)n.push(e[i]);for(var r=0,o=n.length;r<o;r++)n[r][t]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){n.invokeAll("enable")},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}var e=0,n={},i=window.Waypoint,r=window.onload;function o(t){this.element=t,this.Adapter=i.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+e,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,e+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}o.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},o.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},o.prototype.createThrottledResizeHandler=function(){var t=this;function e(){t.handleResize(),t.didResize=!1}this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,i.requestAnimationFrame(e))})},o.prototype.createThrottledScrollHandler=function(){var t=this;function e(){t.handleScroll(),t.didScroll=!1}this.adapter.on("scroll.waypoints",function(){t.didScroll&&!i.isTouch||(t.didScroll=!0,i.requestAnimationFrame(e))})},o.prototype.handleResize=function(){i.Context.refreshAll()},o.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll?i.forward:i.backward;for(var o in this.waypoints[n]){var s=this.waypoints[n][o],a=i.oldScroll<s.triggerPoint,l=i.newScroll>=s.triggerPoint;(a&&l||!a&&!l)&&(s.queueTrigger(r),t[s.group.id]=s.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},o.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},o.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},o.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},o.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;i<r;i++)t[i].destroy()},o.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),i={};for(var r in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[r];for(var s in this.waypoints[r]){var a,l,u,c,p=this.waypoints[r][s],h=p.options.offset,d=p.triggerPoint,f=0,m=null==d;p.element!==p.element.window&&(f=p.adapter.offset()[o.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(o.contextDimension*h/100))),a=o.contextScroll-o.contextOffset,p.triggerPoint=f+a-h,l=d<o.oldScroll,u=p.triggerPoint>=o.oldScroll,c=!l&&!u,!m&&(l&&u)?(p.queueTrigger(o.backward),i[p.group.id]=p.group):!m&&c?(p.queueTrigger(o.forward),i[p.group.id]=p.group):m&&o.oldScroll>=p.triggerPoint&&(p.queueTrigger(o.forward),i[p.group.id]=p.group)}}for(var g in i)i[g].flushTriggers();return this},o.findOrCreateByElement=function(t){return o.findByElement(t)||new o(t)},o.refreshAll=function(){for(var t in n)n[t].refresh()},o.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){r&&r(),o.refreshAll()},i.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},i.Context=o}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}var n={vertical:{},horizontal:{}},i=window.Waypoint;function r(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}r.prototype.add=function(t){this.waypoints.push(t)},r.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},r.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?e:t);for(var o=0,s=i.length;o<s;o+=1){var a=i[o];(a.options.continuous||o===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},r.prototype.next=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},r.prototype.previous=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},r.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},r.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},r.prototype.first=function(){return this.waypoints[0]},r.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},r.findOrCreate=function(t){return n[t.axis][t.name]||new r(t)},i.Group=r}(),function(){"use strict";var t=window.jQuery,e=window.Waypoint;function n(e){this.$element=t(e)}t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){n.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),t.each(["extend","inArray","isEmptyObject"],function(e,i){n[i]=t[i]}),e.adapters.push({name:"jquery",Adapter:n}),e.Adapter=n}(),function(){"use strict";var t=window.Waypoint;function e(e){return function(){var n=[],i=arguments[0];return e.isFunction(arguments[0])&&((i=e.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var r=e.extend({},i,{element:this});"string"==typeof r.context&&(r.context=e(this).closest(r.context)[0]),n.push(new t(r))}),n}}window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)})(["jquery"],function(t){return function(){function e(e,n){return e||(e=s()),(l=t("#"+e.containerId)).length?l:(n&&(l=function(e){return(l=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(t(e.target)),l}(e)),l)}function n(e){for(var n=l.children(),r=n.length-1;r>=0;r--)i(t(n[r]),e)}function i(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length||(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){a(e)}}),0))}function r(t){u&&u(t)}function o(n){function i(e){return!t(":focus",d).length||e?(clearTimeout(y.intervalId),d[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){a(d),o.onHidden&&"hidden"!==b.state&&o.onHidden(),b.state="hidden",b.endTime=new Date,r(b)}})):void 0}var o=s(),u=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=t.extend(o,n.optionsOverride),u=n.optionsOverride.iconClass||u),o.preventDuplicates){if(n.message===c)return;c=n.message}p++,l=e(o,!0);var h=null,d=t("<div/>"),f=t("<div/>"),m=t("<div/>"),g=t("<div/>"),v=t(o.closeHtml),y={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:p,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&d.addClass(o.toastClass).addClass(u),n.title&&(f.append(n.title).addClass(o.titleClass),d.append(f)),n.message&&(m.append(n.message).addClass(o.messageClass),d.append(m)),o.closeButton&&(v.addClass("toast-close-button").attr("role","button"),d.prepend(v)),o.progressBar&&(g.addClass("toast-progress"),d.prepend(g)),d.hide(),o.newestOnTop?l.prepend(d):l.append(d),d[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(h=setTimeout(i,o.timeOut),y.maxHideTime=parseFloat(o.timeOut),y.hideEta=(new Date).getTime()+y.maxHideTime,o.progressBar&&(y.intervalId=setInterval(function(){var t=(y.hideEta-(new Date).getTime())/y.maxHideTime*100;g.width(t+"%")},10))),d.hover(function(){clearTimeout(h),y.hideEta=0,d.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})},function(){(o.timeOut>0||o.extendedTimeOut>0)&&(h=setTimeout(i,o.extendedTimeOut),y.maxHideTime=parseFloat(o.extendedTimeOut),y.hideEta=(new Date).getTime()+y.maxHideTime)}),!o.onclick&&o.tapToDismiss&&d.click(i),o.closeButton&&v&&v.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),i(!0)}),o.onclick&&d.click(function(){o.onclick(),i()}),r(b),o.debug&&console&&console.log(b),d}function s(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},d.options)}function a(t){l||(l=e()),t.is(":visible")||(t.remove(),t=null,0===l.children().length&&(l.remove(),c=void 0))}var l,u,c,p=0,h={error:"error",info:"info",success:"success",warning:"warning"},d={clear:function(t,r){var o=s();l||e(o),i(t,o,r)||n(o)},remove:function(n){var i=s();return l||e(i),n&&0===t(":focus",n).length?void a(n):void(l.children().length&&l.remove())},error:function(t,e,n){return o({type:h.error,iconClass:s().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:e,info:function(t,e,n){return o({type:h.info,iconClass:s().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){u=t},success:function(t,e,n){return o({type:h.success,iconClass:s().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.0",warning:function(t,e,n){return o({type:h.warning,iconClass:s().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return d}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e=/\+/g;function n(t){return o.raw?t:encodeURIComponent(t)}function i(t){return n(o.json?JSON.stringify(t):String(t))}function r(n,i){var r=o.raw?n:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),o.json?JSON.parse(t):t}catch(t){}}(n);return t.isFunction(i)?i(r):r}var o=t.cookie=function(e,s,a){if(arguments.length>1&&!t.isFunction(s)){if("number"==typeof(a=t.extend({},o.defaults,a)).expires){var l=a.expires,u=a.expires=new Date;u.setTime(+u+864e5*l)}return document.cookie=[n(e),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var c,p=e?void 0:{},h=document.cookie?document.cookie.split("; "):[],d=0,f=h.length;d<f;d++){var m=h[d].split("="),g=(c=m.shift(),o.raw?c:decodeURIComponent(c)),v=m.join("=");if(e&&e===g){p=r(v,s);break}e||void 0===(v=r(v))||(p[g]=v)}return p};o.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){var e={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},n={duration:"fast",direction:"both"},i=/^(?:html)$/i,r=function(e,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var i=!(!document.defaultView||!document.defaultView.getComputedStyle),r={top:parseFloat(i?n.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(i?n.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(i?n.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(i?n.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}},o=function(e){var n,o=t(window),s=i.test(e[0].nodeName);return{border:s?{top:0,left:0,bottom:0,right:0}:r(e[0]),scroll:{top:(s?o:e).scrollTop(),left:(s?o:e).scrollLeft()},scrollbar:{right:s?0:e.innerWidth()-e[0].clientWidth,bottom:s?0:e.innerHeight()-e[0].clientHeight},rect:(n=e[0].getBoundingClientRect(),{top:s?0:n.top,left:s?0:n.left,bottom:s?e[0].clientHeight:n.bottom,right:s?e[0].clientWidth:n.right})}};t.fn.extend({scrollintoview:function(r){(r=t.extend({},n,r)).direction=e["string"==typeof r.direction&&r.direction.toLowerCase()]||e.both;var s="";!0===r.direction.x&&(s="horizontal"),!0===r.direction.y&&(s=s?"both":"vertical");var a=this.eq(0),l=a.closest(":scrollable("+s+")");if(l.length>0){l=l.eq(0);var u={e:o(a),s:o(l)},c={top:u.e.rect.top-(u.s.rect.top+u.s.border.top),bottom:u.s.rect.bottom-u.s.border.bottom-u.s.scrollbar.bottom-u.e.rect.bottom,left:u.e.rect.left-(u.s.rect.left+u.s.border.left),right:u.s.rect.right-u.s.border.right-u.s.scrollbar.right-u.e.rect.right},p={};!0===r.direction.y&&(c.top<0?p.scrollTop=u.s.scroll.top+c.top:c.top>0&&c.bottom<0&&(p.scrollTop=u.s.scroll.top+Math.min(c.top,-c.bottom))),!0===r.direction.x&&(c.left<0?p.scrollLeft=u.s.scroll.left+c.left:c.left>0&&c.right<0&&(p.scrollLeft=u.s.scroll.left+Math.min(c.left,-c.right))),t.isEmptyObject(p)?t.isFunction(r.complete)&&r.complete.call(l[0]):(i.test(l[0].nodeName)&&(l=t("html,body")),l.animate(p,r.duration).eq(0).queue(function(e){t.isFunction(r.complete)&&r.complete.call(l[0]),e()}))}return this}});var s={auto:!0,scroll:!0,visible:!1,hidden:!1};t.extend(t.expr[":"],{scrollable:function(t,n,r,o){var a=e["string"==typeof r[3]&&r[3].toLowerCase()]||e.both,l=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle,u={x:s[l.overflowX.toLowerCase()]||!1,y:s[l.overflowY.toLowerCase()]||!1,isRoot:i.test(t.nodeName)};if(!u.x&&!u.y&&!u.isRoot)return!1;var c={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(u.x||u.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(u.y||u.isRoot)&&this.height.scroll>this.height.client}};return a.y&&c.scrollableY()||a.x&&c.scrollableX()}})}(jQuery),function(t,e){"use strict";var n=t.History=t.History||{},i=t.jQuery;if(n.disabled)return!1;if(void 0!==n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){i(t).bind(e,n)},trigger:function(t,e,n){i(t).trigger(e,n)},extractEventData:function(t,e,n){return e&&e.originalEvent&&e.originalEvent[t]||n&&n[t]||void 0},onDomLoad:function(t){i(t)}},void 0!==n.init&&n.init()}(window),function(t,e){"use strict";var n=t.console||void 0,i=t.document,r=t.navigator,o=!1,s=t.setTimeout,a=t.clearTimeout,l=t.setInterval,u=t.clearInterval,c=t.JSON,p=t.alert,h=t.History=t.History||{},d=t.history;try{(o=t.sessionStorage).setItem("TEST","1"),o.removeItem("TEST")}catch(t){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,h.disabled)return!1;if(void 0!==h.init)throw new Error("History.js Core has already been loaded...");h.init=function(t){return void 0!==h.Adapter&&(void 0!==h.initCore&&h.initCore(),void 0!==h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(e){if(void 0!==h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||i.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var t,e=h.intervalList;if(null!=e){for(t=0;t<e.length;t++)u(e[t]);h.intervalList=null}},h.debug=function(){h.options.debug&&h.log.apply(h,arguments)},h.log=function(){var t,e,r,o,s,a=!(void 0===n||void 0===n.log||void 0===n.log.apply),l=i.getElementById("log");for(a?(t=(o=Array.prototype.slice.call(arguments)).shift(),void 0!==n.debug?n.debug.apply(n,[t,o]):n.log.apply(n,[t,o])):t="\n"+arguments[0]+"\n",e=1,r=arguments.length;e<r;++e){if("object"==typeof(s=arguments[e])&&void 0!==c)try{s=c.stringify(s)}catch(t){}t+="\n"+s+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||p(t),!0},h.getInternetExplorerMajorVersion=function(){return h.getInternetExplorerMajorVersion.cached=void 0!==h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=i.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e")&&n[0];);return t>4&&t}()},h.isInternetExplorer=function(){return h.isInternetExplorer.cached=void 0!==h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion())},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in i)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},h.cloneObject=function(t){var e,n;return t?(e=c.stringify(t),n=c.parse(e)):n={},n},h.getRootUrl=function(){var t=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(t+=":"+i.location.port),t+="/"},h.getBaseHref=function(){var t=i.getElementsByTagName("base"),e="";return 1===t.length&&(e=t[0].href.replace(/[^\/]+$/,"")),(e=e.replace(/\/+$/,""))&&(e+="/"),e},h.getBaseUrl=function(){return h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl()},h.getPageUrl=function(){return((h.getState(!1,!1)||{}).url||h.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(t,e,n){return/\./.test(t)?t:t+"/"})},h.getBasePageUrl=function(){return h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t,e,n){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/"},h.getFullUrl=function(t,e){var n=t,i=t.substring(0,1);return e=void 0===e||e,/[a-z]+\:\/\//.test(t)||(n="/"===i?h.getRootUrl()+t.replace(/^\/+/,""):"#"===i?h.getPageUrl().replace(/#.*/,"")+t:"?"===i?h.getPageUrl().replace(/[\?#].*/,"")+t:e?h.getBaseUrl()+t.replace(/^(\.\/)+/,""):h.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(t){var e=t,n=h.getBaseUrl(),i=h.getRootUrl();return h.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(i,"/"),h.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.getLocationHref=function(t){return(t=t||i).URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=h.getLastSavedState();return!n&&e&&(n=h.createStateObject()),t&&((n=h.cloneObject(n)).url=n.cleanUrl||n.url),n},h.getIdByState=function(t){var e,n=h.extractId(t.url);if(!n)if(e=h.getStateString(t),void 0!==h.stateToId[e])n=h.stateToId[e];else if(void 0!==h.store.stateToId[e])n=h.store.stateToId[e];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==h.idToState[n]||void 0!==h.store.idToState[n];);h.stateToId[e]=n,h.idToState[n]=t}return n},h.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),void 0!==t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),(e={}).normalized=!0,e.title=t.title||"",e.url=h.getFullUrl(t.url?t.url:h.getLocationHref()),e.hash=h.getShortUrl(e.url),e.data=h.cloneObject(t.data),e.id=h.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!h.isEmptyObject(e.data),(e.title||n)&&!0!==h.options.disableSuid&&(e.hash=h.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=h.getFullUrl(e.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},h.createStateObject=function(t,e,n){var i={data:t,title:e,url:n};return i=h.normalizeState(i)},h.getStateById=function(t){return t=String(t),h.idToState[t]||h.store.idToState[t]||void 0},h.getStateString=function(t){var e;return e={data:h.normalizeState(t).data,title:t.title,url:t.url},c.stringify(e)},h.getStateId=function(t){return h.normalizeState(t).id},h.getHashByState=function(t){return h.normalizeState(t).hash},h.extractId=function(t){var e,n;return n=-1!=t.indexOf("#")?t.split("#")[0]:t,(e=/(.*)\&_suid=([0-9]+)$/.exec(n))&&e[1]||t,(e?String(e[2]||""):"")||!1},h.isTraditionalAnchor=function(t){return!/[\/\?\.]/.test(t)},h.extractState=function(t,e){var n,i,r=null;return e=e||!1,(n=h.extractId(t))&&(r=h.getStateById(n)),r||(i=h.getFullUrl(t),(n=h.getIdByUrl(i)||!1)&&(r=h.getStateById(n)),r||!e||h.isTraditionalAnchor(t)||(r=h.createStateObject(null,null,i))),r},h.getIdByUrl=function(t){return h.urlToId[t]||h.store.urlToId[t]||void 0},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||void 0},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||void 0},h.hasUrlDuplicate=function(t){var e;return(e=h.extractState(t.url))&&e.id!==t.id},h.storeState=function(t){return h.urlToId[t.url]=t.id,h.storedStates.push(h.cloneObject(t)),t},h.isLastSavedState=function(t){var e=!1;return h.savedStates.length&&(e=t.id===h.getLastSavedState().id),e},h.saveState=function(t){return!h.isLastSavedState(t)&&(h.savedStates.push(h.cloneObject(t)),!0)},h.getStateByIndex=function(t){return void 0===t?h.savedStates[h.savedStates.length-1]:t<0?h.savedStates[h.savedStates.length+t]:h.savedStates[t]},h.getCurrentIndex=function(){return h.savedStates.length<1?0:h.savedStates.length-1},h.getHash=function(t){var e=h.getLocationHref(t);return h.getHashByUrl(e)},h.unescapeHash=function(t){var e=h.normalizeHash(t);return e=decodeURIComponent(e)},h.normalizeHash=function(t){return t.replace(/[^#]*#/,"").replace(/#.*/,"")},h.setHash=function(t,e){var n,r;return!1!==e&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:e}),!1):(h.busy(!0),(n=h.extractState(t,!0))&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==t&&(h.bugs.setHash?(r=h.getPageUrl(),h.pushState(null,null,r+"#"+t,!1)):i.location.hash=t),h)},h.escapeHash=function(e){var n=h.normalizeHash(e);return n=t.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=h.unescapeHash(e)},h.setTitle=function(t){var e,n=t.title;n||(e=h.getStateByIndex(0))&&e.url===t.url&&(n=e.title||h.options.initialTitle);try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}return i.title=n,h},h.queues=[],h.busy=function(t){if(void 0!==t?h.busy.flag=t:void 0===h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){a(h.busy.timeout);var e=function(){var t,n,i;if(!h.busy.flag)for(t=h.queues.length-1;t>=0;--t)0!==(n=h.queues[t]).length&&(i=n.shift(),h.fireQueueItem(i),h.busy.timeout=s(e,h.options.busyDelay))};h.busy.timeout=s(e,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(t){return t.callback.apply(t.scope||h,t.args||[])},h.pushQueue=function(t){return h.queues[t.queue||0]=h.queues[t.queue||0]||[],h.queues[t.queue||0].push(t),h},h.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),void 0!==e&&(t.queue=e),h.busy()?h.pushQueue(t):h.fireQueueItem(t),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(a(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(t){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=s(function(){return h.doubleCheckClear(),h.stateChanged||t(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var e=h.extractState(h.getLocationHref());if(!h.isLastSavedState(e))return e||h.createStateObject(),h.Adapter.trigger(t,"popstate"),h},h.back=function(t){return!1!==t&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:t}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),d.go(-1),!0)},h.forward=function(t){return!1!==t&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:t}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),d.go(1),!0)},h.go=function(t,e){var n;if(t>0)for(n=1;n<=t;++n)h.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)h.back(e)}return h},h.emulated.pushState){var f=function(){};h.pushState=h.pushState||f,h.replaceState=h.replaceState||f}else h.onPopState=function(e,n){var i,r,o,s=!1;return h.doubleCheckComplete(),(r=h.getHash())?((o=h.extractState(r||h.getLocationHref(),!0))?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(t,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):((s=(i=h.Adapter.extractEventData("state",e,n)||!1)?h.getStateById(i):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()))||(s=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(s)?(h.busy(!1),!1):(h.storeState(s),h.saveState(s),h.setTitle(s),h.Adapter.trigger(t,"statechange"),h.busy(!1),!0))},h.Adapter.bind(t,"popstate",h.onPopState),h.pushState=function(e,n,i,r){if(h.getHashByUrl(i)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:r}),!1;h.busy(!0);var o=h.createStateObject(e,n,i);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,d.pushState(o.id,o.title,o.url),h.Adapter.trigger(t,"popstate")),!0},h.replaceState=function(e,n,i,r){if(h.getHashByUrl(i)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:r}),!1;h.busy(!0);var o=h.createStateObject(e,n,i);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,d.replaceState(o.id,o.title,o.url),h.Adapter.trigger(t,"popstate")),!0};if(o){try{h.store=c.parse(o.getItem("History.store"))||{}}catch(t){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(t,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),o&&(h.onUnload=function(){var t,e,n;try{t=c.parse(o.getItem("History.store"))||{}}catch(e){t={}}for(e in t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{},h.idToState)h.idToState.hasOwnProperty(e)&&(t.idToState[e]=h.idToState[e]);for(e in h.urlToId)h.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=h.urlToId[e]);for(e in h.stateToId)h.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=h.stateToId[e]);h.store=t,h.normalizeStore(),n=c.stringify(t);try{o.setItem("History.store",n)}catch(t){if(t.code!==DOMException.QUOTA_EXCEEDED_ERR)throw t;o.length&&(o.removeItem("History.store"),o.setItem("History.store",n))}},h.intervalList.push(l(h.onUnload,h.options.storeInterval)),h.Adapter.bind(t,"beforeunload",h.onUnload),h.Adapter.bind(t,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(l(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."!==r.vendor&&"Mozilla"!==(r.appCodeName||"")||(h.Adapter.bind(t,"hashchange",function(){h.Adapter.trigger(t,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(t,"hashchange")})))},h.options&&h.options.delayInit||h.init()}(window),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,i=t(n);if(!i.is("[type=submit],[type=image]")){var r=i.closest("[type=submit]");if(0===r.length)return;n=r[0]}var o=this;if(o.clk=n,"image"==n.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=i.offset();o.clk_x=e.pageX-s.left,o.clk_y=e.pageY-s.top}else o.clk_x=e.pageX-n.offsetLeft,o.clk_y=e.pageY-n.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var o=!!t.fn.prop;t.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){i("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){i("cannot get iframe.contentDocument: "+n),e=t.document}return e}function a(){var e=u.attr2("target"),n=u.attr2("action"),o=u.attr("enctype")||u.attr("encoding")||"multipart/form-data";x.setAttribute("target",m),(!s||/post/i.test(s))&&x.setAttribute("method","POST"),n!=h.url&&x.setAttribute("action",h.url),h.skipEncodingOverride||s&&!/post/i.test(s)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(S=setTimeout(function(){q=!0,l(k)},h.timeout));var a=[];try{if(h.extraData)for(var c in h.extraData)h.extraData.hasOwnProperty(c)&&a.push(t.isPlainObject(h.extraData[c])&&h.extraData[c].hasOwnProperty("name")&&h.extraData[c].hasOwnProperty("value")?t('<input type="hidden" name="'+h.extraData[c].name+'">').val(h.extraData[c].value).appendTo(x)[0]:t('<input type="hidden" name="'+c+'">').val(h.extraData[c]).appendTo(x)[0]);h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",l):v.addEventListener("load",l,!1),setTimeout(function t(){try{var e=r(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){i("Server abort: ",t," (",t.name,")"),l(D),S&&clearTimeout(S),S=void 0}},15);try{x.submit()}catch(t){document.createElement("form").submit.apply(x)}}finally{x.setAttribute("action",n),x.setAttribute("enctype",o),e?x.setAttribute("target",e):u.removeAttr("target"),t(a).remove()}}function l(e){if(!y.aborted&&!E){if((P=r(v))||(i("cannot access response document"),e=D),e===k&&y)return y.abort("timeout"),void w.reject(y,"timeout");if(e==D&&y)return y.abort("server abort"),void w.reject(y,"error","server abort");if(P&&P.location.href!=h.iframeSrc||q){v.detachEvent?v.detachEvent("onload",l):v.removeEventListener("load",l,!1);var n,o="success";try{if(q)throw"timeout";var s="xml"==h.dataType||P.XMLDocument||t.isXMLDoc(P);if(i("isXml="+s),!s&&window.opera&&(null===P.body||!P.body.innerHTML)&&--O)return i("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var a=P.body?P.body:P.documentElement;y.responseText=a?a.innerHTML:null,y.responseXML=P.XMLDocument?P.XMLDocument:P,s&&(h.dataType="xml"),y.getResponseHeader=function(t){return{"content-type":h.dataType}[t.toLowerCase()]},a&&(y.status=Number(a.getAttribute("status"))||y.status,y.statusText=a.getAttribute("statusText")||y.statusText);var u=(h.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);if(c||h.textarea){var p=P.getElementsByTagName("textarea")[0];if(p)y.responseText=p.value,y.status=Number(p.getAttribute("status"))||y.status,y.statusText=p.getAttribute("statusText")||y.statusText;else if(c){var d=P.getElementsByTagName("pre")[0],m=P.getElementsByTagName("body")[0];d?y.responseText=d.textContent?d.textContent:d.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==u&&!y.responseXML&&y.responseText&&(y.responseXML=F(y.responseText));try{I=A(y,u,h)}catch(t){o="parsererror",y.error=n=t||o}}catch(t){i("error caught: ",t),o="error",y.error=n=t||o}y.aborted&&(i("upload aborted"),o=null),y.status&&(o=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,I,"success",y),w.resolve(y.responseText,"success",y),f&&t.event.trigger("ajaxSuccess",[y,h])):o&&(void 0===n&&(n=y.statusText),h.error&&h.error.call(h.context,y,o,n),w.reject(y,"error",n),f&&t.event.trigger("ajaxError",[y,h,n])),f&&t.event.trigger("ajaxComplete",[y,h]),f&&!--t.active&&t.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,y,o),E=!0,h.timeout&&clearTimeout(S),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),y.responseXML=null},100)}}}var c,p,h,f,m,g,v,y,b,_,q,S,x=u[0],w=t.Deferred();if(w.abort=function(t){y.abort(t)},n)for(p=0;p<d.length;p++)c=t(d[p]),o?c.prop("disabled",!1):c.removeAttr("disabled");if((h=t.extend(!0,{},t.ajaxSettings,e)).context=h.context||h,m="jqFormIO"+(new Date).getTime(),h.iframeTarget?(_=(g=t(h.iframeTarget)).attr2("name"))?m=_:g.attr2("name",m):(g=t('<iframe name="'+m+'" src="'+h.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(t){}g.attr("src",h.iframeSrc),y.error=n,h.error&&h.error.call(h.context,y,n,e),f&&t.event.trigger("ajaxError",[y,h,n]),h.complete&&h.complete.call(h.context,y,n)}},(f=h.global)&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[y,h]),h.beforeSend&&!1===h.beforeSend.call(h.context,y,h))return h.global&&t.active--,w.reject(),w;if(y.aborted)return w.reject(),w;(b=x.clk)&&((_=b.name)&&!b.disabled&&(h.extraData=h.extraData||{},h.extraData[_]=b.value,"image"==b.type&&(h.extraData[_+".x"]=x.clk_x,h.extraData[_+".y"]=x.clk_y)));var k=1,D=2,C=t("meta[name=csrf-token]").attr("content"),T=t("meta[name=csrf-param]").attr("content");T&&C&&(h.extraData=h.extraData||{},h.extraData[T]=C),h.forceSync?a():setTimeout(a,10);var I,P,E,O=50,F=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},A=function(e,n,i){var r=e.getResponseHeader("content-type")||"",o="xml"===n||!n&&r.indexOf("xml")>=0,s=o?e.responseXML:e.responseText;return o&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&r.indexOf("json")>=0?s=M(s):("script"===n||!n&&r.indexOf("javascript")>=0)&&t.globalEval(s)),s};return w}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var s,a,l,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),s=e.type||this.attr2("method"),(l=(l="string"==typeof(a=e.url||this.attr2("action"))?t.trim(a):"")||window.location.href||"")&&(l=(l.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:l,success:t.ajaxSettings.success,type:s||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var c={};if(this.trigger("form-pre-serialize",[this,e,c]),c.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var h,d=[],f=this.formToArray(e.semantic,d);if(e.data&&(e.extraData=e.data,h=t.param(e.data,p)),e.beforeSubmit&&!1===e.beforeSubmit(f,this,e))return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,e,c]),c.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(f,p);h&&(m=m?m+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var g=[];if(e.resetForm&&g.push(function(){u.resetForm()}),e.clearForm&&g.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var v=e.success||function(){};g.push(function(n){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](n).each(v,arguments)})}else e.success&&g.push(e.success);if(e.success=function(t,n,i){for(var r=e.context||this,o=0,s=g.length;s>o;o++)g[o].apply(r,[t,n,i||u,u])},e.error){var y=e.error;e.error=function(t,n,i){var r=e.context||this;y.apply(r,[t,n,i,u])}}if(e.complete){var b=e.complete;e.complete=function(t,n){var i=e.context||this;b.apply(i,[t,n,u])}}var _=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}).length>0,q="multipart/form-data",S=u.attr("enctype")==q||u.attr("encoding")==q,x=r.fileapi&&r.formdata;i("fileAPI :"+x);var w,k=(_||S)&&!x;!1!==e.iframe&&(e.iframe||k)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){w=n(f)}):w=n(f):w=(_||S)&&x?function(n){for(var i=new FormData,r=0;r<n.length;r++)i.append(n[r].name,n[r].value);if(e.extraData){var o=function(n){var i,r,o=t.param(n,e.traditional).split("&"),s=o.length,a=[];for(i=0;s>i;i++)o[i]=o[i].replace(/\+/g," "),r=o[i].split("="),a.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return a}(e.extraData);for(r=0;r<o.length;r++)o[r]&&i.append(o[r][0],o[r][1])}e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});e.uploadProgress&&(a.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,i=t.loaded||t.position,r=t.total;t.lengthComputable&&(n=Math.ceil(i/r*100)),e.uploadProgress(t,i,r,n)},!1),n}),a.data=null;var l=a.beforeSend;return a.beforeSend=function(t,n){n.data=e.formData?e.formData:i,l&&l.call(this,t,n)},t.ajax(a)}(f):t.ajax(e),u.removeData("jqxhr").data("jqxhr",w);for(var D=0;D<d.length;D++)d[D]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if((r=r||{}).delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!t.isReady&&o.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(o.s,o.c).ajaxForm(r)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var i=[];if(0===this.length)return i;var o,s,a,l,u,c,p,h,d=this[0],f=this.attr("id"),m=e?d.getElementsByTagName("*"):d.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=t(m).get()),f&&((o=t(':input[form="'+f+'"]').get()).length&&(m=(m||[]).concat(o))),!m||!m.length)return i;for(s=0,p=m.length;p>s;s++)if((l=(c=m[s]).name)&&!c.disabled)if(e&&d.clk&&"image"==c.type)d.clk==c&&(i.push({name:l,value:t(c).val(),type:c.type}),i.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y}));else if((u=t.fieldValue(c,!0))&&u.constructor==Array)for(n&&n.push(c),a=0,h=u.length;h>a;a++)i.push({name:l,value:u[a]});else if(r.fileapi&&"file"==c.type){n&&n.push(c);var g=c.files;if(g.length)for(a=0;a<g.length;a++)i.push({name:l,value:g[a],type:c.type});else i.push({name:l,value:"",type:c.type})}else null!=u&&(n&&n.push(c),i.push({name:l,value:u,type:c.type,required:c.required}));if(!e&&d.clk){var v=t(d.clk),y=v[0];(l=y.name)&&!y.disabled&&"image"==y.type&&(i.push({name:l,value:v.val()}),i.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var o=0,s=r.length;s>o;o++)n.push({name:i,value:r[o]});else null!=r&&n.push({name:this.name,value:r})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,r=this.length;r>i;i++){var o=this[i],s=t.fieldValue(o,e);null==s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(n,s):n.push(s))}return n},t.fieldValue=function(e,n){var i=e.name,r=e.type,o=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var s=e.selectedIndex;if(0>s)return null;for(var a=[],l=e.options,u="select-one"==r,c=u?s+1:l.length,p=u?s:0;c>p;p++){var h=l[p];if(h.selected){var d=h.value;if(d||(d=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),u)return d;a.push(d)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();n.test(i)||"textarea"==r?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1});var qq=function(t){return{hide:function(){return t.style.display="none",this},attach:function(e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n),function(){qq(t).detach(e,n)}},detach:function(e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&t.detachEvent("on"+e,n),this},contains:function(e){return t===e||(t.contains?t.contains(e):!!(8&e.compareDocumentPosition(t)))},insertBefore:function(e){return e.parentNode.insertBefore(t,e),this},remove:function(){return t.parentNode.removeChild(t),this},css:function(e){return null!==e.opacity&&"string"!=typeof t.style.opacity&&void 0!==t.filters&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")"),qq.extend(t.style,e),this},hasClass:function(e){return RegExp("(^| )"+e+"( |$)").test(t.className)},addClass:function(e){return qq(t).hasClass(e)||(t.className+=" "+e),this},removeClass:function(e){return t.className=t.className.replace(RegExp("(^| )"+e+"( |$)")," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(e){var n,i=[];return t.querySelectorAll?t.querySelectorAll("."+e):(n=t.getElementsByTagName("*"),qq.each(n,function(t,n){qq(n).hasClass(e)&&i.push(n)}),i)},children:function(){for(var e=[],n=t.firstChild;n;)1===n.nodeType&&e.push(n),n=n.nextSibling;return e},setText:function(e){return t.innerText=e,t.textContent=e,this},clearText:function(){return qq(t).setText("")}}};qq.log=function(t,e){window.console&&(e&&"info"!==e?window.console[e]?window.console[e](t):window.console.log("<"+e+"> "+t):window.console.log(t))},qq.isObject=function(t){return null!==t&&t&&"object"==typeof t&&t.constructor===Object},qq.isFunction=function(t){return"function"==typeof t},qq.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},qq.trimStr=function(t){return String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},qq.isFileOrInput=function(t){if(window.File&&t instanceof File)return!0;if(window.HTMLInputElement){if(t instanceof HTMLInputElement&&t.type&&"file"===t.type.toLowerCase())return!0}else if(t.tagName&&"input"===t.tagName.toLowerCase()&&t.type&&"file"===t.type.toLowerCase())return!0;return!1},qq.isBlob=function(t){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(t)},qq.isXhrUploadSupported=function(){var t=document.createElement("input");return t.type="file",void 0!==t.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==(new XMLHttpRequest).upload},qq.isFolderDropSupported=function(t){return t.items&&t.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.extend=function(t,e,n){qq.each(e,function(e,i){n&&qq.isObject(i)?(void 0===t[e]&&(t[e]={}),qq.extend(t[e],i,!0)):t[e]=i})},qq.indexOf=function(t,e,n){if(t.indexOf)return t.indexOf(e,n);n=n||0;var i=t.length;for(0>n&&(n+=i);n<i;n+=1)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.firefox=function(){return-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},qq.toElement=function(){var t=document.createElement("div");return function(e){return t.innerHTML=e,e=t.firstChild,t.removeChild(e),e}}(),qq.each=function(t,e){var n;if(t)for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!1===e(n,t[n]))break},qq.obj2url=function(t,e,n){var i,r=[],o="&",s=function(t,n){var i=e?/\[\]$/.test(e)?e:e+"["+n+"]":n;"undefined"!==i&&"undefined"!==n&&r.push("object"==typeof t?qq.obj2url(t,i,!0):"[object Function]"===Object.prototype.toString.call(t)?encodeURIComponent(i)+"="+encodeURIComponent(t()):encodeURIComponent(i)+"="+encodeURIComponent(t))};if(!n&&e)o=/\?/.test(e)?/\?$/.test(e)?"":"&":"?",r.push(e),r.push(qq.obj2url(t));else if("[object Array]"===Object.prototype.toString.call(t)&&void 0!==t)for(i=-1,n=t.length;i<n;i+=1)s(t[i],i);else if(null!=t&&"object"==typeof t)for(i in t)t.hasOwnProperty(i)&&s(t[i],i);else r.push(encodeURIComponent(e)+"="+encodeURIComponent(t));return e?r.join(o):r.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(t,e,n){return e||(e=new FormData),qq.each(t,function(t,i){t=n?n+"["+t+"]":t,qq.isObject(i)?qq.obj2FormData(i,e,t):qq.isFunction(i)?e.append(t,i()):e.append(t,i)}),e},qq.obj2Inputs=function(t,e){var n;return e||(e=document.createElement("form")),qq.obj2FormData(t,{append:function(t,i){(n=document.createElement("input")).setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}}),e},qq.setCookie=function(t,e,n){var i=new Date,r="";n&&(i.setTime(i.getTime()+864e5*n),r="; expires="+i.toGMTString()),document.cookie=t+"="+e+r+"; path=/"},qq.getCookie=function(t){t+="=";for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++){for(e=n[i];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}},qq.getCookieNames=function(t){var e=document.cookie.split(";"),n=[];return qq.each(e,function(e,i){var r=(i=qq.trimStr(i)).indexOf("=");i.match(t)&&n.push(i.substr(0,r))}),n},qq.deleteCookie=function(t){qq.setCookie(t,"",-1)},qq.areCookiesEnabled=function(){var t="qqCookieTest:"+1e5*Math.random();return qq.setCookie(t,1),!!qq.getCookie(t)&&(qq.deleteCookie(t),!0)},qq.parseJson=function(a){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(a):eval("("+a+")")},qq.DisposeSupport=function(){var t=[];return{dispose:function(){var e;do{(e=t.shift())&&e()}while(e)},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(e){t.push(e)}}},qq.supportedFeatures=function(){var t,e,n,i;t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return n=(e=t&&qq.isXhrUploadSupported())&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/),{uploading:t,ajaxUploading:e,fileDrop:e,folderDrop:n,chunking:i=e&&qq.isFileChunkingSupported(),resume:e&&i&&qq.areCookiesEnabled(),uploadCustomHeaders:e,uploadNonMultipart:e,itemSizeValidation:e,uploadViaPaste:e&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),progressBar:e,uploadCors:t&&(void 0!==window.postMessage||e),deleteFileCors:e}}(),qq.Promise=function(){var t,e,n,i,r,o=0;return{then:function(r,s){return 0===o?(n=r,i=s):-1===o&&s?s(e):r&&r(t),this},done:function(t){return 0===o?r=t:t(),this},success:function(e){return o=1,t=e,n&&n(e),r&&r(),this},failure:function(t){return o=-1,e=t,i&&i(t),r&&r(),this}}},qq.UploadButton=function(t){function e(){var t=document.createElement("input");return r.multiple&&t.setAttribute("multiple","multiple"),r.acceptFiles&&t.setAttribute("accept",r.acceptFiles),t.setAttribute("type","file"),t.setAttribute("name",r.name),qq(t).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),r.element.appendChild(t),i.attach(t,"change",function(){r.onChange(t)}),i.attach(t,"mouseover",function(){qq(r.element).addClass(r.hoverClass)}),i.attach(t,"mouseout",function(){qq(r.element).removeClass(r.hoverClass)}),i.attach(t,"focus",function(){qq(r.element).addClass(r.focusClass)}),i.attach(t,"blur",function(){qq(r.element).removeClass(r.focusClass)}),window.attachEvent&&t.setAttribute("tabIndex","-1"),t}var n,i=new qq.DisposeSupport,r={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};return qq.extend(r,t),qq(r.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),n=e(),{getInput:function(){return n},reset:function(){n.parentNode&&qq(n).remove(),qq(r.element).removeClass(r.focusClass),n=e()}}},qq.PasteSupport=function(t){var e;return e={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}},qq.extend(e,t),qq(e.targetElement).attach("paste",function(t){(t=t.clipboardData)&&qq.each(t.items,function(t,n){if(n.type&&0===n.type.indexOf("image/")){var i=n.getAsFile();e.callbacks.pasteReceived(i)}})}),{reset:function(){}}},qq.FineUploaderBasic=function(t){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(t){return 33<t.length&&(t=t.slice(0,19)+"..."+t.slice(-14)),t},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:"kB MB GB TB PB EB".split(" ")},deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}},qq.extend(this._options,t,!0),this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._netUploaded=this._netUploadedOrQueued=0,this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=this._createDeleteHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler()),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype={log:function(t,e){!this._options.debug||e&&"info"!==e?e&&"info"!==e&&qq.log("[FineUploader] "+t,e):qq.log("[FineUploader] "+t)},setParams:function(t,e){null==e?this._options.request.params=t:this._paramsStore.setParams(t,e)},setDeleteFileParams:function(t,e){null==e?this._options.deleteFile.params=t:this._deleteFileParamsStore.setParams(t,e)},setEndpoint:function(t,e){null==e?this._options.request.endpoint=t:this._endpointStore.setEndpoint(t,e)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){for(var t;this._storedIds.length;)t=this._storedIds.shift(),this._filesInProgress.push(t),this._handler.upload(t)},clearStoredFiles:function(){this._storedIds=[]},retry:function(t){return!!this._onBeforeManualRetry(t)&&(this._netUploadedOrQueued++,this._handler.retry(t),!0)},cancel:function(t){this._handler.cancel(t)},cancelAll:function(){var t=[],e=this;qq.extend(t,this._storedIds),qq.each(t,function(t,n){e.cancel(n)}),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._button.reset(),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploaded=this._netUploadedOrQueued=0,this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(t,e,n){var i,r,o=[];if(t){for(window.FileList&&t instanceof FileList||(t=[].concat(t)),i=0;i<t.length;i+=1)r=t[i],qq.isFileOrInput(r)?o.push(r):this.log(r+" is not a File or INPUT element!  Ignoring!","warn");this.log("Processing "+o.length+" files or inputs..."),this._uploadFileOrBlobDataList(o,e,n)}},addBlobs:function(t,e,n){if(t){t=[].concat(t);var i=[],r=this;qq.each(t,function(t,e){qq.isBlob(e)&&!qq.isFileOrInput(e)?i.push({blob:e,name:r._options.blobs.defaultName}):qq.isObject(e)&&e.blob&&e.name?i.push(e):r.log("addBlobs: entry at index "+t+" is not a Blob or a BlobData object","error")}),this._uploadFileOrBlobDataList(i,e,n)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(t){return this._handler.getUuid(t)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(t){return this._handler.getSize(t)},getName:function(t){return this._handler.getName(t)},getFile:function(t){return this._handler.getFile(t)},deleteFile:function(t){this._onSubmitDelete(t)},setDeleteFileEndpoint:function(t,e){null==e?this._options.deleteFile.endpoint=t:this._deleteFileEndpointStore.setEndpoint(t,e)},_createUploadButton:function(t){var e=this,n=new qq.UploadButton({element:t,multiple:this._options.multiple&&qq.supportedFeatures.ajaxUploading,acceptFiles:this._options.validation.acceptFiles,onChange:function(t){e._onInputChange(t)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer(function(){n.dispose()}),n},_createUploadHandler:function(){var t=this;return new qq.UploadHandler({debug:this._options.debug,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(e,n){t.log(e,n)},onProgress:function(e,n,i,r){t._onProgress(e,n,i,r),t._options.callbacks.onProgress(e,n,i,r)},onComplete:function(e,n,i,r){t._onComplete(e,n,i,r),t._options.callbacks.onComplete(e,n,i,r)},onCancel:function(e,n){t._onCancel(e,n),t._options.callbacks.onCancel(e,n)},onUpload:function(e,n){t._onUpload(e,n),t._options.callbacks.onUpload(e,n)},onUploadChunk:function(e,n,i){t._options.callbacks.onUploadChunk(e,n,i)},onResume:function(e,n,i){return t._options.callbacks.onResume(e,n,i)},onAutoRetry:function(e,n,i,r){return t._preventRetries[e]=i[t._options.retry.preventRetryResponseProperty],!!t._shouldAutoRetry(e,n,i)&&(t._maybeParseAndSendUploadError(e,n,i,r),t._options.callbacks.onAutoRetry(e,n,t._autoRetries[e]+1),t._onBeforeAutoRetry(e,n),t._retryTimeouts[e]=setTimeout(function(){t._onAutoRetry(e,n,i)},1e3*t._options.retry.autoAttemptDelay),!0)}})},_createDeleteHandler:function(){var t=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(e,n){t.log(e,n)},onDelete:function(e){t._onDelete(e),t._options.callbacks.onDelete(e)},onDeleteComplete:function(e,n,i){t._onDeleteComplete(e,n,i),t._options.callbacks.onDeleteComplete(e,n,i)}})},_createPasteHandler:function(){var t=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(e,n){t.log(e,n)},pasteReceived:function(e){var n=t._options.callbacks.onPasteReceived;(n=n(e))&&n.then?n.then(function(n){t._handlePasteSuccess(e,n)},function(e){t.log("Ignoring pasted image per paste received callback.  Reason = '"+e+"'")}):t._handlePasteSuccess(e)}}})},_handlePasteSuccess:function(t,e){var n=t.type.split("/")[1],i=e;null==i&&(i=this._options.paste.defaultName),this.addBlobs({name:i+"."+n,blob:t})},_preventLeaveInProgress:function(){var t=this;this._disposeSupport.attach(window,"beforeunload",function(e){if(t._filesInProgress.length)return(e=e||window.event).returnValue=t._options.messages.onLeave})},_onSubmit:function(t){this._netUploadedOrQueued++,this._options.autoUpload&&this._filesInProgress.push(t)},_onProgress:function(){},_onComplete:function(t,e,n,i){n.success?this._netUploaded++:this._netUploadedOrQueued--,this._removeFromFilesInProgress(t),this._maybeParseAndSendUploadError(t,e,n,i)},_onCancel:function(t){this._netUploadedOrQueued--,this._removeFromFilesInProgress(t),clearTimeout(this._retryTimeouts[t]),t=qq.indexOf(this._storedIds,t),!this._options.autoUpload&&0<=t&&this._storedIds.splice(t,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||qq.supportedFeatures.deleteFileCors)},_onSubmitDelete:function(t){if(!this._isDeletePossible())return this.log("Delete request ignored for ID "+t+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1;!1!==this._options.callbacks.onSubmitDelete(t)&&this._deleteHandler.sendDelete(t,this.getUuid(t))},_onDelete:function(){},_onDeleteComplete:function(t,e,n){var i=this._handler.getName(t);n?(this.log("Delete request for '"+i+"' has failed.","error"),this._options.callbacks.onError(t,i,"Delete request failed with response code "+e.status,e)):(this._netUploadedOrQueued--,this._netUploaded--,this.log("Delete request for '"+i+"' has succeeded."))},_removeFromFilesInProgress:function(t){0<=(t=qq.indexOf(this._filesInProgress,t))&&this._filesInProgress.splice(t,1)},_onUpload:function(){},_onInputChange:function(t){qq.supportedFeatures.ajaxUploading?this.addFiles(t.files):this.addFiles(t),this._button.reset()},_onBeforeAutoRetry:function(t,e){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+e+"...")},_onAutoRetry:function(t,e){this.log("Retrying "+e+"..."),this._autoRetries[t]++,this._handler.retry(t)},_shouldAutoRetry:function(t){return!(this._preventRetries[t]||!this._options.retry.enableAuto)&&(void 0===this._autoRetries[t]&&(this._autoRetries[t]=0),this._autoRetries[t]<this._options.retry.maxAutoAttempts)},_onBeforeManualRetry:function(t){var e=this._options.validation.itemLimit;if(this._preventRetries[t])return this.log("Retries are forbidden for id "+t,"warn"),!1;if(this._handler.isValid(t)){var n=this._handler.getName(t);return!1!==this._options.callbacks.onManualRetry(t,n)&&(0<e&&this._netUploadedOrQueued+1>e?(this._itemError("retryFailTooManyItems",""),!1):(this.log("Retrying upload for '"+n+"' (id: "+t+")..."),this._filesInProgress.push(t),!0))}return this.log("'"+t+"' is not a valid file ID","error"),!1},_maybeParseAndSendUploadError:function(t,e,n,i){n.success||(i&&200!==i.status&&!n.error?this._options.callbacks.onError(t,e,"XHR returned response code "+i.status,i):this._options.callbacks.onError(t,e,n.error?n.error:this._options.text.defaultResponseError,i))},_uploadFileOrBlobDataList:function(t,e,n){var i;if(this._isBatchValid(this._getValidationDescriptors(t)))if(0<t.length){for(i=0;i<t.length;i++)if(this._validateFileOrBlobData(t[i]))this._upload(t[i],e,n);else if(this._options.validation.stopOnFirstInvalidFile)break}else this._itemError("noFilesError","")},_upload:function(t,e,n){t=this._handler.add(t);var i=this._handler.getName(t);e&&this.setParams(e,t),n&&this.setEndpoint(n,t),!1!==this._options.callbacks.onSubmit(t,i)&&(this._onSubmit(t,i),this._options.callbacks.onSubmitted(t,i),this._options.autoUpload?this._handler.upload(t):this._storeForLater(t))},_storeForLater:function(t){this._storedIds.push(t)},_isBatchValid:function(t){var e;e=this._options.validation.itemLimit;var n=this._netUploadedOrQueued+t.length;return(t=!1!==this._options.callbacks.onValidateBatch(t))&&(0===e||n<=e?t=!0:(t=!1,e=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,n).replace(/\{itemLimit\}/g,e),this._batchError(e))),t},_validateFileOrBlobData:function(t){var e,n,i;return n=(e=this._getValidationDescriptor(t)).name,i=e.size,!1!==this._options.callbacks.onValidate(e)&&(qq.isFileOrInput(t)&&!this._isAllowedExtension(n)?(this._itemError("typeError",n),!1):0===i?(this._itemError("emptyError",n),!1):i&&this._options.validation.sizeLimit&&i>this._options.validation.sizeLimit?(this._itemError("sizeError",n),!1):!(i&&i<this._options.validation.minSizeLimit)||(this._itemError("minSizeError",n),!1))},_itemError:function(t,e){function n(t,e){r=r.replace(t,e)}var i,r=this._options.messages[t],o=[],s=[].concat(e),a=s[0];return qq.each(this._options.validation.allowedExtensions,function(t,e){qq.isString(e)&&o.push(e)}),i=o.join(", ").toLowerCase(),n("{file}",this._options.formatFileName(a)),n("{extensions}",i),n("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit)),n("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit)),null!==(i=r.match(/(\{\w+\})/g))&&qq.each(i,function(t,e){n(e,s[t])}),this._options.callbacks.onError(null,a,r),r},_batchError:function(t){this._options.callbacks.onError(null,null,t)},_isAllowedExtension:function(t){var e=this._options.validation.allowedExtensions,n=!1;return!e.length||(qq.each(e,function(e,i){if(qq.isString(i)&&null!=t.match(RegExp("\\."+i+"$","i")))return n=!0,!1}),n)},_formatSize:function(t){var e=-1;do{t/=1024,e++}while(99<t);return Math.max(t,.1).toFixed(1)+this._options.text.sizeSymbols[e]},_wrapCallbacks:function(){var t,e;for(var n in t=this,e=function(e,n,i){try{return n.apply(t,i)}catch(n){t.log("Caught exception in '"+e+"' callback - "+n.message,"error")}},this._options.callbacks)!function(){var i,r;i=n,r=t._options.callbacks[i],t._options.callbacks[i]=function(){return e(i,r,arguments)}}()},_parseFileOrBlobDataName:function(t){return qq.isFileOrInput(t)?t.value?t.value.replace(/.*(\/|\\)/,""):null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name:t.name},_parseFileOrBlobDataSize:function(t){var e;return qq.isFileOrInput(t)?t.value||(e=null!==t.fileSize&&void 0!==t.fileSize?t.fileSize:t.size):e=t.blob.size,e},_getValidationDescriptor:function(t){var e,n;return n={},e=this._parseFileOrBlobDataName(t),t=this._parseFileOrBlobDataSize(t),n.name=e,void 0!==t&&(n.size=t),n},_getValidationDescriptors:function(t){var e=this,n=[];return qq.each(t,function(t,i){n.push(e._getValidationDescriptor(i))}),n},_createParamsStore:function(t){var e={},n=this;return{setParams:function(t,n){var i={};qq.extend(i,t),e[n]=i},getParams:function(i){var r={};return null!=i&&e[i]?qq.extend(r,e[i]):qq.extend(r,n._options[t].params),r},remove:function(t){return delete e[t]},reset:function(){e={}}}},_createEndpointStore:function(t){var e={},n=this;return{setEndpoint:function(t,n){e[n]=t},getEndpoint:function(i){return null!=i&&e[i]?e[i]:n._options[t].endpoint},remove:function(t){return delete e[t]},reset:function(){e={}}}}},qq.DragAndDrop=function(t){function e(t){var n,i=new qq.Promise;return t.isFile?t.file(function(t){s.push(t),i.success()},function(e){r.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),i.failure()}):t.isDirectory&&t.createReader().readEntries(function(t){var r=t.length;for(n=0;n<t.length;n+=1)e(t[n]).done(function(){0===(r-=1)&&i.success()});t.length||i.success()},function(e){r.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),i.failure()}),i}function n(t){var n,i,a=[],l=new qq.Promise;if(r.callbacks.processingDroppedFiles(),o.dropDisabled(!0),1<t.files.length&&!r.allowMultipleItems)r.callbacks.processingDroppedFilesComplete([]),r.callbacks.dropError("tooManyFilesError",""),o.dropDisabled(!1),l.failure();else{if(s=[],qq.isFolderDropSupported(t))for(n=t.items,t=0;t<n.length;t+=1)(i=n[t].webkitGetAsEntry())&&(i.isFile?s.push(n[t].getAsFile()):a.push(e(i).done(function(){a.pop(),0===a.length&&l.success()})));else s=t.files;0===a.length&&l.success()}return l}function i(t){o=new qq.UploadDropZone({element:t,onEnter:function(e){qq(t).addClass(r.classes.dropActive),e.stopPropagation()},onLeaveNotDescendants:function(){qq(t).removeClass(r.classes.dropActive)},onDrop:function(e){r.hideDropZonesBeforeEnter&&qq(t).hide(),qq(t).removeClass(r.classes.dropActive),n(e.dataTransfer).done(function(){var t=s;r.callbacks.dropLog("Grabbed "+t.length+" dropped files."),o.dropDisabled(!1),r.callbacks.processingDroppedFilesComplete(t)})}}),a.addDisposer(function(){o.dispose()}),r.hideDropZonesBeforeEnter&&qq(t).hide()}var r,o,s=[],a=new qq.DisposeSupport;return r={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(r,t,!0),function(){var t=r.dropZoneElements;qq.each(t,function(t,e){i(e)}),t.length&&(!qq.ie()||qq.ie10())&&a.attach(document,"dragenter",function(e){!o.dropDisabled()&&function(t){var e;return qq.each(t.dataTransfer.types,function(t,n){if("Files"===n)return e=!0,!1}),e}(e)&&qq.each(t,function(t,e){qq(e).css({display:"block"})})}),a.attach(document,"dragleave",function(e){r.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(e)&&qq.each(t,function(t,e){qq(e).hide()})}),a.attach(document,"drop",function(e){r.hideDropZonesBeforeEnter&&qq.each(t,function(t,e){qq(e).hide()}),e.preventDefault()})}(),{setupExtraDropzone:function(t){r.dropZoneElements.push(t),i(t)},removeDropzone:function(t){var e,n=r.dropZoneElements;for(e in n)if(n[e]===t)return n.splice(e,1)},dispose:function(){a.dispose(),o.dispose()}}},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(t,e){qq.log("Drag & drop error code '"+t+" with these specifics: '"+e+"'","error")},dropLog:function(t,e){qq.log(t,e)}}},qq.UploadDropZone=function(t){function e(t){if(qq.ie()&&!qq.ie10())return!1;var e=t.dataTransfer,n=qq.safari();t=!!qq.ie10()||"none"!==e.effectAllowed;return e&&t&&(e.files||!n&&e.types.contains&&e.types.contains("Files"))}function n(t){return void 0!==t&&(o=t),o}var i,r,o,s,a=new qq.DisposeSupport;return i={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(i,t),r=i.element,s||(function(){return qq.safari()||qq.firefox()&&qq.windows()}?a.attach(document,"dragover",function(t){t.preventDefault()}):a.attach(document,"dragover",function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none",t.preventDefault())}),s=!0),a.attach(r,"dragover",function(t){if(e(t)){var n=qq.ie()?null:t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t.stopPropagation(),t.preventDefault()}}),a.attach(r,"dragenter",function(t){!n()&&e(t)&&i.onEnter(t)}),a.attach(r,"dragleave",function(t){if(e(t)){i.onLeave(t);var n=document.elementFromPoint(t.clientX,t.clientY);qq(this).contains(n)||i.onLeaveNotDescendants(t)}}),a.attach(r,"drop",function(t){!n()&&e(t)&&(t.preventDefault(),i.onDrop(t))}),{dropDisabled:function(t){return n(t)},dispose:function(){a.dispose()}}},qq.FineUploader=function(t){qq.FineUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(t){setTimeout(function(){window.alert(t)},0)},showConfirm:function(t,e,n){setTimeout(function(){window.confirm(t)?e():n&&n()},0)},showPrompt:function(t,e){var n=new qq.Promise,i=window.prompt(t,e);return null!=i&&0<qq.trimStr(i).length?n.success(i):n.failure("Undefined or invalid user-supplied value."),n}},!0),qq.extend(this._options,t,!0),!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt())},qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype),qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(t){this._dnd.setupExtraDropzone(t)},removeExtraDropzone:function(t){return this._dnd.removeDropzone(t)},getItemByFileId:function(t){for(var e=this._listElement.firstChild;e;){if(e.qqFileId==t)return e;e=e.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd.dispose(),this._dnd=this._setupDragAndDrop()},_removeFileItem:function(t){t=this.getItemByFileId(t),qq(t).remove()},_setupDragAndDrop:function(){var t,e=this,n=this._find(this._element,"dropProcessing"),i=this._options.dragAndDrop.extraDropzones;return t=function(t){t.preventDefault()},this._options.dragAndDrop.disableDefaultDropzone||i.push(this._find(this._options.element,"drop")),new qq.DragAndDrop({dropZoneElements:i,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){var i=e._button.getInput();qq(n).css({display:"block"}),qq(i).attach("click",t)},processingDroppedFilesComplete:function(i){var r=e._button.getInput();qq(n).hide(),qq(r).detach("click",t),i&&e.addFiles(i)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_leaving_document_out:function(t){return(qq.chrome()||qq.safari()&&qq.windows())&&0==t.clientX&&0==t.clientY||qq.firefox()&&!t.relatedTarget},_storeForLater:function(t){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var e=this.getItemByFileId(t);qq(this._find(e,"spinner")).hide()},_find:function(t,e){var n=qq(t).getByClass(this._options.classes[e])[0];if(!n)throw Error("element not found "+e);return n},_onSubmit:function(t,e){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(t,e)},_onProgress:function(t,e,n,i){var r,o,s,a;qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments),r=this.getItemByFileId(t),o=this._find(r,"progressBar"),s=Math.round(n/i*100),n===i?(a=this._find(r,"cancel"),qq(a).hide(),qq(o).hide(),qq(this._find(r,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(t)):(this._displayFileSize(t,n,i),qq(o).css({display:"block"})),qq(o).css({width:s+"%"})},_onComplete:function(t,e,n,i){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var r=this.getItemByFileId(t);qq(this._find(r,"statusText")).clearText(),qq(r).removeClass(this._classes.retrying),qq(this._find(r,"progressBar")).hide(),(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&qq(this._find(r,"cancel")).hide(),qq(this._find(r,"spinner")).hide(),n.success?(this._isDeletePossible()&&this._showDeleteLink(t),qq(r).addClass(this._classes.success),this._classes.successIcon&&(this._find(r,"finished").style.display="inline-block",qq(r).addClass(this._classes.successIcon))):(qq(r).addClass(this._classes.fail),this._classes.failIcon&&(this._find(r,"finished").style.display="inline-block",qq(r).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[t]&&qq(r).addClass(this._classes.retryable),this._controlFailureTextDisplay(r,n))},_onUpload:function(t,e){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments),this._showSpinner(t)},_onCancel:function(t,e){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments),this._removeFileItem(t)},_onBeforeAutoRetry:function(t){var e,n,i,r,o;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments),e=this.getItemByFileId(t),n=this._find(e,"progressBar"),this._showCancelLink(e),n.style.width=0,qq(n).hide(),this._options.retry.showAutoRetryNote&&(n=this._find(e,"statusText"),i=this._autoRetries[t]+1,r=this._options.retry.maxAutoAttempts,o=(o=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i)).replace(/\{maxAuto\}/g,r),qq(n).setText(o),1===i&&qq(e).addClass(this._classes.retrying))},_onBeforeManualRetry:function(t){var e=this.getItemByFileId(t);return qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)?(this._find(e,"progressBar").style.width=0,qq(e).removeClass(this._classes.fail),qq(this._find(e,"statusText")).clearText(),this._showSpinner(t),this._showCancelLink(e),!0):(qq(e).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(t){if(!this._isDeletePossible())return this.log("Delete request ignored for file ID "+t+", delete feature is disabled.","warn"),!1;!1!==this._options.callbacks.onSubmitDelete(t)&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(t):this._sendDeleteRequest(t))},_onDeleteComplete:function(t,e,n){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var i=this.getItemByFileId(t),r=this._find(i,"spinner");i=this._find(i,"statusText");qq(r).hide(),n?(qq(i).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(t)):this._removeFileItem(t)},_sendDeleteRequest:function(t){var e=this.getItemByFileId(t),n=this._find(e,"deleteButton");e=this._find(e,"statusText");qq(n).hide(),this._showSpinner(t),qq(e).setText(this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete(t,this.getUuid(t))},_showDeleteConfirm:function(t){var e=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,this._handler.getName(t));this.getUuid(t);var n=this;this._options.showConfirm(e,function(){n._sendDeleteRequest(t)})},_addToList:function(t,e){var n=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var i=this._find(n,"cancel");qq(i).remove()}n.qqFileId=t,i=this._find(n,"file"),qq(i).setText(this._options.formatFileName(e)),qq(this._find(n,"size")).hide(),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._listElement.appendChild(n),this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(t)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_displayFileSize:function(t,e,n){var i=this.getItemByFileId(t);t=this._formatSize(this.getSize(t)),i=this._find(i,"size");void 0!==e&&void 0!==n&&(t=this._formatProgress(e,n)),qq(i).css({display:"inline"}),qq(i).setText(t)},_bindCancelAndRetryEvents:function(){var t=this;this._disposeSupport.attach(this._listElement,"click",function(e){var n=(e=e||window.event).target||e.srcElement;if(qq(n).hasClass(t._classes.cancel)||qq(n).hasClass(t._classes.retry)||qq(n).hasClass(t._classes.deleteButton)){for(qq.preventDefault(e),e=n.parentNode;void 0===e.qqFileId;)e=e.parentNode;qq(n).hasClass(t._classes.deleteButton)?t.deleteFile(e.qqFileId):qq(n).hasClass(t._classes.cancel)?t.cancel(e.qqFileId):(qq(e).removeClass(t._classes.retryable),t.retry(e.qqFileId))}})},_formatProgress:function(t,e){var n=this._options.text.formatProgress,i=Math.round(t/e*100);n=n.replace("{percent}",i),i=this._formatSize(e);return n.replace("{total_size}",i)},_controlFailureTextDisplay:function(t,e){var n,i,r,o;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.maxChars,r=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((n=e[r])?n.length>i&&(o=n.substring(0,i)+"..."):(n=this._options.text.failUpload,this.log("'"+r+"' is not a valid property on the server response.","warn")),qq(this._find(t,"statusText")).setText(o||n),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(t,n)):"default"===n?qq(this._find(t,"statusText")).setText(this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(t,e){t.title=e},_showSpinner:function(t){this._find(this.getItemByFileId(t),"spinner").style.display="inline-block"},_showCancelLink:function(t){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||(t=this._find(t,"cancel"),qq(t).css({display:"inline"}))},_showDeleteLink:function(t){t=this._find(this.getItemByFileId(t),"deleteButton"),qq(t).css({display:"inline"})},_itemError:function(t,e){this._options.showMessage(qq.FineUploaderBasic.prototype._itemError.apply(this,arguments))},_batchError:function(t){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments),this._options.showMessage(t)},_setupPastePrompt:function(){var t=this;this._options.callbacks.onPasteReceived=function(){return t._options.showPrompt(t._options.paste.namePromptMessage,t._options.paste.defaultName)}}}),qq.AjaxRequestor=function(t){function e(t){var e=qq.indexOf(a,t),i=u.maxConnections;delete l[t],a.splice(e,1),a.length>=i&&e<i&&n(t=a[i-1])}function n(t){var e,n=new XMLHttpRequest,a=r(),c={};u.onSend(t),u.paramsStore.getParams&&(c=u.paramsStore.getParams(t)),e=c;var p=u.endpointStore.getEndpoint(t),h=l[t].addToPath;void 0!==h&&(p+="/"+h),e=s&&e?qq.obj2url(e,p):p,l[t].xhr=n,n.onreadystatechange=i(t),n.open(a,e,!0),u.cors.expected&&u.cors.sendCredentials&&(n.withCredentials=!0),function(t){var e=l[t].xhr,t=u.customHeaders;e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Cache-Control","no-cache"),qq.each(t,function(t,n){e.setRequestHeader(t,n)})}(t),o("Sending "+a+" request for "+t),!s&&c?n.send(qq.obj2url(c,"")):n.send()}function i(t){var n=l[t].xhr;return function(){if(4===n.readyState){var i=l[t].xhr,s=r(),a=!1;e(t),0<=qq.indexOf(u.successfulResponseCodes,i.status)||(a=!0,o(s+" request for "+t+" has failed - response code "+i.status,"error")),u.onComplete(t,i,a)}}}function r(){return u.demoMode?"GET":u.method}var o,s,a=[],l=[],u={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};return qq.extend(u,t),o=u.log,s="GET"===r()||"DELETE"===r(),{send:function(t,e){l[t]={addToPath:e},a.push(t)<=u.maxConnections&&n(t)},cancel:function(t){var n=l[t].xhr,i=r();return n?(n.onreadystatechange=null,n.abort(),e(t),o("Cancelled "+i+" for "+t),u.onCancel(t),t=!0):t=!1,t}}},qq.DeleteFileAjaxRequestor=function(t){var e,n={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};return qq.extend(n,t),e=new qq.AjaxRequestor({method:"DELETE",endpointStore:n.endpointStore,paramsStore:n.paramsStore,maxConnections:n.maxConnections,customHeaders:n.customHeaders,successfulResponseCodes:[200,202,204],demoMode:n.demoMode,log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete}),{sendDelete:function(t,i){e.send(t,i),n.log("Submitted delete file request for "+t)}}},qq.WindowReceiveMessage=function(t){var e={};return qq.extend({log:function(){}},t),{receiveMessage:function(t,n){window.postMessage?e[t]=qq(window).attach("message",function(t){n(t.data)}):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(t){window.postMessage&&(t=e[t])&&t()}}},qq.UploadHandler=function(t){var e,n,i,r,o=[];return e={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){}},qq.extend(e,t),n=e.log,i=function(t){t=qq.indexOf(o,t);var n=e.maxConnections;0<=t&&(o.splice(t,1),o.length>=n&&t<n&&(t=o[n-1],r.upload(t)))},r=qq.supportedFeatures.ajaxUploading?new qq.UploadHandlerXhr(e,i,n):new qq.UploadHandlerForm(e,i,n),{add:function(t){return r.add(t)},upload:function(t){if(o.push(t)<=e.maxConnections)return r.upload(t)},retry:function(t){return 0<=qq.indexOf(o,t)?r.upload(t,!0):this.upload(t)},cancel:function(t){n("Cancelling "+t),e.paramsStore.remove(t),r.cancel(t),i(t)},cancelAll:function(){var t=this,e=[];qq.extend(e,o),qq.each(e,function(e,n){t.cancel(n)}),o=[]},getName:function(t){return r.getName(t)},getSize:function(t){if(r.getSize)return r.getSize(t)},getFile:function(t){if(r.getFile)return r.getFile(t)},getQueue:function(){return o},reset:function(){n("Resetting upload handler"),o=[],r.reset()},getUuid:function(t){return r.getUuid(t)},isValid:function(t){return r.isValid(t)},getResumableFilesData:function(){return r.getResumableFilesData?r.getResumableFilesData():[]}}},qq.UploadHandlerForm=function(t,e,n){function i(t){void 0!==u[t]&&(u[t](),delete u[t])}function r(t,e){s.cors.expected?function(t,e){var n=t.id;d[l[n]]=e,u[n]=qq(t).attach("load",function(){a[n]&&(p("Received iframe load event for CORS upload request (file id "+n+")"),c[n]=setTimeout(function(){var t="No valid message received from loaded iframe for file id "+n;p(t,"error"),e({error:t})},1e3))}),h.receiveMessage(n,function(t){p("Received the following window message: '"+t+"'");var e=qq.parseJson(t),r=e.uuid;r&&d[r]?(clearTimeout(c[n]),delete c[n],i(n),t=d[r],delete d[r],h.stopReceivingMessages(n),t(e)):r||p("'"+t+"' does not contain a UUID - ignoring.")})}(t,e):u[t.id]=qq(t).attach("load",function(){if(p("Received response for "+t.id),t.parentNode){try{if(t.contentDocument&&t.contentDocument.body&&"false"==t.contentDocument.body.innerHTML)return}catch(t){p("Error when attempting to access iframe during handling of upload response ("+t+")","error")}e()}})}var o,s=t,a=[],l=[],u={},c={},p=n,h=new qq.WindowReceiveMessage({log:p}),d={};return o={add:function(t){t.setAttribute("name",s.inputName);var e=a.push(t)-1;return l[e]=qq.getUniqueId(),t.parentNode&&qq(t).remove(),e},getName:function(t){if(o.isValid(t))return a[t].value.replace(/.*(\/|\\)/,"");p(t+" is not a valid item ID.","error")},isValid:function(t){return void 0!==a[t]},reset:function(){a=[],l=[],u={}},getUuid:function(t){return l[t]},cancel:function(t){s.onCancel(t,this.getName(t)),delete a[t],delete l[t],delete u[t],s.cors.expected&&(clearTimeout(c[t]),delete c[t],h.stopReceivingMessages(t)),(t=document.getElementById(t))&&(t.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(t).remove())},upload:function(t){var n,u=a[t],c=o.getName(t),h=function(t){var e=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');return e.setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e}(t);if(!u)throw Error("file with passed id was not added, or already uploaded or cancelled");return s.onUpload(t,this.getName(t)),(n=function(t,e){var n=s.paramsStore.getParams(t),i=qq.toElement('<form method="'+(s.demoMode?"GET":"POST")+'" enctype="multipart/form-data"></form>'),r=s.endpointStore.getEndpoint(t),o=r;return n[s.uuidParamName]=l[t],s.paramsInBody?qq.obj2Inputs(n,i):o=qq.obj2url(n,r),i.setAttribute("action",o),i.setAttribute("target",e.name),i.style.display="none",document.body.appendChild(i),i}(t,h)).appendChild(u),r(h,function(n){if(p("iframe loaded"),!n){var r;try{var o=h.contentDocument||h.contentWindow.document,a=o.body.innerHTML;p("converting iframe's innerHTML to JSON"),p("innerHTML = "+a),a&&a.match(/^<pre/i)&&(a=o.body.firstChild.firstChild.nodeValue),r=qq.parseJson(a)}catch(t){p("Error when attempting to parse form upload response ("+t+")","error"),r={success:!1}}n=r}i(t),s.cors.expected||qq(h).remove(),!n.success&&s.onAutoRetry(t,c,n)||(s.onComplete(t,c,n),e(t))}),p("Sending upload request for "+t),n.submit(),qq(n).remove(),t}}},qq.UploadHandlerXhr=function(t,e,n){function i(t,e){var n,i=v.chunking.partSize,o=w.getSize(t),s=_[t].file||_[t].blobData.blob,a=i*e;i=a+i>=o?o:a+i,o=r(t);return s.slice?n=s.slice(a,i):s.mozSlice?n=s.mozSlice(a,i):s.webkitSlice&&(n=s.webkitSlice(a,i)),{part:e,start:a,end:i,count:o,blob:n,size:i-a}}function r(t){return t=w.getSize(t),Math.ceil(t/v.chunking.partSize)}function o(t){var e=new XMLHttpRequest;return _[t].xhr=e}function s(t,e,n,i){var r=new FormData,o=v.demoMode?"GET":"POST",s=v.endpointStore.getEndpoint(i),a=s,l=w.getName(i),u=w.getSize(i),c=_[i].blobData;return t[v.uuidParamName]=_[i].uuid,k&&(t[v.totalFileSizeParamName]=u,c&&(t[v.blobs.paramNames.name]=c.name)),v.paramsInBody||(k||(t[v.inputName]=l),a=qq.obj2url(t,s)),e.open(o,a,!0),v.cors.expected&&v.cors.sendCredentials&&(e.withCredentials=!0),k?(v.paramsInBody&&qq.obj2FormData(t,r),r.append(v.inputName,n),r):n}function a(t,e){var n=v.customHeaders,i=_[t].file||_[t].blobData.blob;e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Cache-Control","no-cache"),k||(e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("X-Mime-Type",i.type)),qq.each(n,function(t,n){e.setRequestHeader(t,n)})}function l(t,e,n){var i=w.getName(t),r=w.getSize(t);_[t].attemptingResume=!1,v.onProgress(t,i,r,r),v.onComplete(t,i,e,n),delete _[t].xhr,y(t)}function u(t){var e,n=_[t].remainingChunkIdxs[0],r=i(t,n),l=o(t),u=w.getSize(t),c=w.getName(t);void 0===_[t].loaded&&(_[t].loaded=0),x&&_[t].file&&function(t,e){var n=w.getUuid(t),i=_[t].loaded,r=_[t].initialRequestOverhead,o=_[t].estTotalRequestsSize,s=f(t);qq.setCookie(s,n+q+e.part+q+i+q+r+q+o,v.resume.cookiesExpireIn)}(t,r),l.onreadystatechange=h(t,l),l.upload.onprogress=function(e){if(e.lengthComputable){var r=e.loaded+_[t].loaded,o=(e=(e=e.total)-(s=i(t,n)).size,w.getSize(t)),s=s.count,a=e-_[t].initialRequestOverhead;_[t].lastRequestOverhead=e,0===n?(_[t].lastChunkIdxProgress=0,_[t].initialRequestOverhead=e,_[t].estTotalRequestsSize=o+s*e):_[t].lastChunkIdxProgress!==n&&(_[t].lastChunkIdxProgress=n,_[t].estTotalRequestsSize=_[t].estTotalRequestsSize+a),v.onProgress(t,c,r,_[t].estTotalRequestsSize)}},v.onUploadChunk(t,c,p(r)),e=v.paramsStore.getParams(t),function(t,e,n){var i=w.getSize(t);t=w.getName(t),e[v.chunking.paramNames.partIndex]=n.part,e[v.chunking.paramNames.partByteOffset]=n.start,e[v.chunking.paramNames.chunkSize]=n.size,e[v.chunking.paramNames.totalParts]=n.count,e[v.totalFileSizeParamName]=i,k&&(e[v.chunking.paramNames.filename]=t)}(t,e,r),_[t].attemptingResume&&(e[v.resume.paramNames.resuming]=!0),e=s(e,l,r.blob,t),a(t,l),b("Sending chunked upload request for item "+t+": bytes "+(r.start+1)+"-"+r.end+" of "+u),l.send(e)}function c(t){b("Server has ordered chunking effort to be restarted on next attempt for item ID "+t,"error"),x&&(d(t),_[t].attemptingResume=!1),_[t].remainingChunkIdxs=[],delete _[t].loaded,delete _[t].estTotalRequestsSize,delete _[t].initialRequestOverhead}function p(t){return{partIndex:t.part,startByte:t.start+1,endByte:t.end,totalParts:t.count}}function h(t,e){return function(){var n;if(4===e.readyState&&_[t]){b("xhr - server response received for "+t),b("responseText = "+e.responseText);try{n=qq.parseJson(e.responseText)}catch(t){b("Error when attempting to parse xhr response text ("+t+")","error"),n={}}if(200!==e.status||!n.success||n.reset)if(n.reset&&c(t),_[t].attemptingResume&&n.reset)_[t].attemptingResume=!1,b("Server has declared that it cannot handle resume for item ID "+t+" - starting from the first chunk","error"),c(t),w.upload(t,!0);else{var r=w.getName(t);v.onAutoRetry(t,r,n,e)||l(t,n,e)}else if(S){r=_[t].remainingChunkIdxs.shift();var o=i(t,r);_[t].attemptingResume=!1;var s,a=(r=_[t]).loaded;o=o.size;s=k?_[t].lastRequestOverhead:0,r.loaded=a+(o+s),0<_[t].remainingChunkIdxs.length?u(t):(x&&d(t),l(t,n,e))}else l(t,n,e)}}}function d(t){_[t].file&&(t=f(t),qq.deleteCookie(t))}function f(t){var e=w.getName(t),n=(t=w.getSize(t),v.chunking.partSize);e="qqfilechunk"+q+encodeURIComponent(e)+q+t+q+n;return void 0!==g&&(e+=q+g),e}function m(t){var e,n=_[t].file||_[t].blobData.blob,i=w.getName(t);_[t].loaded=0,(e=o(t)).upload.onprogress=function(e){e.lengthComputable&&(_[t].loaded=e.loaded,v.onProgress(t,i,e.loaded,e.total))},e.onreadystatechange=h(t,e),n=s(v.paramsStore.getParams(t),e,n,t),a(t,e),b("Sending upload request for "+t),e.send(n)}var g,v=t,y=e,b=n,_=[],q="|",S=v.chunking.enabled&&qq.supportedFeatures.chunking,x=v.resume.enabled&&S&&qq.supportedFeatures.resume;g=null===v.resume.id||void 0===v.resume.id||qq.isFunction(v.resume.id)||qq.isObject(v.resume.id)?void 0:v.resume.id;var w,k=v.forceMultipart||v.paramsInBody;return w={add:function(t){if(t instanceof File)t=_.push({file:t})-1;else{if(!qq.isBlob(t.blob))throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");t=_.push({blobData:t})-1}return _[t].uuid=qq.getUniqueId(),t},getName:function(t){if(w.isValid(t)){var e=_[t].file;t=_[t].blobData;return e?null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name:t.name}b(t+" is not a valid item ID.","error")},getSize:function(t){return t=_[t].file||_[t].blobData.blob,qq.isFileOrInput(t)&&null!=t.fileSize?t.fileSize:t.size},getFile:function(t){if(_[t])return _[t].file||_[t].blobData.blob},getLoaded:function(t){return _[t].loaded||0},isValid:function(t){return void 0!==_[t]},reset:function(){_=[]},getUuid:function(t){return _[t].uuid},upload:function(t,e){var n=this.getName(t);if(v.onUpload(t,n),S){var o,s,a=w.getName(t);n=0;if(!_[t].remainingChunkIdxs||0===_[t].remainingChunkIdxs.length){if(_[t].remainingChunkIdxs=[],x&&!e&&_[t].file){o=qq.getCookie(f(t)),s=w.getName(t);var l=!0;o&&(5===(o=o.split(q)).length?(o={uuid:s=o[0],part:parseInt(o[1],10),lastByteSent:parseInt(o[2],10),initialRequestOverhead:parseInt(o[3],10),estTotalRequestsSize:o=parseInt(o[4],10)},l=!1):b("Ignoring previously stored resume/chunk cookie for "+s+" - old cookie format","warn")),l&&(o=void 0),o&&(s=i(t,o.part),!1!==v.onResume(t,a,p(s))&&(n=o.part,_[t].uuid=o.uuid,_[t].loaded=o.lastByteSent,_[t].estTotalRequestsSize=o.estTotalRequestsSize,_[t].initialRequestOverhead=o.initialRequestOverhead,_[t].attemptingResume=!0,b("Resuming "+a+" at partition index "+n)))}for(a=r(t)-1;a>=n;a-=1)_[t].remainingChunkIdxs.unshift(a)}u(t)}else m(t)},cancel:function(t){var e=_[t].xhr;v.onCancel(t,this.getName(t)),e&&(e.onreadystatechange=null,e.abort()),x&&d(t),delete _[t]},getResumableFilesData:function(){var t=[],e=[];return S&&x?(t=void 0===g?qq.getCookieNames(RegExp("^qqfilechunk\\"+q+".+\\"+q+"\\d+\\"+q+v.chunking.partSize+"=")):qq.getCookieNames(RegExp("^qqfilechunk\\"+q+".+\\"+q+"\\d+\\"+q+v.chunking.partSize+"\\"+q+g+"=")),qq.each(t,function(t,n){var i=n.split(q),r=qq.getCookie(n).split(q);e.push({name:decodeURIComponent(i[1]),size:i[2],uuid:r[0],partIdx:r[1]})}),e):[]}}},function(t){var e,n,i,r,o,s,a,l,u,c;s=["uploaderType"],i=function(t){return t&&(t=l(t),a(t),"basic"===o("uploaderType")?e(new qq.FineUploaderBasic(t)):e(new qq.FineUploader(t))),n},r=function(t,e){var i=n.data("fineuploader");if(!e)return void 0===i?null:i[t];void 0===i&&(i={}),i[t]=e,n.data("fineuploader",i)},e=function(t){return r("uploader",t)},o=function(t,e){return r(t,e)},a=function(e){var i=e.callbacks={};e=new qq.FineUploaderBasic;t.each(e._options.callbacks,function(t){var e,r;e=(e=/^on(\w+)/.exec(t)[1]).substring(0,1).toLowerCase()+e.substring(1),r=n,i[t]=function(){var t=Array.prototype.slice.call(arguments);return r.triggerHandler(e,t)}})},l=function(e,i){var r,a;if(r=void 0===i?"basic"!==e.uploaderType?{element:n[0]}:{}:i,t.each(e,function(e,n){0<=t.inArray(e,s)?o(e,n):n instanceof t?r[e]=n[0]:t.isPlainObject(n)?(r[e]={},l(n,r[e])):t.isArray(n)?(a=[],t.each(n,function(e,n){n instanceof t?t.merge(a,n):a.push(n)}),r[e]=a):r[e]=n}),void 0===i)return r},u=function(n){return"string"===t.type(n)&&!n.match(/^_/)&&void 0!==e()[n]},c=function(t){var n=[],i=Array.prototype.slice.call(arguments,1);return l(i,n),e()[t].apply(e(),n)},t.fn.fineUploader=function(r){var o=this,s=arguments,a=[];return this.each(function(l,p){if(n=t(p),e()&&u(r)){if(a.push(c.apply(o,s)),1===o.length)return!1}else"object"!=typeof r&&r?t.error("Method "+r+" does not exist on jQuery.fineUploader"):i.apply(o,s)}),1===a.length?a[0]:1<a.length?a:this}}(jQuery),function(t){function e(t){return t||(t={}),t.dropZoneElements=[s],i(t=r(t)),n(new qq.DragAndDrop(t)),s}function n(t){var e,n=s.data(a);return t?(void 0===n&&(n={}),n.dndInstance=t,s.data(a,n)):e=void 0===n?null:n.dndInstance,e}function i(e){var n=e.callbacks={};new qq.FineUploaderBasic,t.each(new qq.DragAndDrop.callbacks,function(t){var e;e=s,n[t]=function(){var n=Array.prototype.slice.call(arguments);return e.triggerHandler(t,n)}})}function r(e,n){var i,o;if(i=void 0===n?{}:n,t.each(e,function(e,n){n instanceof t?i[e]=n[0]:t.isPlainObject(n)?(i[e]={},r(n,i[e])):t.isArray(n)?(o=[],t.each(n,function(e,n){n instanceof t?t.merge(o,n):o.push(n)}),i[e]=o):i[e]=n}),void 0===n)return i}function o(t){var e=[];return r(Array.prototype.slice.call(arguments,1),e),n()[t].apply(n(),e)}var s,a="fineUploaderDnd";t.fn.fineUploaderDnd=function(i){var r=this,a=arguments,l=[];return this.each(function(u,c){if(s=t(c),n()&&"string"===t.type(i)&&"dispose"===i&&void 0!==n()[i]){if(l.push(o.apply(r,a)),1===r.length)return!1}else"object"!=typeof i&&i?t.error("Method "+i+" does not exist in Fine Uploader's DnD module."):e.apply(r,a)}),1===l.length?l[0]:1<l.length?l:this}}(jQuery),function(){var t=this,e=t._,n=Array.prototype,i=Object.prototype,r=Function.prototype,o=n.push,s=n.slice,a=i.toString,l=i.hasOwnProperty,u=Array.isArray,c=Object.keys,p=r.bind,h=Object.create,d=function(){},f=function(t){return t instanceof f?t:this instanceof f?void(this._wrapped=t):new f(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):t._=f,f.VERSION="1.8.3";var m=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},g=function(t,e,n){return null==t?f.identity:f.isFunction(t)?m(t,e,n):f.isObject(t)?f.matcher(t):f.property(t)};f.iteratee=function(t,e){return g(t,e,1/0)};var v=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},y=function(t){if(!f.isObject(t))return{};if(h)return h(t);d.prototype=t;var e=new d;return d.prototype=null,e},b=function(t){return function(e){return null==e?void 0:e[t]}},_=Math.pow(2,53)-1,q=b("length"),S=function(t){var e=q(t);return"number"==typeof e&&e>=0&&e<=_};function x(t){return function(e,n,i,r){n=m(n,r,4);var o=!S(e)&&f.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(i=e[o?o[a]:a],a+=t),function(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}(e,n,i,o,a,s)}}f.each=f.forEach=function(t,e,n){var i,r;if(e=m(e,n),S(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=f.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},f.map=f.collect=function(t,e,n){e=g(e,n);for(var i=!S(t)&&f.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},f.reduce=f.foldl=f.inject=x(1),f.reduceRight=f.foldr=x(-1),f.find=f.detect=function(t,e,n){var i;if(void 0!==(i=S(t)?f.findIndex(t,e,n):f.findKey(t,e,n))&&-1!==i)return t[i]},f.filter=f.select=function(t,e,n){var i=[];return e=g(e,n),f.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},f.reject=function(t,e,n){return f.filter(t,f.negate(g(e)),n)},f.every=f.all=function(t,e,n){e=g(e,n);for(var i=!S(t)&&f.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},f.some=f.any=function(t,e,n){e=g(e,n);for(var i=!S(t)&&f.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},f.contains=f.includes=f.include=function(t,e,n,i){return S(t)||(t=f.values(t)),("number"!=typeof n||i)&&(n=0),f.indexOf(t,e,n)>=0},f.invoke=function(t,e){var n=s.call(arguments,2),i=f.isFunction(e);return f.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},f.pluck=function(t,e){return f.map(t,f.property(e))},f.where=function(t,e){return f.filter(t,f.matcher(e))},f.findWhere=function(t,e){return f.find(t,f.matcher(e))},f.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:f.values(t)).length;a<l;a++)(i=t[a])>o&&(o=i);else e=g(e,n),f.each(t,function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},f.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:f.values(t)).length;a<l;a++)(i=t[a])<o&&(o=i);else e=g(e,n),f.each(t,function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},f.shuffle=function(t){for(var e,n=S(t)?t:f.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=f.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},f.sample=function(t,e,n){return null==e||n?(S(t)||(t=f.values(t)),t[f.random(t.length-1)]):f.shuffle(t).slice(0,Math.max(0,e))},f.sortBy=function(t,e,n){return e=g(e,n),f.pluck(f.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var w=function(t){return function(e,n,i){var r={};return n=g(n,i),f.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};f.groupBy=w(function(t,e,n){f.has(t,n)?t[n].push(e):t[n]=[e]}),f.indexBy=w(function(t,e,n){t[n]=e}),f.countBy=w(function(t,e,n){f.has(t,n)?t[n]++:t[n]=1}),f.toArray=function(t){return t?f.isArray(t)?s.call(t):S(t)?f.map(t,f.identity):f.values(t):[]},f.size=function(t){return null==t?0:S(t)?t.length:f.keys(t).length},f.partition=function(t,e,n){e=g(e,n);var i=[],r=[];return f.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},f.first=f.head=f.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:f.initial(t,t.length-e)},f.initial=function(t,e,n){return s.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},f.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:f.rest(t,Math.max(0,t.length-e))},f.rest=f.tail=f.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},f.compact=function(t){return f.filter(t,f.identity)};var k=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=q(t);s<a;s++){var l=t[s];if(S(l)&&(f.isArray(l)||f.isArguments(l))){e||(l=k(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};function D(t){return function(e,n,i){n=g(n,i);for(var r=q(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function C(t,e,n){return function(i,r,o){var a=0,l=q(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(s.call(i,a,l),f.isNaN))>=0?o+a:-1;for(o=t>0?a:l-1;o>=0&&o<l;o+=t)if(i[o]===r)return o;return-1}}f.flatten=function(t,e){return k(t,e,!1)},f.without=function(t){return f.difference(t,s.call(arguments,1))},f.uniq=f.unique=function(t,e,n,i){f.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=g(n,i));for(var r=[],o=[],s=0,a=q(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?f.contains(o,u)||(o.push(u),r.push(l)):f.contains(r,l)||r.push(l)}return r},f.union=function(){return f.uniq(k(arguments,!0,!0))},f.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=q(t);i<r;i++){var o=t[i];if(!f.contains(e,o)){for(var s=1;s<n&&f.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},f.difference=function(t){var e=k(arguments,!0,!0,1);return f.filter(t,function(t){return!f.contains(e,t)})},f.zip=function(){return f.unzip(arguments)},f.unzip=function(t){for(var e=t&&f.max(t,q).length||0,n=Array(e),i=0;i<e;i++)n[i]=f.pluck(t,i);return n},f.object=function(t,e){for(var n={},i=0,r=q(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},f.findIndex=D(1),f.findLastIndex=D(-1),f.sortedIndex=function(t,e,n,i){for(var r=(n=g(n,i,1))(e),o=0,s=q(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},f.indexOf=C(1,f.findIndex,f.sortedIndex),f.lastIndexOf=C(-1,f.findLastIndex),f.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var T=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=y(t.prototype),s=t.apply(o,r);return f.isObject(s)?s:o};f.bind=function(t,e){if(p&&t.bind===p)return p.apply(t,s.call(arguments,1));if(!f.isFunction(t))throw new TypeError("Bind must be called on a function");var n=s.call(arguments,2),i=function(){return T(t,i,e,this,n.concat(s.call(arguments)))};return i},f.partial=function(t){var e=s.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===f?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return T(t,n,this,this,o)};return n},f.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=f.bind(t[n],t);return t},f.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return f.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},f.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},f.defer=f.partial(f.delay,f,1),f.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:f.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=f.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return i=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,c)),o}},f.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var u=f.now()-s;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=f.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},f.wrap=function(t,e){return f.partial(e,t)},f.negate=function(t){return function(){return!t.apply(this,arguments)}},f.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},f.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},f.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},f.once=f.partial(f.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function E(t,e){var n=P.length,r=t.constructor,o=f.isFunction(r)&&r.prototype||i,s="constructor";for(f.has(t,s)&&!f.contains(e,s)&&e.push(s);n--;)(s=P[n])in t&&t[s]!==o[s]&&!f.contains(e,s)&&e.push(s)}f.keys=function(t){if(!f.isObject(t))return[];if(c)return c(t);var e=[];for(var n in t)f.has(t,n)&&e.push(n);return I&&E(t,e),e},f.allKeys=function(t){if(!f.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&E(t,e),e},f.values=function(t){for(var e=f.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},f.mapObject=function(t,e,n){e=g(e,n);for(var i,r=f.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},f.pairs=function(t){for(var e=f.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},f.invert=function(t){for(var e={},n=f.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},f.functions=f.methods=function(t){var e=[];for(var n in t)f.isFunction(t[n])&&e.push(n);return e.sort()},f.extend=v(f.allKeys),f.extendOwn=f.assign=v(f.keys),f.findKey=function(t,e,n){e=g(e,n);for(var i,r=f.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},f.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;f.isFunction(e)?(r=f.allKeys(s),i=m(e,n)):(r=k(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},f.omit=function(t,e,n){if(f.isFunction(e))e=f.negate(e);else{var i=f.map(k(arguments,!1,!1,1),String);e=function(t,e){return!f.contains(i,e)}}return f.pick(t,e,n)},f.defaults=v(f.allKeys,!0),f.create=function(t,e){var n=y(t);return e&&f.extendOwn(n,e),n},f.clone=function(t){return f.isObject(t)?f.isArray(t)?t.slice():f.extend({},t):t},f.tap=function(t,e){return e(t),t},f.isMatch=function(t,e){var n=f.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof f&&(t=t._wrapped),e instanceof f&&(e=e._wrapped);var r=a.call(t);if(r!==a.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!O(t[u],e[u],n,i))return!1}else{var c,p=f.keys(t);if(u=p.length,f.keys(e).length!==u)return!1;for(;u--;)if(c=p[u],!f.has(e,c)||!O(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};f.isEqual=function(t,e){return O(t,e)},f.isEmpty=function(t){return null==t||(S(t)&&(f.isArray(t)||f.isString(t)||f.isArguments(t))?0===t.length:0===f.keys(t).length)},f.isElement=function(t){return!(!t||1!==t.nodeType)},f.isArray=u||function(t){return"[object Array]"===a.call(t)},f.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},f.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){f["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(t){return f.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(f.isFunction=function(t){return"function"==typeof t||!1}),f.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},f.isNaN=function(t){return f.isNumber(t)&&t!==+t},f.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)},f.isNull=function(t){return null===t},f.isUndefined=function(t){return void 0===t},f.has=function(t,e){return null!=t&&l.call(t,e)},f.noConflict=function(){return t._=e,this},f.identity=function(t){return t},f.constant=function(t){return function(){return t}},f.noop=function(){},f.property=b,f.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},f.matcher=f.matches=function(t){return t=f.extendOwn({},t),function(e){return f.isMatch(e,t)}},f.times=function(t,e,n){var i=Array(Math.max(0,t));e=m(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},f.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},f.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=f.invert(F),A=function(t){var e=function(e){return t[e]},n="(?:"+f.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};f.escape=A(F),f.unescape=A(M),f.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),f.isFunction(i)?i.call(t):i};var j=0;f.uniqueId=function(t){var e=++j+"";return t?t+e:e},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,N=function(t){return"\\"+B[t]};f.template=function(t,e,n){!e&&n&&(e=n),e=f.defaults({},e,f.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(R,N),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,f)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},f.chain=function(t){var e=f(t);return e._chain=!0,e};var U=function(t,e){return t._chain?f(e).chain():e};f.mixin=function(t){f.each(f.functions(t),function(e){var n=f[e]=t[e];f.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),U(this,n.apply(f,t))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];f.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],U(this,n)}}),f.each(["concat","join","slice"],function(t){var e=n[t];f.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}.call(this),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Handlebars=e()}(this,function(){var t=function(){"use strict";var t={},e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,i=/[&<>"'`]/;function r(t){return e[t]}t.extend=function(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t};var o,s=Object.prototype.toString;t.toString=s,(o=function(t){return"function"==typeof t})(/x/)&&(o=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),t.isFunction=o;var a=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};return t.isArray=a,t.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},t.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return i.test(t)?t.replace(n,r):t},t.isEmpty=function(t){return!t&&0!==t||!(!a(t)||0!==t.length)},t.blockParams=function(t,e){return t.path=e,t},t.appendContextPath=function(t,e){return(t?t+".":"")+e},t}(),e=function(){"use strict";var t=["description","fileName","lineNumber","message","name","number","stack"];function e(e,n){var i,r,o=n&&n.loc;o&&(e+=" - "+(i=o.start.line)+":"+(r=o.start.column));for(var s=Error.prototype.constructor.call(this,e),a=0;a<t.length;a++)this[t[a]]=s[t[a]];o&&(this.lineNumber=i,this.column=r)}return e.prototype=new Error,e}(),n=function(n,i){"use strict";var r={},o=t,s=e;r.VERSION="3.0.1";r.COMPILER_REVISION=6;r.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var a=o.isArray,l=o.isFunction,u=o.toString;function c(t,e){var n;this.helpers=t||{},this.partials=e||{},(n=this).registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),n.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse,r=e.fn;if(!0===t)return r(this);if(!1===t||null==t)return i(this);if(a(t))return t.length>0?(e.ids&&(e.ids=[e.name]),n.helpers.each(t,e)):i(this);if(e.data&&e.ids){var s=d(e.data);s.contextPath=o.appendContextPath(e.data.contextPath,e.name),e={data:s}}return r(t,e)}),n.registerHelper("each",function(t,e){if(!e)throw new s("Must pass iterator to #each");var n,i,r=e.fn,u=e.inverse,c=0,p="";function h(e,s,a){n&&(n.key=e,n.index=s,n.first=0===s,n.last=!!a,i&&(n.contextPath=i+e)),p+=r(t[e],{data:n,blockParams:o.blockParams([t[e],e],[i+e,null])})}if(e.data&&e.ids&&(i=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),l(t)&&(t=t.call(this)),e.data&&(n=d(e.data)),t&&"object"==typeof t)if(a(t))for(var f=t.length;c<f;c++)h(c,c,c===t.length-1);else{var m;for(var g in t)t.hasOwnProperty(g)&&(m&&h(m,c-1),m=g,c++);m&&h(m,c-1,!0)}return 0===c&&(p=u(this)),p}),n.registerHelper("if",function(t,e){return l(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),n.registerHelper("unless",function(t,e){return n.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),n.registerHelper("with",function(t,e){l(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=d(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),n.registerHelper("log",function(t,e){var i=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;n.log(i,t)}),n.registerHelper("lookup",function(t,e){return t&&t[e]})}r.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:h,registerHelper:function(t,e){if("[object Object]"===u.call(t)){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===u.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new s("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&p.level<=t){var n=p.methodMap[t];(console[n]||console.log).call(console,e)}}};r.logger=p;var h=p.log;r.log=h;var d=function(t){var e=o.extend({},t);return e._parent=t,e};return r.createFrame=d,r}(),i=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},t}(),r=function(n,i,r){"use strict";var o={},s=t,a=e,l=r.COMPILER_REVISION,u=r.REVISION_CHANGES,c=r.createFrame;function p(t,e,n,i,r,o,s){var a=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s&&[e].concat(s))};return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}return o.checkRevision=function(t){var e=t&&t[0]||1;if(e!==l){if(e<l){var n=u[l],i=u[e];throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},o.template=function(t,e){if(!e)throw new a("No environment passed to template");if(!t||!t.main)throw new a("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n={strict:function(t,e){if(!(e in t))throw new a('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:s.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=s.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var l=o.split("\n"),u=0,c=l.length;u<c&&(l[u]||u+1!==c);u++)l[u]=r.indent+l[u];o=l.join("\n")}return o}throw new a("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],s=this.fn(t);return e||r||i||n?o=p(this,t,s,e,n,i,r):o||(o=this.programs[t]=p(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=s.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},i=function(e,r){var o=(r=r||{}).data;i._setup(r),!r.partial&&t.useData&&(o=function(t,e){return e&&"root"in e||((e=e?c(e):{}).root=t),e}(e,o));var s,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=r.depths?[e].concat(r.depths):[e]),t.main.call(n,e,n.helpers,n.partials,o,a,s)};return i.isTop=!0,i._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials):(n.helpers=n.merge(i.helpers,e.helpers),t.usePartial&&(n.partials=n.merge(i.partials,e.partials)))},i._child=function(e,i,r,o){if(t.useBlockParams&&!r)throw new a("must pass block params");if(t.useDepths&&!o)throw new a("must pass parent depths");return p(n,e,t[e],i,0,r,o)},i},o.program=p,o.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t},o.invokePartial=function(t,e,n){if(n.partial=!0,void 0===t)throw new a("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},o.noop=function(){return""},o}(0,0,n),o=function(o,s,a,l,u){"use strict";var c=n,p=i,h=e,d=t,f=r,m=function(){var t=new c.HandlebarsEnvironment;return d.extend(t,c),t.SafeString=p,t.Exception=h,t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=f,t.template=function(e){return f.template(e,t)},t},g=m();g.create=m;var v="undefined"!=typeof global?global:window,y=v.Handlebars;return g.noConflict=function(){v.Handlebars===g&&(v.Handlebars=y)},g.default=g,g}(),s=function(){"use strict";var t={Program:function(t,e,n,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=n},MustacheStatement:function(t,e,n,i,r,o){this.loc=o,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=n,this.escaped=i,this.strip=r},BlockStatement:function(t,e,n,i,r,o,s,a,l){this.loc=l,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=n,this.program=i,this.inverse=r,this.openStrip=o,this.inverseStrip=s,this.closeStrip=a},PartialStatement:function(t,e,n,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=n,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,n){this.loc=n,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,n,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=n},PathExpression:function(t,e,n,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=n,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,n){this.loc=n,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(e){return 1===e.parts.length&&!t.helpers.scopedId(e)&&!e.depth}}};return t}(),a=function(){"use strict";return function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,DATA:77,pathSegments:78,SEP:79,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"DATA",79:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[78,3],[78,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=new i.Program(o[a],null,{},i.locInfo(this._$));break;case 3:case 4:case 5:case 6:case 7:this.$=o[a];break;case 8:this.$=new i.CommentStatement(i.stripComment(o[a]),i.stripFlags(o[a],o[a]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(o[a],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 11:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 12:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 14:case 15:case 16:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 17:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 18:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),u=new i.Program([l],null,{},i.locInfo(this._$));u.chained=!0,this.$={strip:o[a-2].strip,program:u,chain:!0};break;case 19:this.$=o[a];break;case 20:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 21:case 22:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 23:this.$=new i.PartialStatement(o[a-3],o[a-2],o[a-1],i.stripFlags(o[a-4],o[a]),i.locInfo(this._$));break;case 24:case 25:this.$=o[a];break;case 26:this.$=new i.SubExpression(o[a-3],o[a-2],o[a-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(o[a],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(o[a-2],o[a],i.locInfo(this._$));break;case 29:this.$=o[a-1];break;case 30:case 31:this.$=o[a];break;case 32:this.$=new i.StringLiteral(o[a],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(o[a],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(o[a],i.locInfo(this._$));break;case 35:case 36:this.$=o[a];break;case 37:this.$=i.preparePath(!0,o[a],this._$);break;case 38:this.$=i.preparePath(!1,o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 41:this.$=[];break;case 42:o[a-1].push(o[a]);break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 51:this.$=[];break;case 52:o[a-1].push(o[a]);break;case 57:this.$=[];break;case 58:o[a-1].push(o[a]);break;case 63:this.$=[];break;case 64:o[a-1].push(o[a]);break;case 71:this.$=[];break;case 72:o[a-1].push(o[a]);break;case 75:this.$=[];break;case 76:o[a-1].push(o[a]);break;case 79:this.$=[];break;case 80:o[a-1].push(o[a]);break;case 83:this.$=[];break;case 84:o[a-1].push(o[a]);break;case 87:this.$=[o[a]];break;case 88:o[a-1].push(o[a]);break;case 89:this.$=[o[a]];break;case 90:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,41],6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],46:[2,41],49:[2,41],53:[2,41]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,42],13:[2,42],14:[2,42],17:[2,42],27:[2,42],32:[2,42],37:[2,42],42:[2,42],45:[2,42],46:[2,42],49:[2,42],53:[2,42]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:31,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:32,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{4:33,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{12:34,14:[1,18]},{18:36,54:35,58:37,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:39,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:40,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:41,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[2,71],47:42,59:[2,71],66:[2,71],74:[2,71],75:[2,71],76:[2,71],77:[2,71]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34]},{21:[2,38],31:[2,38],52:[2,38],59:[2,38],62:[2,38],66:[2,38],69:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],79:[1,43]},{66:[1,30],78:44},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{50:45,52:[2,75],59:[2,75],66:[2,75],74:[2,75],75:[2,75],76:[2,75],77:[2,75]},{23:46,36:48,37:[1,50],41:49,42:[1,51],43:47,45:[2,47]},{26:52,41:53,42:[1,51],45:[2,49]},{16:[1,54]},{31:[2,79],55:55,59:[2,79],66:[2,79],74:[2,79],75:[2,79],76:[2,79],77:[2,79]},{31:[2,35],59:[2,35],66:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35]},{31:[2,36],59:[2,36],66:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36]},{18:56,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{28:57,31:[2,51],59:[2,51],66:[2,51],69:[2,51],74:[2,51],75:[2,51],76:[2,51],77:[2,51]},{31:[2,57],33:58,59:[2,57],66:[2,57],69:[2,57],74:[2,57],75:[2,57],76:[2,57],77:[2,57]},{19:59,21:[2,43],59:[2,43],66:[2,43],74:[2,43],75:[2,43],76:[2,43],77:[2,43]},{18:63,31:[2,73],48:60,57:61,58:64,59:[1,38],63:62,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{66:[1,68]},{21:[2,37],31:[2,37],52:[2,37],59:[2,37],62:[2,37],66:[2,37],69:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],79:[1,43]},{18:63,51:69,52:[2,77],57:70,58:64,59:[1,38],63:71,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{24:72,45:[1,73]},{45:[2,48]},{4:74,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{45:[2,19]},{18:75,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:76,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{24:77,45:[1,73]},{45:[2,50]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:63,31:[2,81],56:78,57:79,58:64,59:[1,38],63:80,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{59:[2,83],60:81,62:[2,83],66:[2,83],74:[2,83],75:[2,83],76:[2,83],77:[2,83]},{18:63,29:82,31:[2,53],57:83,58:64,59:[1,38],63:84,64:65,65:66,66:[1,67],69:[2,53],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,31:[2,59],34:85,57:86,58:64,59:[1,38],63:87,64:65,65:66,66:[1,67],69:[2,59],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,20:88,21:[2,45],57:89,58:64,59:[1,38],63:90,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[1,91]},{31:[2,72],59:[2,72],66:[2,72],74:[2,72],75:[2,72],76:[2,72],77:[2,72]},{31:[2,74]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:92,66:[1,93],69:[2,27]},{21:[2,87],31:[2,87],52:[2,87],62:[2,87],66:[2,87],69:[2,87]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],67:[1,94],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],79:[2,39]},{52:[1,95]},{52:[2,76],59:[2,76],66:[2,76],74:[2,76],75:[2,76],76:[2,76],77:[2,76]},{52:[2,78]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:96,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{36:48,37:[1,50],41:49,42:[1,51],43:98,44:97,45:[2,69]},{31:[2,63],38:99,59:[2,63],66:[2,63],69:[2,63],74:[2,63],75:[2,63],76:[2,63],77:[2,63]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,100]},{31:[2,80],59:[2,80],66:[2,80],74:[2,80],75:[2,80],76:[2,80],77:[2,80]},{31:[2,82]},{18:63,57:102,58:64,59:[1,38],61:101,62:[2,85],63:103,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{30:104,31:[2,55],68:105,69:[1,106]},{31:[2,52],59:[2,52],66:[2,52],69:[2,52],74:[2,52],75:[2,52],76:[2,52],77:[2,52]},{31:[2,54],69:[2,54]},{31:[2,61],35:107,68:108,69:[1,106]},{31:[2,58],59:[2,58],66:[2,58],69:[2,58],74:[2,58],75:[2,58],76:[2,58],77:[2,58]},{31:[2,60],69:[2,60]},{21:[1,109]},{21:[2,44],59:[2,44],66:[2,44],74:[2,44],75:[2,44],76:[2,44],77:[2,44]},{21:[2,46]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,88],31:[2,88],52:[2,88],62:[2,88],66:[2,88],69:[2,88]},{67:[1,94]},{18:63,57:110,58:64,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,111]},{45:[2,18]},{45:[2,70]},{18:63,31:[2,65],39:112,57:113,58:64,59:[1,38],63:114,64:65,65:66,66:[1,67],69:[2,65],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,115]},{59:[2,84],62:[2,84],66:[2,84],74:[2,84],75:[2,84],76:[2,84],77:[2,84]},{62:[2,86]},{31:[1,116]},{31:[2,56]},{66:[1,118],70:117},{31:[1,119]},{31:[2,62]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,67],40:120,68:121,69:[1,106]},{31:[2,64],59:[2,64],66:[2,64],69:[2,64],74:[2,64],75:[2,64],76:[2,64],77:[2,64]},{31:[2,66],69:[2,66]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,123],71:[1,122]},{66:[2,89],71:[2,89]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,124]},{31:[2,68]},{31:[2,29]},{66:[2,90],71:[2,90]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],47:[2,48],49:[2,19],53:[2,50],62:[2,74],71:[2,78],76:[2,17],80:[2,82],90:[2,46],97:[2,18],98:[2,70],103:[2,86],105:[2,56],108:[2,62],109:[2,11],121:[2,68],122:[2,29]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,d,f,m,g,v,y,b,_,q,S={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==h&&(q=void 0,"number"!=typeof(q=e.lexer.lex()||1)&&(q=e.symbols_[q]||q),h=q),m=o[f]&&o[f][h]),void 0===m||!m.length||!m[0]){var x="";if(!u){for(v in _=[],o[f])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:c,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(m[0]){case 1:n.push(h),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),h=null,d?(h=d,d=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[m[1]][1],S.$=i[i.length-y],S._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},p&&(S._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(S,s,l,a,this.yy,m[1],i,r)))return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(S.$),r.push(S._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:case 24:return 66;case 25:return 79;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 77;case 32:case 33:return 76;case 34:return 75;case 35:return 69;case 36:return 71;case 37:return 66;case 38:return e.yytext=r(1,2),66;case 39:return"INVALID";case 40:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,40],inclusive:!0}}};return t}();function n(){this.yy={}}return t.lexer=e,n.prototype=t,t.Parser=n,new n}()}(),l=function(t,n){"use strict";var i=e,r=s;function o(){this.parents=[]}return o.prototype={constructor:o,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&(!n.type||!r[n.type]))throw new i('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new i(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PartialExpression:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},o}(),u=function(t){"use strict";var e=l;function n(){}function i(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function r(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function o(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function s(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}return n.prototype=new e,n.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,a=0,l=n.length;a<l;a++){var u=n[a],c=this.accept(u);if(c){var p=i(n,a,e),h=r(n,a,e),d=c.openStandalone&&p,f=c.closeStandalone&&h,m=c.inlineStandalone&&p&&h;c.close&&o(n,a,!0),c.open&&s(n,a,!0),m&&(o(n,a),s(n,a)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(n[a-1].original)[1])),d&&(o((u.program||u.inverse).body),s(n,a)),f&&(o(n,a),s((u.inverse||u.program).body))}}return t},n.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,a=n,l=n;if(n&&n.chained)for(a=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:r(e.body),closeStandalone:i((a||e).body)};if(t.openStrip.close&&o(e.body,null,!0),n){var c=t.inverseStrip;c.open&&s(e.body,null,!0),c.close&&o(a.body,null,!0),t.closeStrip.open&&s(l.body,null,!0),i(e.body)&&r(a.body)&&(s(e.body),o(a.body))}else t.closeStrip.open&&s(e.body,null,!0);return u},n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},n}(),c=function(t){"use strict";var n={},i=e;return n.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},n.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},n.stripComment=function(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},n.preparePath=function(t,e,n){n=this.locInfo(n);for(var r=t?"@":"",o=[],s=0,a=0,l=e.length;a<l;a++){var u=e[a].part;if(r+=(e[a].separator||"")+u,".."===u||"."===u||"this"===u){if(o.length>0)throw new i("Invalid path: "+r,{loc:n});".."===u&&s++}else o.push(u)}return new this.PathExpression(t,s,o,r,n)},n.prepareMustache=function(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return new this.MustacheStatement(t,e,n,a,r,this.locInfo(o))},n.prepareRawBlock=function(t,e,n,r){if(t.path.original!==n){var o={loc:t.path.loc};throw new i(t.path.original+" doesn't match "+n,o)}r=this.locInfo(r);var s=new this.Program([e],null,{},r);return new this.BlockStatement(t.path,t.params,t.hash,s,void 0,{},{},{},r)},n.prepareBlock=function(t,e,n,r,o,s){if(r&&r.path&&t.path.original!==r.path.original){var a={loc:t.path.loc};throw new i(t.path.original+" doesn't match "+r.path.original,a)}var l,u;return e.blockParams=t.blockParams,n&&(n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,l=n.program),o&&(o=l,l=e,e=o),new this.BlockStatement(t.path,t.params,t.hash,e,l,t.strip,u,r&&r.strip,this.locInfo(s))},n}();return function(t,e,n,i,r){"use strict";var a=o,l=s,u=n.parser,c=n.parse,p=i.Compiler,h=i.compile,d=i.precompile,f=r,m=a.create,g=function(){var t=m();return t.compile=function(e,n){return h(e,n,t)},t.precompile=function(e,n){return d(e,n,t)},t.AST=l,t.Compiler=p,t.JavaScriptCompiler=f,t.Parser=u,t.parse=c,t};(a=g()).create=g;var v="undefined"!=typeof global?global:window,y=v.Handlebars;return a.noConflict=function(){v.Handlebars===a&&(v.Handlebars=y)},a.default=a,a}(0,0,function(e,n,i,r,o){"use strict";var l={},p=a,h=s,d=u,f=c,m=t.extend;l.parser=p;var g={};return m(g,f,h),l.parse=function(t,e){return"Program"===t.type?t:(p.yy=g,g.locInfo=function(t){return new g.SourceLocation(e&&e.srcName,t)},(new d).accept(p.parse(t)))},l}(),function(t,n,i){"use strict";var r={},o=e,s=n.isArray,a=n.indexOf,l=i,u=[].slice;function c(){}function p(t,e){if(t===e)return!0;if(s(t)&&s(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!p(t[n],e[n]))return!1;return!0}}function h(t){if(!t.path.parts){var e=t.path;t.path=new l.PathExpression(!1,0,[e.original+""],e.original+"",e.loc)}}return r.Compiler=c,c.prototype={compiler:c,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!p(i.args,r.args))return!1}for(e=this.children.length,n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)e.knownHelpers[i]=n[i];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=0,i=e.length;n<i;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){h(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new o("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var n=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,n,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){h(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,s=r.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new o("You specified knownHelpersOnly, but used the unknown helper "+s,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,l.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=l.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},Hash:function(t){var e,n,i=t.pairs;for(this.opcode("pushHash"),e=0,n=i.length;e<n;e++)this.pushParam(i[e].value);for(;e--;)this.opcode("assignToHash",i[e].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=l.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&l.helpers.helperExpression(t),r=!n&&(i||e),o=this.options;if(r&&!i){var s=t.path.parts[0];o.knownHelpers[s]?i=!0:o.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{var n;if(this.trackIds)if(!t.parts||l.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e);this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&a(i,t);if(i&&r>=0)return[e,r]}}},r.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)},r.compile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);var i;function r(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var s=function(t,e){return i||(i=r()),i.call(this,t,e)};return s._setup=function(t){return i||(i=r()),i._setup(t)},s._child=function(t,e,n,o){return i||(i=r()),i._child(t,e,n,o)},s},r}(0,t,s),function(t,e,n,i){"use strict";var r=t.COMPILER_REVISION,o=t.REVISION_CHANGES,s=e,a=n.isArray,l=i;function u(t){this.value=t}function c(){}c.prototype={nameLookup:function(t,e){return c.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){return[r,o[r]]},appendToBuffer:function(t,e,n){return a(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r,o,a,l,u=t.opcodes;for(a=0,l=u.length;a<l;a++)r=u[a],this.source.currentLocation=r.loc,o=o||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s("Compile completed with content left on stack");var c=this.createFunctionContext(i);if(this.isChild)return c;var p={compiler:this.compilerInfo(),main:c},h=this.context.programs;for(a=0,l=h.length;a<l;a++)h[a]&&(p[a]=h[a]);return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),e.srcName?(p=p.toStringWithSourceMap({file:e.destName})).map=p.map&&p.map.toString():p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new l(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e,n,i,r,o=this.environment.isSimple,s=!this.forceBuffer;return this.source.each(function(t){t.appendToBuffer?(i?t.prepend("  + "):i=t,r=t):(i&&(n?i.prepend("buffer += "):e=!0,r.add(";"),i=r=void 0),n=!0,o||(s=!1))}),s?i?(i.prepend("return "),r.add(";")):n||this.source.push('return "";'):(t+=", buffer = "+(e?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(e?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){t?this.pushStackLiteral("this.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,n,i){if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,i){var r=e.popStack(),o=0,s=n.length;t&&s--;for(;o<s;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}(this.options.strict,this,e,t));else for(var r=e.length;n<r;n++)this.replaceStack(function(r){var o=this.nameLookup(r,e[n],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e,n,i,r=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),e=this.popStack());var o=this.hash;e&&(o.contexts[t]=e),n&&(o.types[t]=n),i&&(o.ids[t]=i),o.values[t]=r},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(t,e){for(var n,i,r=t.children,o=0,s=r.length;o<s;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,e,this.context,!this.precompile),this.context.environments[a]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"this.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof u||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new u(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e,n,i,r=["("];if(!this.isInline())throw new s("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof u)r=["(",e=[o.value]],i=!0;else{n=!0;var a=this.incrStack();r=["((",this.push(a)," = ",o,")"],e=this.topStack()}var l=t.call(this,e);i||this.popStack(),n&&this.stackSlot--,this.push(r.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i instanceof u)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof u)return n.value;if(!e){if(!this.stackSlot)throw new s("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof u?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,n){var i,r={},o=[],s=[],a=[];r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var l=this.popStack(),u=this.popStack();(u||l)&&(r.fn=u||"this.noop",r.inverse=l||"this.noop");for(var c=e;c--;)i=this.popStack(),n[c]=i,this.trackIds&&(a[c]=this.popStack()),this.stringParams&&(s[c]=this.popStack(),o[c]=this.popStack());return this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(s),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):(n.push(r),"")}};for(var p="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),h=c.RESERVED_WORDS={},d=0,f=p.length;d<f;d++)h[p[d]]=!0;return c.isValidJavaScriptVariableName=function(t){return!c.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},c}(n,e,t,function(e){"use strict";var n=t.isArray;try{var i=require("source-map").SourceNode}catch(t){(i=function(t,e,n,i){this.src="",i&&this.add(i)}).prototype={add:function(t){n(t)&&(t=t.join("")),this.src+=t},prepend:function(t){n(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}}function r(t,e,i){if(n(t)){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e.wrap(t[o],i));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}return o.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(t){return t=t||this.currentLocation||{start:{}},new i(t.start.line,t.start.column,this.srcFile)},wrap:function(t,e){return t instanceof i?t:(t=r(t,this,e=e||this.currentLocation||{start:{}}),new i(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=r(t[n],this);"undefined"!==i&&e.push([this.quotedString(n),":",i])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t,e){for(var n=this.empty(e),i=0,o=t.length;i<o;i++)i&&n.add(","),n.add(r(t[i],this,e));return n},generateArray:function(t,e){var n=this.generateList(t,e);return n.prepend("["),n.add("]"),n}},o}()))}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,i){return Bt(t,e,n,i,!0).utc()}function a(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function l(t){if(null==t._isValid){var e=a(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=s(NaN);return null!=t?o(a(e),t):a(e).userInvalidated=!0,e}var c=e.momentProperties=[];function p(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=a(e)),void 0!==e._locale&&(t._locale=e._locale),c.length>0)for(n in c)void 0!==(r=e[i=c[n]])&&(t[i]=r);return t}var h=!1;function d(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===h&&(h=!0,e.updateOffset(this),h=!1)}function f(t){return t instanceof d||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function v(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&g(t[i])!==g(e[i]))&&s++;return s+o}function y(){}var b,_={};function q(t){return t?t.toLowerCase().replace("_","-"):t}function S(t){var e=null;if(!_[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=b._abbr,require("./locale/"+t),x(e)}catch(t){}return _[t]}function x(t,e){var n;return t&&(n=void 0===e?k(t):w(t,e))&&(b=n),b._abbr}function w(t,e){return null!==e?(e.abbr=t,_[t]=_[t]||new y,_[t].set(e),x(t),_[t]):(delete _[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return b;if(!n(t)){if(e=S(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=q(t[o]).split("-")).length,n=(n=q(t[o+1]))?n.split("-"):null;e>0;){if(i=S(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&v(r,n,!0)>=e-1)break;e--}o++}return null}(t)}var D={};function C(t,e){var n=t.toLowerCase();D[n]=D[n+"s"]=D[e]=t}function T(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)r(t,n)&&(e=T(n))&&(i[e]=t[n]);return i}function P(t,n){return function(i){return null!=i?(O(this,t,i),e.updateOffset(this,n),this):E(this,t)}}function E(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function O(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function F(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if("function"==typeof this[t=T(t)])return this[t](e);return this}function M(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var A=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},B={};function R(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(B[t]=r),e&&(B[e[0]]=function(){return M(r.apply(this,arguments),e[1],e[2])}),n&&(B[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=U(e,t.localeData()),L[e]=L[e]||function(t){var e,n,i,r=t.match(A);for(e=0,n=r.length;e<n;e++)B[r[e]]?r[e]=B[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e),L[e](t)):t.localeData().invalidDate()}function U(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;n>=0&&j.test(t);)t=t.replace(j,i),j.lastIndex=0,n-=1;return t}var H=/\d/,z=/\d\d/,Y=/\d{3}/,W=/\d{4}/,$=/[+-]?\d{6}/,V=/\d\d?/,G=/\d{1,3}/,Q=/\d{1,4}/,X=/[+-]?\d{1,6}/,Z=/\d+/,K=/[+-]?\d+/,J=/Z|[+-]\d\d:?\d\d/gi,tt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,et={};function nt(t,e,n){var i;et[t]="function"==typeof(i=e)&&"[object Function]"===Object.prototype.toString.call(i)?e:function(t){return t&&n?n:e}}function it(t,e){return r(et,t)?et[t](e._strict,e._locale):new RegExp(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}var rt={};function ot(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)rt[t[n]]=i}function st(t,e){ot(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function at(t,e,n){null!=e&&r(rt,t)&&rt[t](e,n._a,n,t)}var lt=0,ut=1,ct=2,pt=3,ht=4,dt=5,ft=6;function mt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),nt("M",V),nt("MM",V,z),nt("MMM",tt),nt("MMMM",tt),ot(["M","MM"],function(t,e){e[ut]=g(t)-1}),ot(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ut]=r:a(n).invalidMonth=t});var gt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function yt(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),mt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function bt(t){return null!=t?(yt(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function _t(t){var e,n=t._a;return n&&-2===a(t).overflow&&(e=n[ut]<0||n[ut]>11?ut:n[ct]<1||n[ct]>mt(n[lt],n[ut])?ct:n[pt]<0||n[pt]>24||24===n[pt]&&(0!==n[ht]||0!==n[dt]||0!==n[ft])?pt:n[ht]<0||n[ht]>59?ht:n[dt]<0||n[dt]>59?dt:n[ft]<0||n[ft]>999?ft:-1,a(t)._overflowDayOfYear&&(e<lt||e>ct)&&(e=ct),a(t).overflow=e),t}function qt(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function St(t,e){var n=!0;return o(function(){return n&&(qt(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}var xt={};e.suppressDeprecationWarnings=!1;var wt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Dt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ct=/^\/?Date\((\-?\d+)/i;function Tt(t){var e,n,i=t._i,r=wt.exec(i);if(r){for(a(t).iso=!0,e=0,n=kt.length;e<n;e++)if(kt[e][1].exec(i)){t._f=kt[e][0];break}for(e=0,n=Dt.length;e<n;e++)if(Dt[e][1].exec(i)){t._f+=(r[6]||" ")+Dt[e][0];break}i.match(J)&&(t._f+="Z"),jt(t)}else t._isValid=!1}function It(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Pt(t){return Et(t)?366:365}function Et(t){return t%4==0&&t%100!=0||t%400==0}e.createFromInputFallback=St("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),C("year","y"),nt("Y",K),nt("YY",V,z),nt("YYYY",Q,W),nt("YYYYY",X,$),nt("YYYYYY",X,$),ot(["YYYYY","YYYYYY"],lt),ot("YYYY",function(t,n){n[lt]=2===t.length?e.parseTwoDigitYear(t):g(t)}),ot("YY",function(t,n){n[lt]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var Ot=P("FullYear",!1);function Ft(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),o<r-7&&(o+=7),i=Rt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),nt("w",V),nt("ww",V,z),nt("W",V),nt("WW",V,z),st(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=g(t)});function Mt(t,e,n){return null!=t?t:null!=e?e:n}function At(t){var e,n,i,r,o=[];if(!t._d){for(i=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[ct]&&null==t._a[ut]&&function(t){var e,n,i,r,o,s,a;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=Mt(e.GG,t._a[lt],Ft(Rt(),1,4).year),i=Mt(e.W,1),r=Mt(e.E,1)):(o=t._locale._week.dow,s=t._locale._week.doy,n=Mt(e.gg,t._a[lt],Ft(Rt(),o,s).year),i=Mt(e.w,1),null!=e.d?(r=e.d)<o&&++i:r=null!=e.e?e.e+o:o);a=function(t,e,n,i,r){var o,s=6+r-i,a=It(t,0,1+s).getUTCDay();return a<r&&(a+=7),{year:(o=1+s+7*(e-1)-a+(n=null!=n?1*n:r))>0?t:t-1,dayOfYear:o>0?o:Pt(t-1)+o}}(n,i,r,s,o),t._a[lt]=a.year,t._dayOfYear=a.dayOfYear}(t),t._dayOfYear&&(r=Mt(t._a[lt],i[lt]),t._dayOfYear>Pt(r)&&(a(t)._overflowDayOfYear=!0),n=It(r,0,t._dayOfYear),t._a[ut]=n.getUTCMonth(),t._a[ct]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pt]&&0===t._a[ht]&&0===t._a[dt]&&0===t._a[ft]&&(t._nextDay=!0,t._a[pt]=0),t._d=(t._useUTC?It:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<1970&&a.setFullYear(t),a}).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pt]=24)}}function jt(t){if(t._f!==e.ISO_8601){t._a=[],a(t).empty=!0;var n,i,r,o,s,l=""+t._i,u=l.length,c=0;for(r=U(t._f,t._locale).match(A)||[],n=0;n<r.length;n++)o=r[n],(i=(l.match(it(o,t))||[])[0])&&((s=l.substr(0,l.indexOf(i))).length>0&&a(t).unusedInput.push(s),l=l.slice(l.indexOf(i)+i.length),c+=i.length),B[o]?(i?a(t).empty=!1:a(t).unusedTokens.push(o),at(o,i,t)):t._strict&&!i&&a(t).unusedTokens.push(o);a(t).charsLeftOver=u-c,l.length>0&&a(t).unusedInput.push(l),!0===a(t).bigHour&&t._a[pt]<=12&&t._a[pt]>0&&(a(t).bigHour=void 0),t._a[pt]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[pt],t._meridiem),At(t),_t(t)}else Tt(t)}function Lt(t){var r=t._i,s=t._f;return t._locale=t._locale||k(t._l),null===r||void 0===s&&""===r?u({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),f(r)?new d(_t(r)):(n(s)?function(t){var e,n,i,r,s;if(0===t._f.length)return a(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],jt(e),l(e)&&(s+=a(e).charsLeftOver,s+=10*a(e).unusedTokens.length,a(e).score=s,(null==i||s<i)&&(i=s,n=e));o(t,n||e)}(t):s?jt(t):i(r)?t._d=r:function(t){var r=t._i;void 0===r?t._d=new Date:i(r)?t._d=new Date(+r):"string"==typeof r?function(t){var n=Ct.exec(t._i);null===n?(Tt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))):t._d=new Date(+n[1])}(t):n(r)?(t._a=function(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}(r.slice(0),function(t){return parseInt(t,10)}),At(t)):"object"==typeof r?function(t){if(!t._d){var e=I(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],At(t)}}(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}(t),t))}function Bt(t,e,n,i,r){var o,s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,(o=new d(_t(Lt(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Rt(t,e,n,i){return Bt(t,e,n,i,!1)}R("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),nt("DDD",G),nt("DDDD",Y),ot(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),e.ISO_8601=function(){};var Nt=St("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return t<this?this:t}),Ut=St("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return t>this?this:t});function Ht(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Rt();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function zt(t){var e=I(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=k(),this._bubble()}function Yt(t){return t instanceof zt}function Wt(t,e){R(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)})}Wt("Z",":"),Wt("ZZ",""),nt("Z",J),nt("ZZ",J),ot(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Vt(t)});var $t=/([\+\-]|\d\d)/gi;function Vt(t){var e=(t||"").match(J)||[],n=((e[e.length-1]||[])+"").match($t)||["-",0,0],i=60*n[1]+g(n[2]);return"+"===n[0]?i:-i}function Gt(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(f(t)||i(t)?+t:+Rt(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):Rt(t).local()}function Qt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(){return this._isUTC&&0===this._offset}e.updateOffset=function(){};var Zt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Kt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Jt(t,e){var n,i,o,s=t,a=null;return Yt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Zt.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:g(a[ct])*n,h:g(a[pt])*n,m:g(a[ht])*n,s:g(a[dt])*n,ms:g(a[ft])*n}):(a=Kt.exec(t))?(n="-"===a[1]?-1:1,s={y:te(a[2],n),M:te(a[3],n),d:te(a[4],n),h:te(a[5],n),m:te(a[6],n),s:te(a[7],n),w:te(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=function(t,e){var n;e=Gt(e,t),t.isBefore(e)?n=ee(t,e):((n=ee(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Rt(s.from),Rt(s.to)),(s={}).ms=o.milliseconds,s.M=o.months),i=new zt(s),Yt(t)&&r(t,"_locale")&&(i._locale=t._locale),i}function te(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ee(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ne(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(!function(t,e){xt[t]||(qt(e),xt[t]=!0)}(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),ie(this,Jt(n="string"==typeof n?+n:n,i),t),this}}function ie(t,n,i,r){var o=n._milliseconds,s=n._days,a=n._months;r=null==r||r,o&&t._d.setTime(+t._d+o*i),s&&O(t,"Date",E(t,"Date")+s*i),a&&yt(t,E(t,"Month")+a*i),r&&e.updateOffset(t,s||a)}Jt.fn=zt.prototype;var re=ne(1,"add"),oe=ne(-1,"subtract");function se(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ae(t){var e;return void 0===t?this._locale._abbr:(null!=(e=k(t))&&(this._locale=e),this)}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var le=St("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ue(){return this._locale}function ce(t,e){R(0,[t,t.length],0,e)}function pe(t,e,n){return Ft(Rt([t,11,31+e-n]),e,n).week}R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ce("gggg","weekYear"),ce("ggggg","weekYear"),ce("GGGG","isoWeekYear"),ce("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),nt("G",K),nt("g",K),nt("GG",V,z),nt("gg",V,z),nt("GGGG",Q,W),nt("gggg",Q,W),nt("GGGGG",X,$),nt("ggggg",X,$),st(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=g(t)}),st(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),R("Q",0,0,"quarter"),C("quarter","Q"),nt("Q",H),ot("Q",function(t,e){e[ut]=3*(g(t)-1)}),R("D",["DD",2],"Do","date"),C("date","D"),nt("D",V),nt("DD",V,z),nt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),ot(["D","DD"],ct),ot("Do",function(t,e){e[ct]=g(t.match(V)[0])});var he=P("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),nt("d",V),nt("e",V),nt("E",V),nt("dd",tt),nt("ddd",tt),nt("dddd",tt),st(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:a(n).invalidWeekday=t}),st(["d","e","E"],function(t,e,n,i){e[i]=g(t)});var de="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var me="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ge(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ve(t,e){return e._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,function(){return this.hours()%12||12}),ge("a",!0),ge("A",!1),C("hour","h"),nt("a",ve),nt("A",ve),nt("H",V),nt("h",V),nt("HH",V,z),nt("hh",V,z),ot(["H","HH"],pt),ot(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ot(["h","hh"],function(t,e,n){e[pt]=g(t),a(n).bigHour=!0});var ye=P("Hours",!0);R("m",["mm",2],0,"minute"),C("minute","m"),nt("m",V),nt("mm",V,z),ot(["m","mm"],ht);var be=P("Minutes",!1);R("s",["ss",2],0,"second"),C("second","s"),nt("s",V),nt("ss",V,z),ot(["s","ss"],dt);var _e,qe=P("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),nt("S",G,H),nt("SS",G,z),nt("SSS",G,Y),_e="SSSS";_e.length<=9;_e+="S")nt(_e,Z);function Se(t,e){e[ft]=g(1e3*("0."+t))}for(_e="S";_e.length<=9;_e+="S")ot(_e,Se);var xe=P("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var we=d.prototype;we.add=re,we.calendar=function(t,e){var n=t||Rt(),i=Gt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Rt(n)))},we.clone=function(){return new d(this)},we.diff=function(t,e,n){var i,r,o=Gt(t,this),s=6e4*(o.utcOffset()-this.utcOffset());return"year"===(e=T(e))||"month"===e||"quarter"===e?(a=this,l=o,p=12*(l.year()-a.year())+(l.month()-a.month()),h=a.clone().add(p,"months"),l-h<0?(u=a.clone().add(p-1,"months"),c=(l-h)/(h-u)):(u=a.clone().add(p+1,"months"),c=(l-h)/(u-h)),r=-(p+c),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:m(r);var a,l,u,c,p,h},we.endOf=function(t){return void 0===(t=T(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},we.format=function(t){var n=N(this,t||e.defaultFormat);return this.localeData().postformat(n)},we.from=function(t,e){return this.isValid()?Jt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},we.fromNow=function(t){return this.from(Rt(),t)},we.to=function(t,e){return this.isValid()?Jt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},we.toNow=function(t){return this.to(Rt(),t)},we.get=F,we.invalidAt=function(){return a(this).overflow},we.isAfter=function(t,e){return"millisecond"===(e=T(void 0!==e?e:"millisecond"))?+this>+(t=f(t)?t:Rt(t)):(f(t)?+t:+Rt(t))<+this.clone().startOf(e)},we.isBefore=function(t,e){var n;return"millisecond"===(e=T(void 0!==e?e:"millisecond"))?+this<+(t=f(t)?t:Rt(t)):(n=f(t)?+t:+Rt(t),+this.clone().endOf(e)<n)},we.isBetween=function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},we.isSame=function(t,e){var n;return"millisecond"===(e=T(e||"millisecond"))?+this==+(t=f(t)?t:Rt(t)):(n=+Rt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},we.isValid=function(){return l(this)},we.lang=le,we.locale=ae,we.localeData=ue,we.max=Ut,we.min=Nt,we.parsingFlags=function(){return o({},a(this))},we.set=F,we.startOf=function(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},we.subtract=oe,we.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},we.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},we.toDate=function(){return this._offset?new Date(+this):this._d},we.toISOString=se,we.toJSON=se,we.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},we.unix=function(){return Math.floor(+this/1e3)},we.valueOf=function(){return+this._d-6e4*(this._offset||0)},we.year=Ot,we.isLeapYear=function(){return Et(this.year())},we.weekYear=function(t){var e=Ft(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},we.isoWeekYear=function(t){var e=Ft(this,1,4).year;return null==t?e:this.add(t-e,"y")},we.quarter=we.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},we.month=bt,we.daysInMonth=function(){return mt(this.year(),this.month())},we.week=we.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},we.isoWeek=we.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},we.weeksInYear=function(){var t=this.localeData()._week;return pe(this.year(),t.dow,t.doy)},we.isoWeeksInYear=function(){return pe(this.year(),1,4)},we.date=he,we.day=we.days=function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},we.weekday=function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},we.isoWeekday=function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},we.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},we.hour=we.hours=ye,we.minute=we.minutes=be,we.second=we.seconds=qe,we.millisecond=we.milliseconds=xe,we.utcOffset=function(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Vt(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(i=Qt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?ie(this,Jt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Qt(this)},we.utc=function(t){return this.utcOffset(0,t)},we.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Qt(this),"m")),this},we.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Vt(this._i)),this},we.hasAlignedHourOffset=function(t){return t=t?Rt(t).utcOffset():0,(this.utcOffset()-t)%60==0},we.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},we.isDSTShifted=function(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var t={};if(p(t,this),(t=Lt(t))._a){var e=t._isUTC?s(t._a):Rt(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},we.isLocal=function(){return!this._isUTC},we.isUtcOffset=function(){return this._isUTC},we.isUtc=Xt,we.isUTC=Xt,we.zoneAbbr=function(){return this._isUTC?"UTC":""},we.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},we.dates=St("dates accessor is deprecated. Use date instead.",he),we.months=St("months accessor is deprecated. Use month instead",bt),we.years=St("years accessor is deprecated. Use year instead",Ot),we.zone=St("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var ke=we;function De(t){return t}var Ce=y.prototype;function Te(t,e,n,i){var r=k(),o=s().set(i,e);return r[n](o,t)}function Ie(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Te(t,e,n,r);var o,s=[];for(o=0;o<i;o++)s[o]=Te(t,o,n,r);return s}Ce._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ce.calendar=function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i},Ce._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ce.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Ce._invalidDate="Invalid date",Ce.invalidDate=function(){return this._invalidDate},Ce._ordinal="%d",Ce.ordinal=function(t){return this._ordinal.replace("%d",t)},Ce._ordinalParse=/\d{1,2}/,Ce.preparse=De,Ce.postformat=De,Ce._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ce.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},Ce.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},Ce.set=function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Ce.months=function(t){return this._months[t.month()]},Ce._months=gt,Ce.monthsShort=function(t){return this._monthsShort[t.month()]},Ce._monthsShort=vt,Ce.monthsParse=function(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},Ce.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},Ce._week={dow:0,doy:6},Ce.firstDayOfYear=function(){return this._week.doy},Ce.firstDayOfWeek=function(){return this._week.dow},Ce.weekdays=function(t){return this._weekdays[t.day()]},Ce._weekdays=de,Ce.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},Ce._weekdaysMin=me,Ce.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},Ce._weekdaysShort=fe,Ce.weekdaysParse=function(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Rt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},Ce.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Ce._meridiemParse=/[ap]\.?m?\.?/i,Ce.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=St("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=St("moment.langData is deprecated. Use moment.localeData instead.",k);var Pe=Math.abs;function Ee(t,e,n,i){var r=Jt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Oe(t){return t<0?Math.floor(t):Math.ceil(t)}function Fe(t){return 4800*t/146097}function Me(t){return 146097*t/4800}function Ae(t){return function(){return this.as(t)}}var je=Ae("ms"),Le=Ae("s"),Be=Ae("m"),Re=Ae("h"),Ne=Ae("d"),Ue=Ae("w"),He=Ae("M"),ze=Ae("y");function Ye(t){return function(){return this._data[t]}}var We=Ye("milliseconds"),$e=Ye("seconds"),Ve=Ye("minutes"),Ge=Ye("hours"),Qe=Ye("days"),Xe=Ye("months"),Ze=Ye("years");var Ke=Math.round,Je={s:45,m:45,h:22,d:26,M:11};var tn=Math.abs;function en(){var t,e,n=tn(this._milliseconds)/1e3,i=tn(this._days),r=tn(this._months);t=m(n/60),e=m(t/60),n%=60,t%=60;var o=m(r/12),s=r%=12,a=i,l=e,u=t,c=n,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var nn=zt.prototype;return nn.abs=function(){var t=this._data;return this._milliseconds=Pe(this._milliseconds),this._days=Pe(this._days),this._months=Pe(this._months),t.milliseconds=Pe(t.milliseconds),t.seconds=Pe(t.seconds),t.minutes=Pe(t.minutes),t.hours=Pe(t.hours),t.months=Pe(t.months),t.years=Pe(t.years),this},nn.add=function(t,e){return Ee(this,t,e,1)},nn.subtract=function(t,e){return Ee(this,t,e,-1)},nn.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=T(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Fe(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Me(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},nn.asMilliseconds=je,nn.asSeconds=Le,nn.asMinutes=Be,nn.asHours=Re,nn.asDays=Ne,nn.asWeeks=Ue,nn.asMonths=He,nn.asYears=ze,nn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},nn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Oe(Me(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,s+=m(n/24),a+=r=m(Fe(s)),s-=Oe(Me(r)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},nn.get=function(t){return this[(t=T(t))+"s"]()},nn.milliseconds=We,nn.seconds=$e,nn.minutes=Ve,nn.hours=Ge,nn.days=Qe,nn.weeks=function(){return m(this.days()/7)},nn.months=Xe,nn.years=Ze,nn.humanize=function(t){var e=this.localeData(),n=function(t,e,n){var i=Jt(t).abs(),r=Ke(i.as("s")),o=Ke(i.as("m")),s=Ke(i.as("h")),a=Ke(i.as("d")),l=Ke(i.as("M")),u=Ke(i.as("y")),c=r<Je.s&&["s",r]||1===o&&["m"]||o<Je.m&&["mm",o]||1===s&&["h"]||s<Je.h&&["hh",s]||1===a&&["d"]||a<Je.d&&["dd",a]||1===l&&["M"]||l<Je.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},nn.toISOString=en,nn.toString=en,nn.toJSON=en,nn.locale=ae,nn.localeData=ue,nn.toIsoString=St("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",en),nn.lang=le,R("X",0,0,"unix"),R("x",0,0,"valueOf"),nt("x",K),nt("X",/[+-]?\d+(\.\d{1,3})?/),ot("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ot("x",function(t,e,n){n._d=new Date(g(t))}),e.version="2.10.6",t=Rt,e.fn=ke,e.min=function(){return Ht("isBefore",[].slice.call(arguments,0))},e.max=function(){return Ht("isAfter",[].slice.call(arguments,0))},e.utc=s,e.unix=function(t){return Rt(1e3*t)},e.months=function(t,e){return Ie(t,e,"months",12,"month")},e.isDate=i,e.locale=x,e.invalid=u,e.duration=Jt,e.isMoment=f,e.weekdays=function(t,e){return Ie(t,e,"weekdays",7,"day")},e.parseZone=function(){return Rt.apply(null,arguments).parseZone()},e.localeData=k,e.isDuration=Yt,e.monthsShort=function(t,e){return Ie(t,e,"monthsShort",12,"month")},e.weekdaysMin=function(t,e){return Ie(t,e,"weekdaysMin",7,"day")},e.defineLocale=w,e.weekdaysShort=function(t,e){return Ie(t,e,"weekdaysShort",7,"day")},e.normalizeUnits=T,e.relativeTimeThreshold=function(t,e){return void 0!==Je[t]&&(void 0===e?Je[t]:(Je[t]=e,!0))},e});;
/* Minification failed for ~/Scripts/build/designjs.min.js, line number 1: invalid property id */
(function(){"use strict";var e=this,t=e.Chart,i=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},i=this.width=t(e.canvas,"Width"),n=this.height=t(e.canvas,"Height");return e.canvas.width=i,e.canvas.height=n,this.aspectRatio=this.width/this.height,s.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var n,o,s=i.helpers={},a=s.each=function(e,t,i){var n,o=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length)for(n=0;n<e.length;n++)t.apply(i,[e[n],n].concat(o));else for(var s in e)t.apply(i,[e[s],s].concat(o))},r=s.clone=function(e){var t={};return a(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)}),t},l=s.extend=function(e){return a(Array.prototype.slice.call(arguments,1),function(t){a(t,function(i,n){t.hasOwnProperty(n)&&(e[n]=i)})}),e},c=s.merge=function(e,t){var i=Array.prototype.slice.call(arguments,0);return i.unshift({}),l.apply(null,i)},d=s.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},u=(s.where=function(e,t){var i=[];return s.each(e,function(e){t(e)&&i.push(e)}),i},s.findNextWhere=function(e,t,i){i||(i=-1);for(var n=i+1;n<e.length;n++){var o=e[n];if(t(o))return o}},s.findPreviousWhere=function(e,t,i){i||(i=e.length);for(var n=i-1;n>=0;n--){var o=e[n];if(t(o))return o}},s.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=t.prototype,i.prototype=new n,i.extend=u,e&&l(i.prototype,e),i.__super__=t.prototype,i}),h=s.noop=function(){},f=s.uid=(n=0,function(){return"chart-"+n++}),p=s.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},m=s.amd="function"==typeof define&&define.amd,g=s.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=s.max=function(e){return Math.max.apply(Math,e)},b=s.min=function(e){return Math.min.apply(Math,e)},y=(s.cap=function(e,t,i){if(g(t)){if(e>t)return t}else if(g(i)&&e<i)return i;return e},s.getDecimalPlaces=function(e){return e%1!=0&&g(e)?e.toString().split(".")[1].length:0}),w=s.radians=function(e){return e*(Math.PI/180)},x=(s.getAngleFromPoint=function(e,t){var i=t.x-e.x,n=t.y-e.y,o=Math.sqrt(i*i+n*n),s=2*Math.PI+Math.atan2(n,i);return i<0&&n<0&&(s+=2*Math.PI),{angle:s,distance:o}},s.aliasPixel=function(e){return e%2==0?0:.5}),C=(s.splineCurve=function(e,t,i,n){var o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),a=n*o/(o+s),r=n*s/(o+s);return{inner:{x:t.x-a*(i.x-e.x),y:t.y-a*(i.y-e.y)},outer:{x:t.x+r*(i.x-e.x),y:t.y+r*(i.y-e.y)}}},s.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),k=(s.calculateScaleRange=function(e,t,i,n,o){var s=Math.floor(t/(1.5*i)),a=2>=s,r=v(e),l=b(e);r===l&&(r+=.5,l>=.5&&!n?l-=.5:r+=.5);for(var c=Math.abs(r-l),d=C(c),u=Math.ceil(r/(1*Math.pow(10,d)))*Math.pow(10,d),h=n?0:Math.floor(l/(1*Math.pow(10,d)))*Math.pow(10,d),f=u-h,p=Math.pow(10,d),m=Math.round(f/p);(m>s||2*m<s)&&!a;)if(m>s)p*=2,(m=Math.round(f/p))%1!=0&&(a=!0);else if(o&&d>=0){if(p/2%1!=0)break;p/=2,m=Math.round(f/p)}else p/=2,m=Math.round(f/p);return a&&(p=f/(m=2)),{steps:m,stepValue:p,min:h,max:h+m*p}},s.template=function(e,t){if(e instanceof Function)return e(t);var i,n,o,s={};return n=t,o=/\W/.test(i=e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[i]=s[i],n?o(n):o}),_=(s.generateLabels=function(e,t,i,n){var o=new Array(t);return labelTemplateString&&a(o,function(t,s){o[s]=k(e,{value:i+n*(s+1)})}),o},s.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i))},easeOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:2==(e/=.5)?1:(i||(i=.3*1.5*1),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-_.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*_.easeInBounce(2*e):.5*_.easeOutBounce(2*e-1)+.5}}),S=s.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},T=(s.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)},s.animationLoop=function(e,t,i,n,o,s){var a=0,r=_[i]||_.linear,l=function(){var i=++a/t,c=r(i);e.call(s,c,i,a),n.call(s,c,i),a<t?s.animationFrame=S(l):o.apply(s)};S(l)},s.getRelativePosition=function(e){var t,i,n=e.originalEvent||e,o=(e.currentTarget||e.srcElement).getBoundingClientRect();return n.touches?(t=n.touches[0].clientX-o.left,i=n.touches[0].clientY-o.top):(t=n.clientX-o.left,i=n.clientY-o.top),{x:t,y:i}},s.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}),P=s.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=h},E=(s.bindEvents=function(e,t,i){e.events||(e.events={}),a(t,function(t){e.events[t]=function(){i.apply(e,arguments)},T(e.chart.canvas,t,e.events[t])})},s.unbindEvents=function(e,t){a(t,function(t,i){P(e.chart.canvas,i,t)})}),A=s.getMaximumWidth=function(e){return e.parentNode.clientWidth},F=s.getMaximumHeight=function(e){return e.parentNode.clientHeight},O=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(e){var t=e.ctx,i=e.canvas.width,n=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=i+"px",t.canvas.style.height=n+"px",t.canvas.height=n*window.devicePixelRatio,t.canvas.width=i*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},D=s.fontString=function(e,t,i){return t+" "+e+"px "+i},R=s.longestText=function(e,t,i){e.font=t;var n=0;return a(i,function(t){var i=e.measureText(t).width;n=i>n?i:n}),n},I=s.drawRoundedRectangle=function(e,t,i,n,o,s){e.beginPath(),e.moveTo(t+s,i),e.lineTo(t+n-s,i),e.quadraticCurveTo(t+n,i,t+n,i+s),e.lineTo(t+n,i+o-s),e.quadraticCurveTo(t+n,i+o,t+n-s,i+o),e.lineTo(t+s,i+o),e.quadraticCurveTo(t,i+o,t,i+o-s),e.lineTo(t,i+s),e.quadraticCurveTo(t,i,t+s,i),e.closePath()};i.instances={},l((i.Type=function(e,t,n){this.options=t,this.chart=n,this.id=f(),i.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)}).prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return s.cancelAnimFrame.call(e,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,i=A(this.chart.canvas),n=this.options.maintainAspectRatio?i/this.chart.aspectRatio:F(this.chart.canvas);return t.width=this.chart.width=i,t.height=this.chart.height=n,O(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:h,render:function(e){return e&&this.reflow(),this.options.animation&&!e?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return k(this.options.legendTemplate,this)},destroy:function(){this.clear(),E(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(e,t){if(void 0===this.activeElements&&(this.activeElements=[]),function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(a(e,function(e,i){e!==this.activeElements[i]&&(t=!0)},this),t)}.call(this,e)||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var n,o,r=this.datasets.length-1;r>=0&&(n=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,-1===(o=d(n,e[0])));r--);var l=[],c=[],u=function(e){var t,i,n,a,r,d=[],u=[],h=[];return s.each(this.datasets,function(e){(t=e.points||e.bars||e.segments)[o]&&t[o].hasValue()&&d.push(t[o])}),s.each(d,function(e){u.push(e.x),h.push(e.y),l.push(s.template(this.options.multiTooltipTemplate,e)),c.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),r=b(h),n=v(h),a=b(u),i=v(u),{x:a>this.chart.width/2?a:i,y:(r+n)/2}}.call(this,o);new i.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:c,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else a(e,function(e){var t=e.tooltipPosition();new i.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:k(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(e){var t=this,n=function(){return t.apply(this,arguments)};if(n.prototype=r(t.prototype),l(n.prototype,e),n.extend=i.Type.extend,e.name||t.prototype.name){var o=e.name||t.prototype.name,s=i.defaults[t.prototype.name]?r(i.defaults[t.prototype.name]):{};i.defaults[o]=l(s,e.defaults),i.types[o]=n,i.prototype[o]=function(e,t){var s=c(i.defaults.global,i.defaults[o],t||{});return new n(e,s,this)}}else p("Name not provided for this chart, so it hasn't been registered");return t},i.Element=function(e){l(this,e),this.initialize.apply(this,arguments),this.save()},l(i.Element.prototype,{initialize:function(){},restore:function(e){return e?a(e,function(e){this[e]=this._saved[e]},this):l(this,this._saved),this},save:function(){return this._saved=r(this),delete this._saved._saved,this},update:function(e){return a(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return a(e,function(e,i){this[i]=(e-this._saved[i])*t+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return g(this.value)}}),i.Element.extend=u,i.Point=i.Element.extend({display:!0,inRange:function(e,t){var i=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),i.Arc=i.Element.extend({inRange:function(e,t){var i=s.getAngleFromPoint(this,{x:e,y:t}),n=i.angle>=this.startAngle&&i.angle<=this.endAngle,o=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,i=this.x-t,n=this.x+t,o=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,n-=s,o+=s),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(i,this.base),e.lineTo(i,o),e.lineTo(n,o),e.lineTo(n,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),i.Tooltip=i.Element.extend({draw:function(){var e=this.chart.ctx;e.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,i=e.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,o=n+this.caretHeight+t;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-o<0&&(this.yAlign="below");var s=this.x-i/2,a=this.y-o;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":a=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}I(e,s,a,i,n,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,s+i/2,a+n/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=D(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=R(this.ctx,this.font,this.labels)+this.fontSize+3,i=v([t,e]);this.width=i+2*this.xPadding;var n=this.height/2;this.y-n<0?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,i=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{I(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,s.each(this.labels,function(t,i){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[i].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(k(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t=this.ctx.measureText(this.xLabels[0]).width,i=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=i/2+3,this.xScalePaddingLeft=t/2>this.yLabelWidth+10?t/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)(n=Math.cos(w(this.xLabelRotation)))*i,(e=n*t)+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(w(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:h,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){this.xLabelRotation;var t=(this.width-(this.xScalePaddingLeft+this.xScalePaddingRight))/(this.valuesCount-(this.offsetGridLines?0:1)),i=t*e+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=t/2),Math.round(i)},update:function(e){s.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,a(this.yLabels,function(n,o){var a=this.endPoint-t*o,r=Math.round(a),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(n,i-10,a),0!==o||l||(l=!0),l&&e.beginPath(),o>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r+=s.aliasPixel(e.lineWidth),l&&(e.moveTo(i,r),e.lineTo(this.width,r),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i-5,r),e.lineTo(i,r),e.stroke(),e.closePath()},this),a(this.xLabels,function(t,i){var n=this.calculateX(i)+x(this.lineWidth),o=this.calculateX(i-(this.offsetGridLines?.5:0))+x(this.lineWidth),s=this.xLabelRotation>0,a=this.showVerticalLines;0!==i||a||(a=!0),a&&e.beginPath(),i>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),a&&(e.moveTo(o,this.endPoint),e.lineTo(o,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(o,this.endPoint),e.lineTo(o,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(n,s?this.endPoint+12:this.endPoint+8),e.rotate(-1*w(this.xLabelRotation)),e.font=this.font,e.textAlign=s?"right":"center",e.textBaseline=s?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=b([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(k(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,i,n,o,s,a,r,l,c,d,u,h=b([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,p=0;for(this.ctx.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,h),i=this.ctx.measureText(k(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(n=i/2,e.x+n>f&&(f=e.x+n,o=t),e.x-n<p&&(p=e.x-n,a=t)):t<this.valuesCount/2?e.x+i>f&&(f=e.x+i,o=t):t>this.valuesCount/2&&e.x-i<p&&(p=e.x-i,a=t);l=p,c=Math.ceil(f-this.width),s=this.getIndexAngle(o),r=this.getIndexAngle(a),d=c/Math.sin(s+Math.PI/2),u=l/Math.sin(r+Math.PI/2),d=g(d)?d:0,u=g(u)?u:0,this.drawingArea=h-(u+d)/2,this.setCenterPoint(u,d)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,n=e+this.drawingArea;this.xCenter=(n+i)/2,this.yCenter=this.height/2},getIndexAngle:function(e){return e*(2*Math.PI/this.valuesCount)-Math.PI/2},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(a(this.yLabels,function(t,i){if(i>0){var n,o=i*(this.drawingArea/this.steps),s=this.yCenter-o;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var a=0;a<this.valuesCount;a++)n=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,s)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var i=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(i.x,i.y),e.stroke(),e.closePath()}var n=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var o=this.labels.length,s=this.labels.length/2,r=s/2,l=t<r||t>o-r,c=t===r||t===o-r;e.textAlign=0===t?"center":t===s?"center":t<s?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],n.x,n.y)}}}}}),s.addEvent(window,"resize",function(){clearTimeout(o),o=setTimeout(function(){a(i.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}),m?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),e.Chart=i,i.noConflict=function(){return e.Chart=t,i}}).call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Bar",defaults:{scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(i){var n=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,i){var o=this.calculateBaseWidth(),s=this.calculateX(i)-o/2,a=this.calculateBarWidth(e);return s+a*t+t*n.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*n.barValueSpacing},calculateBarWidth:function(e){return(this.calculateBaseWidth()-(e-1)*n.barDatasetSpacing)/e}}),this.datasets=[],this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var i="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),t.each(i,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(i)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),t.each(i.datasets,function(e,n){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(o),t.each(e.data,function(t,n){o.bars.push(new this.BarClass({value:t,label:i.labels[n],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(i.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,i,n){t.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,n,i),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),t.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){t.each(this.datasets,function(i,n){t.each(i.bars,e,this,n)},this)},getBarsAtEvent:function(e){for(var i,n=[],o=t.getRelativePosition(e),s=function(e){n.push(e.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(o.x,o.y))return t.each(this.datasets,s),n;return n},buildScale:function(e){var i=this,n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var n,o=t.calculateScaleRange((n=[],i.eachBars(function(e){n.push(e.value)}),n),e,this.fontSize,this.beginAtZero,this.integersOnly);t.extend(this,o)},xLabels:e,font:t.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&t.extend(n,{calculateYRange:t.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(e,i){t.each(e,function(e,t){this.datasets[t].bars.push(new this.BarClass({value:e,label:i,x:this.scale.calculateBarX(this.datasets.length,t,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[t].strokeColor,fillColor:this.datasets[t].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),t.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){t.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=t.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var i=e||1;this.clear();this.chart.ctx;this.scale.draw(i),t.each(this.datasets,function(e,n){t.each(e.bars,function(e,t){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,n,t),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers,i={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:i,initialize:function(i){this.segments=[],this.outerRadius=(t.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var i="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];t.each(this.segments,function(e){e.restore(["fillColor"])}),t.each(i,function(e){e.fillColor=e.highlightColor}),this.showTooltip(i)}),this.calculateTotal(i),t.each(i,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var i=[],n=t.getRelativePosition(e);return t.each(this.segments,function(e){e.inRange(n.x,n.y)&&i.push(e)},this),i},addData:function(e,t,i){var n=t||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),i||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,t.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),t.each(this.activeElements,function(e){e.restore(["fillColor"])}),t.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var i=t.isNumber(e)?e:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){t.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(t.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,t.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var i=e||1;this.clear(),t.each(this.segments,function(e,t){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),e.endAngle=e.startAngle+e.circumference,e.draw(),0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:t.merge(i,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Line",defaults:{scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(i){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var i="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),t.each(i,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(i)}),t.each(i.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),t.each(e.data,function(t,o){n.points.push(new this.PointClass({value:t,label:i.labels[o],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(i.labels),this.eachPoints(function(e,i){t.extend(e,{x:this.scale.calculateX(i),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),t.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){t.each(this.datasets,function(i){t.each(i.points,e,this)},this)},getPointsAtEvent:function(e){var i=[],n=t.getRelativePosition(e);return t.each(this.datasets,function(e){t.each(e.points,function(e){e.inRange(n.x,n.y)&&i.push(e)})},this),i},buildScale:function(i){var n=this,o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:i.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var i,o=t.calculateScaleRange((i=[],n.eachPoints(function(e){i.push(e.value)}),i),e,this.fontSize,this.beginAtZero,this.integersOnly);t.extend(this,o)},xLabels:i,font:t.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&t.extend(o,{calculateYRange:t.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(o)},addData:function(e,i){t.each(e,function(e,t){this.datasets[t].points.push(new this.PointClass({value:e,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),t.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=t.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var i=e||1;this.clear();var n=this.chart.ctx,o=function(e){return null!==e.value},s=function(e,i,n){return t.findPreviousWhere(i,o,n)||e};this.scale.draw(i),t.each(this.datasets,function(e){var a=t.where(e.points,o);t.each(e.points,function(e,t){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(t)},i)},this),this.options.bezierCurve&&t.each(a,function(e,i){var n=i>0&&i<a.length-1?this.options.bezierCurveTension:0;e.controlPoints=t.splineCurve(s(e,a,i),e,function(e,i,n){return t.findNextWhere(i,o,n)||e}(e,a,i),n),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),t.each(a,function(e,t){if(0===t)n.moveTo(e.x,e.y);else if(this.options.bezierCurve){var i=s(e,a,t);n.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else n.lineTo(e.x,e.y)},this),n.stroke(),this.options.datasetFill&&a.length>0&&(n.lineTo(a[a.length-1].x,this.scale.endPoint),n.lineTo(a[0].x,this.scale.endPoint),n.fillStyle=e.fillColor,n.closePath(),n.fill()),t.each(a,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"PolarArea",defaults:{scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},initialize:function(i){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:i.length}),this.updateScaleRange(i),this.scale.update(),t.each(i,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var i="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];t.each(this.segments,function(e){e.restore(["fillColor"])}),t.each(i,function(e){e.fillColor=e.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(e){var i=[],n=t.getRelativePosition(e);return t.each(this.segments,function(e){e.inRange(n.x,n.y)&&i.push(e)},this),i},addData:function(e,t,i){var n=t||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(e){var i=t.isNumber(e)?e:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,t.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var i=[];t.each(e,function(e){i.push(e.value)});var n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:t.calculateScaleRange(i,t.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);t.extend(this.scale,n,{size:t.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),t.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){t.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),t.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),t.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var i=e||1;this.clear(),t.each(this.segments,function(e,t){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},i),e.endAngle=e.startAngle+e.circumference,0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(i){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(i),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var i="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),t.each(i,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(i)}),t.each(i.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),t.each(e.data,function(t,o){var s;this.scale.animation||(s=this.scale.getPointPosition(o,this.scale.calculateCenterOffset(t))),n.points.push(new this.PointClass({value:t,label:i.labels[o],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){t.each(this.datasets,function(i){t.each(i.points,e,this)},this)},getPointsAtEvent:function(e){var i=t.getRelativePosition(e),n=t.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),o=2*Math.PI/this.scale.valuesCount,s=Math.round((n.angle-1.5*Math.PI)/o),a=[];return(s>=this.scale.valuesCount||s<0)&&(s=0),n.distance<=this.scale.drawingArea&&t.each(this.datasets,function(e){a.push(e.points[s])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var i,n=(i=[],t.each(e,function(e){e.data?i=i.concat(e.data):t.each(e.points,function(e){i.push(e.value)})}),i),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:t.calculateScaleRange(n,t.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);t.extend(this.scale,o)},addData:function(e,i){this.scale.valuesCount++,t.each(e,function(e,t){var n=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[t].points.push(new this.PointClass({value:e,label:i,x:n.x,y:n.y,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),t.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){t.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:t.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var i=e||1,n=this.chart.ctx;this.clear(),this.scale.draw(),t.each(this.datasets,function(e){t.each(e.points,function(e,t){e.hasValue()&&e.transition(this.scale.getPointPosition(t,this.scale.calculateCenterOffset(e.value)),i)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),t.each(e.points,function(e,t){0===t?n.moveTo(e.x,e.y):n.lineTo(e.x,e.y)},this),n.closePath(),n.stroke(),n.fillStyle=e.fillColor,n.fill(),t.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){var t=e(window),i=e(document),n=e(document.documentElement),o=null!=document.body.style.transition;function s(t,l,d,u){if(!t)return s;var h=!1,f={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},p=d?e.extend(!0,{},d.defaults,u):u||{},m=e.extend({},s.klasses(),p.klass),g=e(t),v=function(){return this.start()},b=v.prototype={constructor:v,$node:g,start:function(){return f&&f.start?b:(f.methods={},f.start=!0,f.open=!1,f.type=t.type,t.autofocus=t==c(),t.readOnly=!p.editable,t.id=t.id||f.id,"text"!=t.type&&(t.type="text"),b.component=new d(b,p),b.$root=e('<div class="'+m.picker+'" id="'+t.id+'_root" />'),r(b.$root[0],"hidden",!0),b.$holder=e(y()).appendTo(b.$root),b.$holder.on({keydown:x,"focus.toOpen":w,blur:function(){g.removeClass(m.target)},focusin:function(e){b.$root.removeClass(m.focused),e.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=b.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(i).is("input, select, textarea, button, option")||(t.preventDefault(),b.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),i=t.data(),n=t.hasClass(m.navDisabled)||t.hasClass(m.disabled),o=c();o=o&&(o.type||o.href),(n||o&&!e.contains(b.$root[0],o))&&b.$holder[0].focus(),!n&&i.nav?b.set("highlight",b.component.item.highlight,{nav:i.nav}):!n&&"pick"in i?(b.set("select",i.pick),p.closeOnSelect&&b.close(!0)):i.clear?(b.clear(),p.closeOnClear&&b.close(!0)):i.close&&b.close(!0)}),p.formatSubmit&&function(){var i;!0===p.hiddenName?(i=t.name,t.name=""):i=(i=["string"==typeof p.hiddenPrefix?p.hiddenPrefix:"","string"==typeof p.hiddenSuffix?p.hiddenSuffix:"_submit"])[0]+t.name+i[1];b._hidden=e('<input type=hidden name="'+i+'"'+(g.data("value")||t.value?' value="'+b.get("select",p.formatSubmit)+'"':"")+">")[0],g.on("change."+f.id,function(){b._hidden.value=t.value?b.get("select",p.formatSubmit):""})}(),function(){g.data(l,b).addClass(m.input).val(g.data("value")?b.get("select",p.format):t.value),p.editable||g.on("focus."+f.id+" click."+f.id,function(e){e.preventDefault(),b.open()}).on("keydown."+f.id,x);r(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"})}(),p.containerHidden?e(p.containerHidden).append(b._hidden):g.after(b._hidden),p.container?e(p.container).append(b.$root):g.after(b.$root),b.on({start:b.component.onStart,render:b.component.onRender,stop:b.component.onStop,open:b.component.onOpen,close:b.component.onClose,set:b.component.onSet}).on({start:p.onStart,render:p.onRender,stop:p.onStop,open:p.onOpen,close:p.onClose,set:p.onSet}),h=function(e){var t;e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position);return"fixed"==t}(b.$holder[0]),t.autofocus&&b.open(),b.trigger("start").trigger("render"))},render:function(e){return e?(b.$holder=y(),b.$root.html(b.$holder)):b.$root.find("."+m.box).html(b.component.nodes(f.open)),b.trigger("render")},stop:function(){return f.start?(b.close(),b._hidden&&b._hidden.parentNode.removeChild(b._hidden),b.$root.remove(),g.removeClass(m.input).removeData(l),setTimeout(function(){g.off("."+f.id)},0),t.type=f.type,t.readOnly=!1,b.trigger("stop"),f.methods={},f.start=!1,b):b},open:function(l){return f.open?b:(g.addClass(m.active),r(t,"expanded",!0),setTimeout(function(){b.$root.addClass(m.opened),r(b.$root[0],"hidden",!1)},0),!1!==l&&(f.open=!0,h&&n.css("overflow","hidden").css("padding-right","+="+a()),h&&o?b.$holder.find("."+m.frame).one("transitionend",function(){b.$holder[0].focus()}):b.$holder[0].focus(),i.on("click."+f.id+" focusin."+f.id,function(e){var i=e.target;i!=t&&i!=document&&3!=e.which&&b.close(i===b.$holder[0])}).on("keydown."+f.id,function(t){var i=t.keyCode,n=b.component.key[i],o=t.target;27==i?b.close(!0):o!=b.$holder[0]||!n&&13!=i?e.contains(b.$root[0],o)&&13==i&&(t.preventDefault(),o.click()):(t.preventDefault(),n?s._.trigger(b.component.key.go,b,[s._.trigger(n)]):b.$root.find("."+m.highlighted).hasClass(m.disabled)||(b.set("select",b.component.item.highlight),p.closeOnSelect&&b.close(!0)))})),b.trigger("open"))},close:function(e){return e&&(p.editable?t.focus():(b.$holder.off("focus.toOpen").focus(),setTimeout(function(){b.$holder.on("focus.toOpen",w)},0))),g.removeClass(m.active),r(t,"expanded",!1),setTimeout(function(){b.$root.removeClass(m.opened+" "+m.focused),r(b.$root[0],"hidden",!0)},0),f.open?(f.open=!1,h&&n.css("overflow","").css("padding-right","-="+a()),i.off("."+f.id),b.trigger("close")):b},clear:function(e){return b.set("clear",null,e)},set:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(n=a&&e.isPlainObject(i)?i:n||{},t){for(o in a||(r[t]=i),r)s=r[o],o in b.component.item&&(void 0===s&&(s=null),b.component.set(o,s,n)),"select"!=o&&"clear"!=o||g.val("clear"==o?"":b.get(o,p.format)).trigger("change");b.render()}return n.muted?b:b.trigger("set",r)},get:function(e,i){if(null!=f[e=e||"value"])return f[e];if("valueSubmit"==e){if(b._hidden)return b._hidden.value;e="value"}if("value"==e)return t.value;if(e in b.component.item){if("string"==typeof i){var n=b.component.get(e);return n?s._.trigger(b.component.formats.toString,b.component,[i,n]):""}return b.component.get(e)}},on:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(t)for(o in a||(r[t]=i),r)s=r[o],n&&(o="_"+o),f.methods[o]=f.methods[o]||[],f.methods[o].push(s);return b},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in f.methods&&delete f.methods[t];return b},trigger:function(e,t){var i=function(e){var i=f.methods[e];i&&i.map(function(e){s._.trigger(e,b,[t])})};return i("_"+e),i(e),b}};function y(){return s._.node("div",s._.node("div",s._.node("div",s._.node("div",b.component.nodes(f.open),m.box),m.wrap),m.frame),m.holder,'tabindex="-1"')}function w(e){e.stopPropagation(),g.addClass(m.target),b.$root.addClass(m.focused),b.open()}function x(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return b.close(!0),!1;(32==t||i||!f.open&&b.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?b.clear().close():b.open())}return new v}function a(){if(n.height()<=t.height())return 0;var i=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),o=i[0].offsetWidth;i.css("overflow","scroll");var s=e('<div style="width:100%" />').appendTo(i)[0].offsetWidth;return i.remove(),o-s}function r(t,i,n){if(e.isPlainObject(i))for(var o in i)l(t,o,i[o]);else l(t,i,n)}function l(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function c(){try{return document.activeElement}catch(e){}}return s.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},s._={group:function(e){for(var t,i="",n=s._.trigger(e.min,e);n<=s._.trigger(e.max,e,[n]);n+=e.i)t=s._.trigger(e.item,e,[n]),i+=s._.node(e.node,t[0],t[1],t[2]);return i},node:function(t,i,n,o){return i?"<"+t+(n=n?' class="'+n+'"':"")+(o=o?" "+o:"")+">"+(i=e.isArray(i)?i.join(""):i)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,i){e.isPlainObject(t)||(t={attribute:i});for(var n in i="",t){var o=("role"==n?"":"aria-")+n,s=t[n];i+=null==s?"":o+'="'+t[n]+'"'}return i}},s.extend=function(t,i){e.fn[t]=function(n,o){var a=this.data(t);return"picker"==n?a:a&&"string"==typeof n?s._.trigger(a[n],a,[o]):this.each(function(){e(this).data(t)||new s(this,t,i,n)})},e.fn[t].defaults=i.defaults},s}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){var i,n=e._;function o(e,t){var i,n=this,o=e.$node[0],s=o.value,a=e.$node.data("value"),r=a||s,l=a?t.formatSubmit:t.format,c=function(){return o.currentStyle?"rtl"==o.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};n.settings=t,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-(!0===(i=n.item.disable)[0]?i.shift():-1),n.set("min",t.min).set("max",t.max).set("now"),r?n.set("select",r,{format:l}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return c()?-1:1},37:function(){return c()?1:-1},go:function(e){var t=n.item.highlight,i=new Date(t.year,t.month,t.date+e);n.set("highlight",i,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var i=this.value;i&&(e.set("highlight",[e.get("view").year,i,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var i=this.value;i&&(e.set("highlight",[i,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}o.prototype.set=function(e,t,i){var n=this,o=n.item;return null===t?("clear"==e&&(e="select"),o[e]=t,n):(o["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(o){return t=n[o](e,t,i)}).pop(),"select"==e?n.set("highlight",o.select,i):"highlight"==e?n.set("view",o.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",o.select,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",o.highlight,i)),n)},o.prototype.get=function(e){return this.item[e]},o.prototype.create=function(e,i,o){var s;return(i=void 0===i?e:i)==-1/0||i==1/0?s=i:t.isPlainObject(i)&&n.isInteger(i.pick)?i=i.obj:t.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=n.isDate(i)?i:this.create().obj):i=n.isInteger(i)||n.isDate(i)?this.normalize(new Date(i),o):this.now(e,i,o),{year:s||i.getFullYear(),month:s||i.getMonth(),date:s||i.getDate(),day:s||i.getDay(),obj:s||i,pick:s||i.getTime()}},o.prototype.createRange=function(e,i){var o=this,s=function(e){return!0===e||t.isArray(e)||n.isDate(e)?o.create(e):e};return n.isInteger(e)||(e=s(e)),n.isInteger(i)||(i=s(i)),n.isInteger(e)&&t.isPlainObject(i)?e=[i.year,i.month,i.date+e]:n.isInteger(i)&&t.isPlainObject(e)&&(i=[e.year,e.month,e.date+i]),{from:s(e),to:s(i)}},o.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},o.prototype.overlapRanges=function(e,t){return e=this.createRange(e.from,e.to),t=this.createRange(t.from,t.to),this.withinRange(e,t.from)||this.withinRange(e,t.to)||this.withinRange(t,e.from)||this.withinRange(t,e.to)},o.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},o.prototype.navigate=function(e,i,n){var o,s,a,r,l=t.isArray(i),c=t.isPlainObject(i),d=this.item.view;if(l||c){for(c?(s=i.year,a=i.month,r=i.date):(s=+i[0],a=+i[1],r=+i[2]),n&&n.nav&&d&&d.month!==a&&(s=d.year,a=d.month),s=(o=new Date(s,a+(n&&n.nav?n.nav:0),1)).getFullYear(),a=o.getMonth();new Date(s,a,r).getMonth()!==a;)r-=1;i=[s,a,r]}return i},o.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},o.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):n.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},o.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},o.prototype.validate=function(e,i,o){var s,a,r,l,c=this,d=i,u=o&&o.interval?o.interval:1,h=-1===c.item.enable,f=c.item.min,p=c.item.max,m=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var o=c.create(e).pick;o<i.pick?s=!0:o>i.pick&&(a=!0)}return n.isInteger(e)}).length;if((!o||!o.nav)&&(!h&&c.disabled(i)||h&&c.disabled(i)&&(m||s||a)||!h&&(i.pick<=f.pick||i.pick>=p.pick)))for(h&&!m&&(!a&&u>0||!s&&u<0)&&(u*=-1);c.disabled(i)&&(Math.abs(u)>1&&(i.month<d.month||i.month>d.month)&&(i=d,u=u>0?1:-1),i.pick<=f.pick?(r=!0,u=1,i=c.create([f.year,f.month,f.date+(i.pick===f.pick?0:-1)])):i.pick>=p.pick&&(l=!0,u=-1,i=c.create([p.year,p.month,p.date+(i.pick===p.pick?0:1)])),!r||!l);)i=c.create([i.year,i.month,i.date+u]);return i},o.prototype.disabled=function(e){var i=this,o=i.item.disable.filter(function(o){return n.isInteger(o)?e.day===(i.settings.firstDay?o:o-1)%7:t.isArray(o)||n.isDate(o)?e.pick===i.create(o).pick:t.isPlainObject(o)?i.withinRange(o,e):void 0});return o=o.length&&!o.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!o:o||e.pick<i.item.min.pick||e.pick>i.item.max.pick},o.prototype.parse=function(e,t,i){var o=this,s={};return t&&"string"==typeof t?(i&&i.format||((i=i||{}).format=o.settings.format),o.formats.toArray(i.format).map(function(e){var i=o.formats[e],a=i?n.trigger(i,o,[t,s]):e.replace(/^!/,"").length;i&&(s[e]=t.substr(0,a)),t=t.substr(a)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},o.prototype.formats=function(){function e(e,t,i){var n=e.match(/\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(n)+1),n.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?n.digits(e):t.date},dd:function(e,t){return e?2:n.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?n.digits(e):t.month+1},mm:function(e,t){return e?2:n.lead(t.month+1)},mmm:function(t,i){var n=this.settings.monthsShort;return t?e(t,n,i):n[i.month]},mmmm:function(t,i){var n=this.settings.monthsFull;return t?e(t,n,i):n[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return n.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}}}(),o.prototype.isDateExact=function(e,i){return n.isInteger(e)&&n.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(n.isDate(e)||t.isArray(e))&&(n.isDate(i)||t.isArray(i))?this.create(e).pick===this.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&(this.isDateExact(e.from,i.from)&&this.isDateExact(e.to,i.to))},o.prototype.isDateOverlap=function(e,i){var o=this.settings.firstDay?1:0;return n.isInteger(e)&&(n.isDate(i)||t.isArray(i))?(e=e%7+o)===this.create(i).day+1:n.isInteger(i)&&(n.isDate(e)||t.isArray(e))?(i=i%7+o)===this.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&this.overlapRanges(e,i)},o.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},o.prototype.deactivate=function(e,i){var o=this,s=o.item.disable.slice(0);return"flip"==i?o.flipEnable():!1===i?(o.flipEnable(1),s=[]):!0===i?(o.flipEnable(-1),s=[]):i.map(function(e){for(var i,a=0;a<s.length;a+=1)if(o.isDateExact(e,s[a])){i=!0;break}i||(n.isInteger(e)||n.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},o.prototype.activate=function(e,i){var o=this,s=o.item.disable,a=s.length;return"flip"==i?o.flipEnable():!0===i?(o.flipEnable(1),s=[]):!1===i?(o.flipEnable(-1),s=[]):i.map(function(e){var i,r,l,c;for(l=0;l<a;l+=1){if(r=s[l],o.isDateExact(r,e)){i=s[l]=null,c=!0;break}if(o.isDateOverlap(r,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[3]||i.push("inverted"):n.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;l<a;l+=1)if(o.isDateExact(s[l],e)){s[l]=null;break}if(c)for(l=0;l<a;l+=1)if(o.isDateOverlap(s[l],e)){s[l]=null;break}i&&s.push(i)}),s.filter(function(e){return null!=e})},o.prototype.nodes=function(e){var t,i,o=this,s=o.settings,a=o.item,r=a.now,l=a.select,c=a.highlight,d=a.view,u=a.disable,h=a.min,f=a.max,p=(t=(s.showWeekdaysFull?s.weekdaysFull:s.weekdaysLetter).slice(0),i=s.weekdaysFull.slice(0),s.firstDay&&(t.push(t.shift()),i.push(i.shift())),n.node("thead",n.node("tr",n.group({min:0,max:6,i:1,node:"th",item:function(e){return[t[e],s.klass.weekdays,'scope=col title="'+i[e]+'"']}})))),m=function(e){return n.node("div"," ",s.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=f.year&&d.month>=f.month||!e&&d.year<=h.year&&d.month<=h.month?" "+s.klass.navDisabled:""),"data-nav="+(e||-1)+" "+n.ariaAttr({role:"button",controls:o.$node[0].id+"_table"})+' title="'+(e?s.labelMonthNext:s.labelMonthPrev)+'"')},g=function(t){var i=s.showMonthsShort?s.monthsShort:s.monthsFull;return"short_months"==t&&(i=s.monthsShort),s.selectMonths?n.node("select",n.group({min:0,max:11,i:1,node:"option",item:function(e){return[i[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==h.year&&e<h.month||d.year==f.year&&e>f.month?" disabled":"")]}}),s.klass.selectMonth,(e?"":"disabled")+" "+n.ariaAttr({controls:o.$node[0].id+"_table"})+' title="'+s.labelMonthSelect+'"'):"short_months"==t?n.node("div",i[d.month]):n.node("div",i[d.month],s.klass.month)},v=function(t){var i=d.year,a=!0===s.selectYears?5:~~(s.selectYears/2);if(a){var r=h.year,l=f.year,c=i-a,u=i+a;if(r>c&&(u+=r-c,c=r),l<u){var p=c-r,m=u-l;c-=p>m?m:p,u=l}return n.node("select",n.group({min:c,max:u,i:1,node:"option",item:function(e){return[e,0,"value="+e+(i==e?" selected":"")]}}),s.klass.selectYear,(e?"":"disabled")+" "+n.ariaAttr({controls:o.$node[0].id+"_table"})+' title="'+s.labelYearSelect+'"')}return"raw"==t?n.node("div",i):n.node("div",i,s.klass.year)};return createDayLabel=function(){return null!=l?n.node("div",l.date):n.node("div",r.date)},createWeekdayLabel=function(){var e;return e=null!=l?l.day:r.day,s.weekdaysFull[e]},n.node("div",n.node("div",createWeekdayLabel(),"picker__weekday-display")+n.node("div",g("short_months"),s.klass.month_display)+n.node("div",createDayLabel(),s.klass.day_display)+n.node("div",v("raw"),s.klass.year_display),s.klass.date_display)+n.node("div",n.node("div",(s.selectYears?v()+g():g()+v())+m()+m(1),s.klass.header)+n.node("table",p+n.node("tbody",n.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=s.firstDay&&0===o.create([d.year,d.month,1]).day?-7:0;return[n.group({min:7*e-d.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=o.create([d.year,d.month,e+(s.firstDay?1:0)]);var t,i=l&&l.pick==e.pick,a=c&&c.pick==e.pick,p=u&&o.disabled(e)||e.pick<h.pick||e.pick>f.pick,m=n.trigger(o.formats.toString,o,[s.format,e]);return[n.node("div",e.date,(t=[s.klass.day],t.push(d.month==e.month?s.klass.infocus:s.klass.outfocus),r.pick==e.pick&&t.push(s.klass.now),i&&t.push(s.klass.selected),a&&t.push(s.klass.highlighted),p&&t.push(s.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+n.ariaAttr({role:"gridcell",label:m,selected:!(!i||o.$node.val()!==m)||null,activedescendant:!!a||null,disabled:!!p||null})),"",n.ariaAttr({role:"presentation"})]}})]}})),s.klass.table,'id="'+o.$node[0].id+'_table" '+n.ariaAttr({role:"grid",controls:o.$node[0].id,readonly:!0})),s.klass.calendar_container)+n.node("div",n.node("button",s.today,"btn--default picker__today","type=button data-pick="+r.pick+(e&&!o.disabled(r)?"":" disabled")+" "+n.ariaAttr({controls:o.$node[0].id}))+n.node("button",s.clear,"btn--default picker__clear","type=button data-clear=1"+(e?"":" disabled")+" "+n.ariaAttr({controls:o.$node[0].id}))+n.node("button",s.close,"btn--default picker__close","type=button data-close=true "+(e?"":" disabled")+" "+n.ariaAttr({controls:o.$node[0].id})),s.klass.footer)},o.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:(i=e.klasses().picker+"__")+"table",header:i+"header",date_display:i+"date-display",day_display:i+"day-display",month_display:i+"month-display",year_display:i+"year-display",calendar_container:i+"calendar-container",navPrev:i+"nav--prev",navNext:i+"nav--next",navDisabled:i+"nav--disabled",month:i+"month",year:i+"year",selectMonth:i+"select--month",selectYear:i+"select--year",weekdays:i+"weekday",day:i+"day",disabled:i+"day--disabled",selected:i+"day--selected",highlighted:i+"day--highlighted",now:i+"day--today",infocus:i+"day--infocus",outfocus:i+"day--outfocus",footer:i+"footer",buttonClear:i+"button--clear",buttonToday:i+"button--today",buttonClose:i+"button--close"}},e.extend("pickadate",o)}),function(e){e.fn.cond=function(){for(var t,i,n,o,s=arguments,a=0;!i&&a<s.length;)i=s[a++],n=s[a++],i=e.isFunction(i)?i.call(this):i,o=n?i?n.call(this,i):t:i;return o!==t?o:this}}(jQuery),function(e,t,i,n){"use strict";e.fn.checkbox=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h=e.extend(!0,{},e.fn.checkbox.settings,i),f=h.className,p=h.namespace,m=h.selector,g=h.error,v="."+p,b="module-"+p,y=e(this),w=e(this).find(m.label).first(),x=e(this).find(m.input),C=y.data(b),k=this;u={initialize:function(){u.verbose("Initializing checkbox",h),u.create.label(),u.add.events(),u.is.checked()?(u.set.checked(),h.fireOnInit&&h.onChecked.call(x.get())):(u.remove.checked(),h.fireOnInit&&h.onUnchecked.call(x.get())),u.observeChanges(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),C=u,y.data(b,u)},destroy:function(){u.verbose("Destroying module"),u.remove.events(),y.removeData(b)},refresh:function(){y=e(this),w=e(this).find(m.label).first(),x=e(this).find(m.input)},observeChanges:function(){"MutationObserver"in t&&((o=new MutationObserver(function(e){u.debug("DOM tree modified, updating selector cache"),u.refresh()})).observe(k,{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",o))},attachEvents:function(t,i){var n=e(t);i=e.isFunction(u[i])?u[i]:u.toggle,n.length>0?(u.debug("Attaching checkbox events to element",t,i),n.on("click"+v,i)):u.error(g.notFound)},event:{keydown:function(e){var t=e.which,i=13,n=32;t==27&&(u.verbose("Escape key pressed blurring field"),y.blur()),e.ctrlKey||t!=i&&t!=n||(u.verbose("Enter key pressed, toggling checkbox"),u.toggle.call(this),e.preventDefault())}},is:{radio:function(){return y.hasClass(f.radio)},checked:function(){return void 0!==x.prop("checked")&&x.prop("checked")},unchecked:function(){return!u.is.checked()}},can:{change:function(){return!(y.hasClass(f.disabled)||y.hasClass(f.readOnly)||x.prop("disabled"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!u.is.radio()}},set:{checked:function(){y.addClass(f.checked)},tab:function(){void 0===x.attr("tabindex")&&x.attr("tabindex",0)}},create:{label:function(){x.prevAll(m.label).length>0?(x.prev(m.label).detach().insertAfter(x),u.debug("Moving existing label",w)):u.has.label()||(w=e("<label>").insertAfter(x),u.debug("Creating label",w))}},has:{label:function(){return w.length>0}},add:{events:function(){u.verbose("Attaching checkbox events"),y.on("click"+v,u.toggle).on("keydown"+v,m.input,u.event.keydown)}},remove:{checked:function(){y.removeClass(f.checked)},events:function(){u.debug("Removing events"),y.off(v).removeData(b),x.off(v,u.event.keydown),w.off(v)}},enable:function(){u.debug("Enabling checkbox functionality"),y.removeClass(f.disabled),x.prop("disabled",!1),h.onEnabled.call(x.get())},disable:function(){u.debug("Disabling checkbox functionality"),y.addClass(f.disabled),x.prop("disabled","disabled"),h.onDisabled.call(x.get())},check:function(){u.debug("Enabling checkbox",x),x.prop("checked",!0).trigger("change"),u.set.checked(),x.trigger("blur"),h.onChange.call(x.get()),h.onChecked.call(x.get())},uncheck:function(){u.debug("Disabling checkbox"),x.prop("checked",!1).trigger("change"),u.remove.checked(),x.trigger("blur"),h.onChange.call(x.get()),h.onUnchecked.call(x.get())},toggle:function(e){if(!u.can.change())return console.log(u.can.change()),void u.debug("Checkbox is read-only or disabled, ignoring toggle");u.verbose("Determining new checkbox state"),u.is.unchecked()?u.check():u.is.checked()&&u.can.uncheck()&&u.uncheck()},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=C;return i=i||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===C&&u.initialize(),u.invoke(l)):(void 0!==C&&C.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(jQuery,window,document),function(){var e,t,i,n,o={}.hasOwnProperty;(n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,s,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],n=0,o=(s=e.childNodes).length;n<o;n++)i=s[n],a.push(this.add_option(i,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,i;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,i,o,s,a;for(i=new n,o=0,s=(a=e.childNodes).length;o<s;o++)t=a[o],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},e.prototype.results_option_build=function(e){var t,i,n,o,s;for(t="",n=0,o=(s=this.results_data).length;n<o;n++)(i=s[n]).group?t+=this.result_add_group(i):t+=this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i)));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.results_data).length;t<i;t++)(e=n[t]).selected?o.push(e.selected=!1):o.push(void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,n,o,s,a,r,l,c,d,u;for(this.no_results_clear(),n=0,e=(s=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),i=this.get_search_regex(e),c=0,d=(u=this.results_data).length;c<d;c++)(t=u[c]).search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(o=this.results_data[t.group_array_index]).active_options&&o.search_match&&(n+=1),o.active_options+=1),t.search_text=t.group?t.label:t.html,t.group&&!this.group_search||(t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(n+=1),t.search_match?(s.length&&(a=t.search_text.search(l),r=t.search_text.substr(0,a+s.length)+"</em>"+t.search_text.substr(a+s.length),t.search_text=r.substr(0,a)+"<em>"+r.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),n<1&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var i,n,o,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" ")).length)for(o=0,s=n.length;o<s;o++)if(i=n[o],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),(e=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(t){var o,s;s=(o=e(this)).data("chosen"),"destroy"===n&&s instanceof i?s.destroy():s instanceof i||o.data("chosen",new i(this,n))}):this}}),i=function(i){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)o.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,t),s.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var t,i;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},s.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},s.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},s.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},s.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},s.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){var i;return(i=e(t.target).closest(".chosen-container")).length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(e){var t,i,n,o,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),o=(n=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop()),(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(i<s)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(e){return this.search_results.html(e)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},s.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()})},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var i;if((i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},s.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},s.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},s.prototype.choice_build=function(t){var i,n,o=this;return i=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?i.addClass("search-choice-disabled"):((n=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",function(e){return o.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},s.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},s.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},s.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},s.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},s.prototype.no_results=function(t){var i;return(i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var t,i,n,o,s,a,r,l;if(this.is_multiple){for(0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=0,l=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;r<l;r++)o+=(n=s[r])+":"+this.search_field.css(n)+";";return(t=e("<div />",{style:o})).text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),a>(i=this.container.outerWidth())-10&&(a=i-10),this.search_field.css({width:a+"px"})}},s}()}.call(this),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}var i,n,o;function s(e,t){(i(e,t)?o:n)(e,t)}"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},n=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(i=function(e,i){return t(i).test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className+" "+t)},o=function(e,i){e.className=e.className.replace(t(i)," ")});var a={hasClass:i,addClass:n,removeClass:o,toggleClass:s,has:i,add:n,remove:o,toggle:s};"function"==typeof define&&define.amd?define(a):e.classie=a}(window),function(e){var t={navigate:function(t,i,n,o,s){var a=o.scroll,r=1,l=0;if(s.expanded&&(a=1,r=3,l=s.idxClicked),1===t)n.find("div.ca-item:lt("+a+")").each(function(t){e(this).clone(!0).css("left",(s.totalItems-l+t)*s.itemW*r+"px").appendTo(n)});else{var c=n.children().eq(0);n.find("div.ca-item:gt("+(s.totalItems-1-a)+")").each(function(t){e(this).clone(!0).css("left",-(a-t+l)*s.itemW*r+"px").insertBefore(c)})}n.find("div.ca-item").each(function(i){var n=e(this);n.stop().animate({left:1===t?"-="+s.itemW*r*a+"px":"+="+s.itemW*r*a+"px"},o.sliderSpeed,o.sliderEasing,function(){(1===t&&n.position().left<-l*s.itemW*r||-1===t&&n.position().left>(s.totalItems-1-l)*s.itemW*r)&&n.remove(),s.isAnimating=!1})})},openItem:function(e,i,n,o){o.idxClicked=i.index(),o.winpos=t.getWinPos(i.position().left,o),e.find("div.ca-item").not(i).hide(),i.find("div.ca-content-wrapper").css("left",o.itemW+"px").stop().animate({width:2*o.itemW+"px",left:o.itemW+"px"},n.itemSpeed,n.itemEasing).end().stop().animate({left:"0px"},n.itemSpeed,n.itemEasing,function(){o.isAnimating=!1,o.expanded=!0,t.openItems(e,i,n,o)})},openItems:function(i,n,o,s){var a=n.index();i.find("div.ca-item").each(function(i){var n=e(this),o=n.index();o!==a&&(n.css("left",-(a-o)*(3*s.itemW)+"px").show().find("div.ca-content-wrapper").css({left:s.itemW+"px",width:2*s.itemW+"px"}),t.toggleMore(n,!1))})},toggleMore:function(e,t){t?e.find("a.ca-more").show():e.find("a.ca-more").hide()},closeItems:function(i,n,o,s){var a=n.index();n.find("div.ca-content-wrapper").stop().animate({width:"0px"},o.itemSpeed,o.itemEasing).end().stop().animate({left:s.itemW*(s.winpos-1)+"px"},o.itemSpeed,o.itemEasing,function(){s.isAnimating=!1,s.expanded=!1}),t.toggleMore(n,!0),i.find("div.ca-item").each(function(i){var n=e(this),o=n.index();o!==a&&(n.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(s.winpos-1-(a-o))*s.itemW+"px").show(),t.toggleMore(n,!0))})},getWinPos:function(e,t){switch(e){case 0:return 1;case t.itemW:return 2;case 2*t.itemW:return 3}}},i={init:function(i){if(this.length){var n={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){i&&e.extend(n,i);var o=e(this),s=o.find("div.ca-wrapper"),a=s.children("div.ca-item"),r={};r.itemW=a.width(),r.totalItems=a.length,r.totalItems>3&&o.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>'),n.scroll<1?n.scroll=1:n.scroll>3&&(n.scroll=3);var l=o.find("span.ca-nav-prev"),c=o.find("span.ca-nav-next");s.css("overflow","hidden"),a.each(function(t){e(this).css({position:"absolute",left:t*r.itemW+"px"})}),l.bind("click.contentcarousel",function(e){if(r.isAnimating)return!1;r.isAnimating=!0,t.navigate(-1,o,s,n,r)}),c.bind("click.contentcarousel",function(e){if(r.isAnimating)return!1;r.isAnimating=!0,t.navigate(1,o,s,n,r)}),o.bind("mousewheel.contentcarousel",function(e,i){if(i>0){if(r.isAnimating)return!1;r.isAnimating=!0,t.navigate(-1,o,s,n,r)}else{if(r.isAnimating)return!1;r.isAnimating=!0,t.navigate(1,o,s,n,r)}return!1})})}}};e.fn.contentcarousel=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.contentcarousel"):i.init.apply(this,arguments)}}(jQuery),function(e){"use strict";var t=".dropdown-backdrop",i='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function o(n){n&&3===n.which||(e(t).remove(),e(i).each(function(){var t=e(this),i=s(t),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function s(t){var i=t.attr("data-target");i||(i=(i=t.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}n.VERSION="3.3.2",n.prototype.toggle=function(t){var i=e(this);if(!i.is(".disabled, :disabled")){var n=s(i),a=n.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=e.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=s(n),a=o.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),n.trigger("click");var r=" li:not(.divider):visible a",l=o.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,n.prototype.toggle).on("keydown.bs.dropdown.data-api",i,n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',n.prototype.keydown)}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return jQuery.easing[jQuery.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/a)+i},easeOutElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin((t*o-s)*(2*Math.PI)/a)+n+i},easeInOutElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(2==(t/=o/2))return i+n;if(a||(a=o*(.3*1.5)),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/a)*-.5+i:r*Math.pow(2,-10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/a)*.5+n+i},easeInBack:function(e,t,i,n,o,s){return null==s&&(s=1.70158),n*(t/=o)*t*((s+1)*t-s)+i},easeOutBack:function(e,t,i,n,o,s){return null==s&&(s=1.70158),n*((t=t/o-1)*t*((s+1)*t+s)+1)+i},easeInOutBack:function(e,t,i,n,o,s){return null==s&&(s=1.70158),(t/=o/2)<1?n/2*(t*t*((1+(s*=1.525))*t-s))+i:n/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+i},easeInBounce:function(e,t,i,n,o){return n-jQuery.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,o)+i:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}}),fotoramaVersion="4.6.3",function(e,t,i,n,o){"use strict";var s="fotorama",a="fullscreen",r=s+"__wrap",l=r+"--css2",c=r+"--css3",d=r+"--video",u=r+"--fade",h=r+"--slide",f=r+"--no-controls",p=r+"--no-shadows",m=r+"--pan-y",g=r+"--rtl",v=r+"--only-active",b=r+"--no-captions",y=r+"--toggle-arrows",w=s+"__stage",x=w+"__frame",C=x+"--video",k=w+"__shaft",_=s+"__grab",S=s+"__pointer",T=s+"__arr",P=T+"--disabled",E=T+"--prev",A=T+"--next",F=s+"__nav",O=F+"-wrap",M=F+"__shaft",D=F+"--dots",R=F+"--thumbs",I=F+"__frame",z=I+"--dot",$=I+"--thumb",L=s+"__fade",j=L+"-front",N=L+"-rear",q=s+"__shadow"+"s",W=q+"--left",H=q+"--right",B=s+"__active",V=s+"__select",Q=s+"--hidden",U=s+"--fullscreen",Y=s+"__fullscreen-icon",X=s+"__error",G=s+"__loading",Z=s+"__loaded",K=Z+"--full",J=Z+"--img",ee=s+"__grabbing",te=s+"__img",ie=te+"--full",ne=s+"__dot",oe=s+"__thumb",se=oe+"-border",ae=s+"__html",re=s+"__video",le=re+"-play",ce=re+"-close",de=s+"__caption",ue=s+"__caption__wrap",he=s+"__spinner",fe='" tabindex="0" role="button',pe=n&&n.fn.jquery.split(".");if(!pe||pe[0]<1||1==pe[0]&&pe[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var me=function(e,t,i){var n,o,s={},a=t.documentElement,r="modernizr",l=t.createElement(r),c=l.style,d=" -webkit- -moz- -o- -ms- ".split(" "),u="Webkit Moz O ms".split(" "),h="Webkit Moz O ms".toLowerCase().split(" "),f={},p=[],m=p.slice,g={}.hasOwnProperty;function v(e){c.cssText=e}function b(e,t){return typeof e===t}function y(e,t){for(var n in e){var o=e[n];if(!~(""+o).indexOf("-")&&c[o]!==i)return"pfx"!=t||o}return!1}function w(e,t,n){var o=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+u.join(o+" ")+o).split(" ");return b(t,"string")||b(t,"undefined")?y(s,t):function(e,t,n){for(var o in e){var s=t[e[o]];if(s!==i)return!1===n?e[o]:b(s,"function")?s.bind(n||t):s}return!1}(s=(e+" "+h.join(o+" ")+o).split(" "),t,n)}for(var x in o=b(g,"undefined")||b(g.call,"undefined")?function(e,t){return t in e&&b(e.constructor.prototype[t],"undefined")}:function(e,t){return g.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=m.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var s=new o,a=t.apply(s,i.concat(m.call(arguments)));return Object(a)===a?a:s}return t.apply(e,i.concat(m.call(arguments)))};return n}),f.csstransforms3d=function(){return!!w("perspective")},f)o(f,x)&&(n=x.toLowerCase(),s[n]=f[x](),p.push((s[n]?"":"no-")+n));return s.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&s.addTest(n,e[n]);else{if(e=e.toLowerCase(),s[e]!==i)return s;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(t?"":"no-")+e),s[e]=t}return s},v(""),l=null,s._version="2.6.2",s._prefixes=d,s._domPrefixes=h,s._cssomPrefixes=u,s.testProp=function(e){return y([e])},s.testAllProps=w,s.testStyles=function(e,i,n,o){var s,l,c,d,u=t.createElement("div"),h=t.body,f=h||t.createElement("body");if(parseInt(n,10))for(;n--;)(c=t.createElement("div")).id=o?o[n]:r+(n+1),u.appendChild(c);return s=["&#173;",'<style id="s',r,'">',e,"</style>"].join(""),u.id=r,(h?u:f).innerHTML+=s,f.appendChild(u),h||(f.style.background="",f.style.overflow="hidden",d=a.style.overflow,a.style.overflow="hidden",a.appendChild(f)),l=i(u,e),h?u.parentNode.removeChild(u):(f.parentNode.removeChild(f),a.style.overflow=d),!!l},s.prefixed=function(e,t,i){return t?w(e,t,i):w(e,"pfx")},s}(0,t),ge={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},ve="webkit moz o ms khtml".split(" ");if(void 0!==t.cancelFullScreen)ge.ok=!0;else for(var be=0,ye=ve.length;be<ye;be++)if(ge.prefix=ve[be],void 0!==t[ge.prefix+"CancelFullScreen"]){ge.ok=!0;break}ge.ok&&(ge.event=ge.prefix+"fullscreenchange",ge.is=function(){switch(this.prefix){case"":return t.fullScreen;case"webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},ge.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},ge.cancel=function(e){return""===this.prefix?t.cancelFullScreen():t[this.prefix+"CancelFullScreen"]()});var we,xe={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Ce={top:"auto",left:"auto",className:""};we=function(){var e,i=["webkit","Moz","ms","O"],n={};function s(e,i){var n,o=t.createElement(e||"div");for(n in i)o[n]=i[n];return o}function a(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}var r,l=(r=s("style",{type:"text/css"}),a(t.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet);function c(t,i,o,s){var a=["opacity",i,~~(100*t),o,s].join("-"),r=.01+o/s*100,c=Math.max(1-(1-t)/i*(100-r),t),d=e.substring(0,e.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";return n[a]||(l.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+c+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+i)%100+"%{opacity:"+t+"}100%{opacity:"+c+"}}",l.cssRules.length),n[a]=1),a}function d(e,t){var n,s,a=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),s=0;s<i.length;s++)if(n=i[s]+t,a[n]!==o)return n;if(a[t]!==o)return t}function u(e,t){for(var i in t)e.style[d(e,i)||i]=t[i];return e}function h(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]===o&&(e[n]=i[n])}return e}function f(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function p(e,t){return"string"==typeof e?e:e[t%e.length]}var m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function g(e){if(void 0===this)return new g(e);this.opts=h(e||{},g.defaults,m)}g.defaults={},h(g.prototype,{spin:function(t){this.stop();var i,n,o=this,a=o.opts,r=o.el=u(s(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),l=a.radius+a.length+a.width;if(t&&(t.insertBefore(r,t.firstChild||null),n=f(t),i=f(r),u(r,{left:("auto"==a.left?n.x-i.x+(t.offsetWidth>>1):parseInt(a.left,10)+l)+"px",top:("auto"==a.top?n.y-i.y+(t.offsetHeight>>1):parseInt(a.top,10)+l)+"px"})),r.setAttribute("role","progressbar"),o.lines(r,o.opts),!e){var c,d=0,h=(a.lines-1)*(1-a.direction)/2,p=a.fps,m=p/a.speed,g=(1-a.opacity)/(m*a.trail/100),v=m/a.lines;!function e(){d++;for(var t=0;t<a.lines;t++)c=Math.max(1-(d+(a.lines-t)*v)%m*g,a.opacity),o.opacity(r,t*a.direction+h,c,a);o.timeout=o.el&&setTimeout(e,~~(1e3/p))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=o),this},lines:function(t,i){var n,o=0,r=(i.lines-1)*(1-i.direction)/2;function l(e,t){return u(s(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*o+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(;o<i.lines;o++)n=u(s(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:e&&c(i.opacity,i.trail,r+o*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&a(n,u(l("#000","0 0 4px #000"),{top:"2px"})),a(t,a(n,l(p(i.color,o),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var v=u(s("group"),{behavior:"url(#default#VML)"});return!d(v,"transform")&&v.adj?function(){function e(e,t){return s("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}l.addRule(".spin-vml","behavior:url(#default#VML)"),g.prototype.lines=function(t,i){var n=i.length+i.width,o=2*n;function s(){return u(e("group",{coordsize:o+" "+o,coordorigin:-n+" "+-n}),{width:o,height:o})}var r,l=2*-(i.width+i.length)+"px",c=u(s(),{position:"absolute",top:l,left:l});function d(t,o,r){a(c,a(u(s(),{rotation:360/i.lines*t+"deg",left:~~o}),a(u(e("roundrect",{arcsize:i.corners}),{width:n,height:i.width,left:i.radius,top:-i.width>>1,filter:r}),e("fill",{color:p(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}if(i.shadow)for(r=1;r<=i.lines;r++)d(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;r<=i.lines;r++)d(r);return a(t,c)},g.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=(o=(o=o.childNodes[t+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i)}}():e=d(v,"animation"),g}();var ke,_e,Se,Te,Pe,Ee,Ae=n(e),Fe=n(t),Oe="quirks"===i.hash.replace("#",""),Me=me.csstransforms3d,De=Me&&!Oe,Re=Me||"CSS1Compat"===t.compatMode,Ie=ge.ok,ze=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),$e=!De||ze,Le=navigator.msPointerEnabled,je="onwheel"in t.createElement("div")?"wheel":t.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Ne=250,qe=300,We=1400,He=5e3,Be=64,Ve=500,Qe=333,Ue="$stageFrame",Ye="$navDotFrame",Xe="$navThumbFrame",Ge="auto",Ze=function(e){var t="bez_"+n.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof n.easing[t]){var i=function(e,t){var i=[null,null],n=[null,null],o=[null,null],s=function(s,a){return o[a]=3*e[a],n[a]=3*(t[a]-e[a])-o[a],i[a]=1-o[a]-n[a],s*(o[a]+s*(n[a]+s*i[a]))},a=function(e){return o[0]+e*(2*n[0]+3*i[0]*e)};return function(e){return s(function(e){for(var t,i=e,n=0;++n<14&&(t=s(i,0)-e,!(Math.abs(t)<.001));)i-=t/a(i);return i}(e),1)}};n.easing[t]=function(t,n,o,s,a){return s*i([e[0],e[1]],[e[2],e[3]])(n/a)+o}}return t}([.1,0,.25,1]),Ke="50%",Je={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Ke,thumbposition:Ke,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Be,thumbheight:Be,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:qe,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},et={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};function tt(){}function it(e,t,i){return Math.max(isNaN(t)?-1/0:t,Math.min(isNaN(i)?1/0:i,e))}function nt(e){var t={};return De?t.transform="translate3d("+e+"px,0,0)":t.left=e,t}function ot(e){return{"transition-duration":e+"ms"}}function st(e,t){return isNaN(e)?t:e}function at(e,t){return st(+String(e).replace(t||"px",""))}function rt(e,t){return st(function(e){return/%$/.test(e)?at(e,"%"):o}(e)/100*t,at(e))}function lt(e){return(!isNaN(at(e))||!isNaN(at(e,"%")))&&e}function ct(e,t,i,n){return(e-(n||0))*(t+(i||0))}function dt(e,t,i,n){var o,s=e.data();s&&(s.onEndFn=function(){o||(o=!0,clearTimeout(s.tT),i())},s.tProp=t,clearTimeout(s.tT),s.tT=setTimeout(function(){s.onEndFn()},1.5*n),function(e){var t=e.data();t.tEnd||(Et(e[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[me.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()}),t.tEnd=!0)}(e))}function ut(e,t){if(e.length){var i=e.data();De?(e.css(ot(0)),i.onEndFn=tt,clearTimeout(i.tT)):e.stop();var n=ht(t,function(){return function(e){return De?+((t=e.css("transform")).match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]):+e.css("left").replace("px","");var t}(e)});return e.css(nt(n)),n}}function ht(){for(var e,t=0,i=arguments.length;t<i&&"number"!=typeof(e=t?arguments[t]():arguments[t]);t++);return e}function ft(e,t){return Math.round(e+(t-e)/1.5)}function pt(){return pt.p=pt.p||("https:"===i.protocol?"https://":"http://"),pt.p}function mt(e,i){if("string"!=typeof e)return e;var n,o;if((e=function(e){var i=t.createElement("a");return i.href=e,i}(e)).host.match(/youtube\.com/)&&e.search){if(n=e.search.split("v=")[1]){var s=n.indexOf("&");-1!==s&&(n=n.substring(0,s)),o="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(n=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):e.host.match(/vimeo\.com/)&&(o="vimeo",n=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!i||(n=e.href,o="custom"),!!n&&{id:n,type:o,s:e.search.replace(/^\?/,""),p:pt()}}function gt(e,t,i,o){for(var s=0,a=e.length;s<a;s++){var r=e[s];if(r.i===i&&r.thumbsReady){var l={videoReady:!0};l[Ue]=l[Xe]=l[Ye]=!1,o.splice(s,1,n.extend({},r,l,t));break}}}function vt(e){var t=[];function i(e,t,i){var o=i.thumb&&i.img!==i.thumb,s=at(i.width||e.attr("width")),a=at(i.height||e.attr("height"));n.extend(i,{width:s,height:a,thumbratio:Pt(i.thumbratio||at(i.thumbwidth||t&&t.attr("width")||o||s)/at(i.thumbheight||t&&t.attr("height")||o||a))})}return e.children().each(function(){var e,o,s,a,r,l,c,d,u,h=n(this),f=Tt(n.extend(h.data(),{id:h.attr("id")}));if(h.is("a, img"))o=f,s=!0,a=(e=h).children("img").eq(0),r=e.attr("href"),l=e.attr("src"),c=a.attr("src"),d=o.video,(u=!!s&&mt(r,!0===d))?r=!1:u=d,i(e,a,n.extend(o,{video:u,img:o.img||r||l||c,thumb:o.thumb||c||l||r}));else{if(h.is(":empty"))return;i(h,null,n.extend(f,{html:this,_html:h.html()}))}t.push(f)}),t}function bt(e,t,i,n){return bt.i||(bt.i=1,bt.ii=[!0]),n=n||bt.i,void 0===bt.ii[n]&&(bt.ii[n]=!0),e()?t():bt.ii[n]&&setTimeout(function(){bt.ii[n]&&bt(e,t,i,n)},i||100),bt.i++}function yt(e,t,i,n){var o,s=e.data(),a=s.measures;if(a&&(!s.l||s.l.W!==a.width||s.l.H!==a.height||s.l.r!==a.ratio||s.l.w!==t.w||s.l.h!==t.h||s.l.m!==i||s.l.p!==n)){var r=a.width,l=a.height,c=t.w/t.h,d=a.ratio>=c,u="scaledown"===i,h="contain"===i,f="cover"===i,p={x:lt((o=((o=n)+"").split(/\s+/))[0])||Ke,y:lt(o[1])||Ke};d&&(u||h)||!d&&f?l=(r=it(t.w,0,u?r:1/0))/a.ratio:(d&&f||!d&&(u||h))&&(r=(l=it(t.h,0,u?l:1/0))*a.ratio),e.css({width:r,height:l,left:rt(p.x,t.w-r),top:rt(p.y,t.h-l)}),s.l={W:a.width,H:a.height,r:a.ratio,w:t.w,h:t.h,m:i,p:n}}return!0}function wt(e,t,i){return t!==i&&(e<=t?"left":e>=i?"right":"left right")}function xt(e,t,i,n){if(!i)return!1;if(!isNaN(e))return e-(n?0:1);for(var o,s=0,a=t.length;s<a;s++){if(t[s].id===e){o=s;break}}return o}function Ct(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function kt(e){for(var t=e.length;t;){var i=Math.floor(Math.random()*t--),n=e[t];e[t]=e[i],e[i]=n}return e}function _t(e){return"[object Array]"==Object.prototype.toString.call(e)&&n.map(e,function(e){return n.extend({},e)})}function St(e,t,i){e.scrollLeft(t||0).scrollTop(i||0)}function Tt(e){if(e){var t={};return n.each(e,function(e,i){t[e.toLowerCase()]=i}),t}}function Pt(e){if(e){var t=+e;return isNaN(t)?+(t=e.split("/"))[0]/+t[1]||o:t}}function Et(e,t,i,n){t&&(e.addEventListener?e.addEventListener(t,i,!!n):e.attachEvent("on"+t,i))}function At(e){return{tabindex:-1*e+"",disabled:e}}function Ft(e,t){Et(e,"keyup",function(i){(function(e){return!!e.getAttribute("disabled")})(e)||13==i.keyCode&&t.call(e,i)})}function Ot(e,t){Et(e,"focus",e.onfocusin=function(i){t.call(e,i)},!0)}function Mt(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&e.stopPropagation&&e.stopPropagation()}function Dt(e){return e?">":"<"}function Rt(e,t){var i=e.data(),o=Math.round(t.pos),s=function(){i.sliding=!1,(t.onEnd||tt)()};void 0!==t.overPos&&t.overPos!==t.pos&&(o=t.overPos,s=function(){Rt(e,n.extend({},t,{overPos:t.pos,time:Math.max(qe,t.time/2)}))});var a=n.extend(nt(o),t.width&&{width:t.width});i.sliding=!0,De?(e.css(n.extend(ot(t.time),a)),t.time>10?dt(e,"transform",s,t.time):s()):e.stop().animate(a,t.time,Ze,s)}function It(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY,e._now=n.now()}function zt(e,i){var o,s,a,r,l,c,d,u,h,f=e[0],p={};function m(e){if(a=n(e.target),p.checked=c=d=h=!1,o||p.flow||e.touches&&e.touches.length>1||e.which>1||Se&&Se.type!==e.type&&Pe||(c=i.select&&a.is(i.select,f)))return c;l="touchstart"===e.type,d=a.is("a, a *",f),r=p.control,u=p.noMove||p.noSwipe||r?16:p.snap?0:4,It(e),s=Se=e,Te=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),(i.onStart||tt).call(f,e,{control:r,$target:a}),o=p.flow=!0,l&&!p.go||Mt(e)}function g(e){if(e.touches&&e.touches.length>1||Le&&!e.isPrimary||Te!==e.type||!o)return o&&v(),void(i.onTouchEnd||tt)();It(e);var t=Math.abs(e._x-s._x),n=Math.abs(e._y-s._y),a=t-n,r=(p.go||p.x||a>=0)&&!p.noSwipe,c=a<0;l&&!p.checked?(o=r)&&Mt(e):(Mt(e),(i.onMove||tt).call(f,e,{touch:l})),!h&&Math.sqrt(Math.pow(t,2)+Math.pow(n,2))>u&&(h=!0),p.checked=p.checked||r||c}function v(e){(i.onTouchEnd||tt)();var t=o;p.control=o=!1,t&&(p.flow=!1),!t||d&&!p.checked||(e&&Mt(e),Pe=!0,clearTimeout(Ee),Ee=setTimeout(function(){Pe=!1},1e3),(i.onEnd||tt).call(f,{moved:h,$target:a,control:r,touch:l,startEvent:s,aborted:!e||"MSPointerCancel"===e.type}))}function b(){p.flow&&setTimeout(function(){p.flow=!1},Ne)}return Le?(Et(f,"MSPointerDown",m),Et(t,"MSPointerMove",g),Et(t,"MSPointerCancel",v),Et(t,"MSPointerUp",v)):(Et(f,"touchstart",m),Et(f,"touchmove",g),Et(f,"touchend",v),Et(t,"touchstart",function(){p.flow||setTimeout(function(){p.flow=!0},10)}),Et(t,"touchend",b),Et(t,"touchcancel",b),Ae.on("scroll",b),e.on("mousedown",m),Fe.on("mousemove",g).on("mouseup",v)),e.on("click","a",function(e){p.checked&&Mt(e)}),p}function $t(e,t){var i,o,s,a,r,l,c,d,u,h,f,p,m,g,v=e[0],b=e.data(),y={};function w(n,r){g=!0,i=o=n._x,c=n._now,l=[[c,i]],s=a=y.noMove||r?0:ut(e,(t.getPos||tt)()),(t.onStart||tt).call(v,n)}return y=n.extend(zt(t.$wrap,n.extend({},t,{onStart:function(e,t){u=y.min,h=y.max,f=y.snap,p=e.altKey,g=m=!1,t.control||b.sliding||w(e)},onMove:function(n,c){y.noSwipe||(g||w(n),o=n._x,l.push([n._now,o]),r=wt(a=s-(i-o),u,h),a<=u?a=ft(a,u):a>=h&&(a=ft(a,h)),y.noMove||(e.css(nt(a)),m||(m=!0,c.touch||Le||e.addClass(ee)),(t.onMove||tt).call(v,n,{pos:a,edge:r})))},onEnd:function(i){if(!y.noSwipe||!i.moved){g||w(i.startEvent,!0),i.touch||Le||e.removeClass(ee);for(var r,c,m,b,x,C,k,_,S,T=(d=n.now())-Ne,P=null,E=qe,A=t.friction,F=l.length-1;F>=0;F--){if(r=l[F][0],c=Math.abs(r-T),null===P||c<m)P=r,b=l[F][1];else if(P===T||c>m)break;m=c}k=it(a,u,h);var O=b-o,M=O>=0,D=d-P,R=D>Ne,I=!R&&a!==s&&k===a;f&&(k=it(Math[I?M?"floor":"ceil":"round"](a/f)*f,u,h),u=h=k),I&&(f||k===a)&&(S=-O/D,E*=it(Math.abs(S),t.timeLow,t.timeHigh),x=Math.round(a+S*E/A),f||(k=x),(!M&&x>h||M&&x<u)&&(C=M?u:h,f||(k=C),_=it(k+.03*(_=x-C),C-50,C+50),E=Math.abs((a-_)/(S/A)))),E*=p?10:1,(t.onEnd||tt).call(v,n.extend(i,{moved:i.moved||R&&f,pos:a,newPos:k,overPos:_,time:E}))}}})),y)}function Lt(e,t){var i,o,s,a=e[0],r={prevent:{}};return Et(a,je,function(e){var a=e.wheelDeltaY||-1*e.deltaY||0,l=e.wheelDeltaX||-1*e.deltaX||0,c=Math.abs(l)&&!Math.abs(a),d=Dt(l<0),u=o===d,h=n.now(),f=h-s<Ne;o=d,s=h,c&&r.ok&&(!r.prevent[d]||i)&&(Mt(e,!0),i&&u&&f||(t.shift&&(i=!0,clearTimeout(r.t),r.t=setTimeout(function(){i=!1},We)),(t.onEnd||tt)(e,t.shift?d:l)))}),r}function jt(){n.each(n.Fotorama.instances,function(e,t){t.index=e})}bt.stop=function(e){bt.ii[e]=!1},jQuery.Fotorama=function(e,o){ke=n("html"),_e=n("body");var L,ee,re,pe,me,ve,be,ye,Se,Te,Pe,Ee,Oe,Me,ze,je,We,Ze,Ke,Je,st,dt,ft,It,Nt,qt,Wt,Ht,Bt,Vt,Qt,Ut,Yt,Xt,Gt,Zt,Kt,Jt,ei,ti,ii=this,ni=n.now(),oi=s+ni,si=e[0],ai=1,ri=e.data(),li=n("<style></style>"),ci=n(Ct(Q)),di=n(Ct(r)),ui=n(Ct(w)).appendTo(di),hi=(ui[0],n(Ct(k)).appendTo(ui)),fi=n(),pi=n(Ct(T+" "+E+fe)),mi=n(Ct(T+" "+A+fe)),gi=pi.add(mi).appendTo(ui),vi=n(Ct(O)),bi=n(Ct(F)).appendTo(vi),yi=n(Ct(M)).appendTo(bi),wi=n(),xi=n(),Ci=(hi.data(),yi.data(),n(Ct(se)).appendTo(yi)),ki=n(Ct(Y+fe)),_i=ki[0],Si=n(Ct(le)),Ti=n(Ct(ce)).appendTo(ui)[0],Pi=n(Ct(he)),Ei=!1,Ai={},Fi={},Oi={},Mi={},Di={},Ri={},Ii={},zi=0,$i=[];function Li(){n.each(L,function(e,t){if(!t.i){t.i=ai++;var i=mt(t.video,!0);if(i){var o={};t.video=i,t.img||t.thumb?t.thumbsReady=!0:o=function(e,t,i){var o,s,a=e.video;return"youtube"===a.type?(o=(s=pt()+"img.youtube.com/vi/"+a.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===a.type?n.ajax({url:pt()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(n){e.thumbsReady=!0,gt(t,{img:n[0].thumbnail_large,thumb:n[0].thumbnail_small},e.i,i)}}):e.thumbsReady=!0,{img:o,thumb:s}}(t,L,ii),gt(L,{img:o.img,thumb:o.thumb},t.i,ii)}}})}function ji(e){return Ht[e]||ii.fullScreen}function Ni(t){var i;t!==Ni.f&&(t?(e.html("").addClass(s+" "+oi).append(di).before(li).before(ci),i=ii,n.Fotorama.instances.push(i),jt()):(di.detach(),li.detach(),ci.detach(),e.html(ri.urtext).removeClass(oi),function(e){n.Fotorama.instances.splice(e.index,1),jt()}(ii)),function(e){var t="keydown."+s,i=s+ni,n="keydown."+i,r="resize."+i+" orientationchange."+i;e?(Fe.on(n,function(e){var t,i;me&&27===e.keyCode?(t=!0,_n(me,!0,!0)):(ii.fullScreen||o.keyboard&&!ii.index)&&(27===e.keyCode?(t=!0,ii.cancelFullScreen()):e.shiftKey&&32===e.keyCode&&ji("space")||37===e.keyCode&&ji("left")||38===e.keyCode&&ji("up")?i="<":32===e.keyCode&&ji("space")||39===e.keyCode&&ji("right")||40===e.keyCode&&ji("down")?i=">":36===e.keyCode&&ji("home")?i="<<":35===e.keyCode&&ji("end")&&(i=">>")),(t||i)&&Mt(e),i&&ii.show({index:i,slow:e.altKey,user:!0})}),ii.index||Fe.off(t).on(t,"textarea, input, select",function(e){!_e.hasClass(a)&&e.stopPropagation()}),Ae.on(r,ii.resize)):(Fe.off(n),Ae.off(r))}(t),Ni.f=t)}function qi(){var e=ee<2&&!o.enableifsingleframe||me;Fi.noMove=e||st,Fi.noSwipe=e||!o.swipe,!Nt&&hi.toggleClass(_,!o.click&&!Fi.noMove&&!Fi.noSwipe),Le&&di.toggleClass(m,!Fi.noSwipe)}function Wi(e){!0===e&&(e=""),o.autoplay=Math.max(+e||He,1.5*It)}function Hi(e){return e<0?(ee+e%ee)%ee:e>=ee?e%ee:e}function Bi(e){return it(e,0,ee-1)}function Vi(e){return ze?Hi(e):Bi(e)}function Qi(e){return!!(e>0||ze)&&e-1}function Ui(e){return!!(e<ee-1||ze)&&e+1}function Yi(e,t,i){if("number"==typeof e){e=new Array(e);var o=!0}return n.each(e,function(e,n){if(o&&(n=e),"number"==typeof n){var s=L[Hi(n)];if(s){var a="$"+t+"Frame",r=s[a];i.call(this,e,n,s,r,a,r&&r.data())}}})}function Xi(e,t,i,n){(!Bt||"*"===Bt&&n===Me)&&(e=lt(o.width)||lt(e)||Ve,t=lt(o.height)||lt(t)||Qe,ii.resize({width:e,ratio:o.ratio||i||e/t},0,n!==Me&&"*"))}function Gi(e,t,i,s,a,r){Yi(e,t,function(e,l,c,d,u,h){if(d){var f=ii.fullScreen&&c.full&&c.full!==c.img&&!h.$full&&"stage"===t;if(!h.$img||r||f){var p=new Image,m=n(p),g=m.data();h[f?"$full":"$img"]=m;var v="stage"===t?f?"full":"img":"thumb",b=c[v],y=f?null:c["stage"===t?"thumb":"img"];"navThumb"===t&&(d=h.$wrap),b?(n.Fotorama.cache[b]?function e(){"error"===n.Fotorama.cache[b]?x():"loaded"===n.Fotorama.cache[b]?setTimeout(C,0):setTimeout(e,100)}():(n.Fotorama.cache[b]="*",m.on("load",C).on("error",x)),h.state="",p.src=b):x()}}function w(e){var t=Hi(l);vn(e,{index:t,src:b,frame:L[t]})}function x(){m.remove(),n.Fotorama.cache[b]="error",c.html&&"stage"===t||!y||y===b?(!b||c.html||f?"stage"===t&&(d.trigger("f:load").removeClass(G+" "+X).addClass(Z),w("load"),Xi()):(d.trigger("f:error").removeClass(G).addClass(X),w("error")),h.state="error",!(ee>1&&L[l]===c)||c.html||c.deleted||c.video||f||(c.deleted=!0,ii.splice(l,1))):(c[v]=b=y,Gi([l],t,i,s,a,!0))}function C(){var e=10;bt(function(){return!Zt||!e--&&!$e},function(){n.Fotorama.measures[b]=g.measures=n.Fotorama.measures[b]||{width:p.width,height:p.height,ratio:p.width/p.height},Xi(g.measures.width,g.measures.height,g.measures.ratio,l),m.off("load error").addClass(te+(f?" "+ie:"")).prependTo(d),yt(m,(n.isFunction(i)?i():i)||Ai,s||c.fit||o.fit,a||c.position||o.position),n.Fotorama.cache[b]=h.state="loaded",setTimeout(function(){d.trigger("f:load").removeClass(G+" "+X).addClass(Z+" "+(f?K:J)),"stage"===t?w("load"):(c.thumbratio===Ge||!c.thumbratio&&o.thumbratio===Ge)&&(c.thumbratio=g.measures.ratio,Mn())},0)})}})}function Zi(){Pi.detach(),pe&&pe.stop()}function Ki(){var e,t=ve[Ue];t&&!t.data().state&&(e=t,Pi.append(pe.spin().el).appendTo(e),t.on("f:load f:error",function(){t.off("f:load f:error"),Zi()}))}function Ji(e){Ft(e,An),Ot(e,function(){setTimeout(function(){St(bi)},0),hn({time:It,guessIndex:n(this).data().eq,minMax:Mi})})}function en(e,t){Yi(e,t,function(e,i,o,s,a,r){if(!s){s=o[a]=di[a].clone(),(r=s.data()).data=o;var l=s[0];"stage"===t?(o.html&&n('<div class="'+ae+'"></div>').append(o._html?n(o.html).removeAttr("id").html(o._html):o.html).appendTo(s),o.caption&&n(Ct(de,Ct(ue,o.caption))).appendTo(s),o.video&&s.addClass(C).append(Si.clone()),Ot(l,function(){setTimeout(function(){St(ui)},0),Pn({index:r.eq,user:!0})}),fi=fi.add(s)):"navDot"===t?(Ji(l),wi=wi.add(s)):"navThumb"===t&&(Ji(l),r.$wrap=s.children(":first"),xi=xi.add(s),o.video&&r.$wrap.append(Si.clone()))}})}function tn(e,t,i,n){return e&&e.length&&yt(e,t,i,n)}function nn(e){Yi(e,"stage",function(e,i,s,a,r,l){if(a){var c,d=Hi(i),u=s.fit||o.fit,h=s.position||o.position;l.eq=d,Ii[Ue][d]=a.css(n.extend({left:st?0:ct(i,Ai.w,o.margin,ye)},st&&ot(0))),c=a[0],n.contains(t.documentElement,c)||(a.appendTo(hi),_n(s.$video)),tn(l.$img,Ai,u,h),tn(l.$full,Ai,u,h)}})}function on(e,t){if("thumbs"===je&&!isNaN(e)){var i=-e,s=-e+Ai.nw;xi.each(function(){var e=n(this).data(),a=e.eq,r=function(){return{h:ft,w:e.w}},l=r(),c=L[a]||{},d=c.thumbfit||o.thumbfit,u=c.thumbposition||o.thumbposition;l.w=e.w,e.l+e.w<i||e.l>s||tn(e.$img,l,d,u)||t&&Gi([a],"navThumb",r,d,u)})}}function sn(e,t,i){if(!sn[i]){var s="nav"===i&&We,a=0;t.append(e.filter(function(){for(var e,t=n(this),i=t.data(),o=0,s=L.length;o<s;o++)if(i.data===L[o]){e=!0,i.eq=o;break}return e||t.remove()&&!1}).sort(function(e,t){return n(e).data().eq-n(t).data().eq}).each(function(){if(s){var e=n(this),t=e.data(),i=Math.round(ft*t.data.thumbratio)||dt;t.l=a,t.w=i,e.css({width:i}),a+=i+o.thumbmargin}})),sn[i]=!0}}function an(e){return e-zi>Ai.w/3}function rn(e){return!(ze||Ei+e&&Ei-ee+e||me)}function ln(){var e=rn(0),t=rn(1);pi.toggleClass(P,e).attr(At(e)),mi.toggleClass(P,t).attr(At(t))}function cn(){Oi.ok&&(Oi.prevent={"<":rn(0),">":rn(1)})}function dn(e){var t,i,n=e.data();return We?(t=n.l,i=n.w):(t=e.position().left,i=e.width()),{c:t+i/2,min:-t+10*o.thumbmargin,max:-t+Ai.w-i-10*o.thumbmargin}}function un(e){var t=ve[Jt].data();Rt(Ci,{time:1.2*e,pos:t.l,width:t.w-2*o.thumbborderwidth})}function hn(e){var t=L[e.guessIndex][Jt];if(t){var i=Mi.min!==Mi.max,n=e.minMax||i&&dn(ve[Jt]),o=i&&(e.keep&&hn.l?hn.l:it((e.coo||Ai.nw/2)-dn(t).c,n.min,n.max)),s=i&&it(o,Mi.min,Mi.max),a=1.1*e.time;Rt(yi,{time:a,pos:s||0,onEnd:function(){on(s,!0)}}),kn(bi,wt(s,Mi.min,Mi.max)),hn.l=o}}function fn(e){for(var t=Ri[e];t.length;)t.shift().removeClass(B)}function pn(e){var t=Ii[e];n.each(be,function(e,i){delete t[Hi(i)]}),n.each(t,function(e,i){delete t[e],i.detach()})}function mn(e){ye=Se=Ei;var t=ve[Ue];t&&(fn(Ue),Ri[Ue].push(t.addClass(B)),e||ii.show.onEnd(!0),ut(hi,0),pn(Ue),nn(be),Fi.min=ze?-1/0:-ct(ee-1,Ai.w,o.margin,ye),Fi.max=ze?1/0:-ct(0,Ai.w,o.margin,ye),Fi.snap=Ai.w+o.margin,Mi.min=Math.min(0,Ai.nw-yi.width()),Mi.max=0,yi.toggleClass(_,!(Mi.noMove=Mi.min===Mi.max)))}function gn(e,t){e&&n.each(t,function(t,i){i&&n.extend(i,{width:e.width||i.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:Pt(e.ratio)})})}function vn(t,i){e.trigger(s+":"+t,[ii,i])}function bn(){clearTimeout(yn.t),Zt=1,o.stopautoplayontouch?ii.stopAutoplay():Yt=!0}function yn(){Zt&&(o.stopautoplayontouch||(wn(),xn()),yn.t=setTimeout(function(){Zt=0},qe+Ne))}function wn(){Yt=!(!me&&!Xt)}function xn(){if(clearTimeout(xn.t),bt.stop(xn.w),o.autoplay&&!Yt){ii.autoplay||(ii.autoplay=!0,vn("startautoplay"));var e=Ei,t=ve[Ue].data();xn.w=bt(function(){return t.state||e!==Ei},function(){xn.t=setTimeout(function(){if(!Yt&&e===Ei){var t=Oe,i=L[t][Ue].data();xn.w=bt(function(){return i.state||t!==Oe},function(){Yt||t!==Oe||ii.show(ze?Dt(!Wt):Oe)})}},o.autoplay)})}else ii.autoplay&&(ii.autoplay=!1,vn("stopautoplay"))}function Cn(){ii.fullScreen&&(ii.fullScreen=!1,Ie&&ge.cancel(si),_e.removeClass(a),ke.removeClass(a),e.removeClass(U).insertAfter(ci),Ai=n.extend({},Gt),_n(me,!0,!0),En("x",!1),ii.resize(),Gi(be,"stage"),St(Ae,Qt,Vt),vn("fullscreenexit"))}function kn(e,t){qt&&(e.removeClass(W+" "+H),t&&!me&&e.addClass(t.replace(/^|\s/g," "+q+"--")))}function _n(e,t,i){t&&(di.removeClass(d),me=!1,qi()),e&&e!==me&&(e.remove(),vn("unloadvideo")),i&&(wn(),xn())}function Sn(e){di.toggleClass(f,e)}function Tn(e){if(!Fi.flow){var t=e?e.pageX:Tn.x,i=t&&!rn(an(t))&&o.click;Tn.p!==i&&ui.toggleClass(S,i)&&(Tn.p=i,Tn.x=t)}}function Pn(e){clearTimeout(Pn.t),o.clicktransition&&o.clicktransition!==o.transition?setTimeout(function(){var t=o.transition;ii.setOptions({transition:o.clicktransition}),Nt=t,Pn.t=setTimeout(function(){ii.show(e)},10)},0):ii.show(e)}function En(e,t){Fi[e]=Mi[e]=t}function An(e){Pn({index:n(this).data().eq,slow:e.altKey,user:!0,coo:e._x-bi.offset().left})}function Fn(e){Pn({index:gi.index(this)?">":"<",slow:e.altKey,user:!0})}function On(e){Ot(e,function(){setTimeout(function(){St(ui)},0),Sn(!1)})}function Mn(){if(L=ii.data=L||_t(o.data)||vt(e),ee=ii.size=L.length,!Dn.ok&&o.shuffle&&kt(L),Li(),Ei=Bi(Ei),ee&&Ni(!0),function(){ii.options=o=Tt(o),st="crossfade"===o.transition||"dissolve"===o.transition,ze=o.loop&&(ee>2||st&&(!Nt||"slide"!==Nt)),It=+o.transitionduration||qe,Wt="rtl"===o.direction,Ht=n.extend({},o.keyboard&&et,o.keyboard);var e,t,i,s={add:[],remove:[]};function a(e,t){s[e?"add":"remove"].push(t)}ee>1||o.enableifsingleframe?(je=o.nav,Ze="top"===o.navposition,s.remove.push(V),gi.toggle(!!o.arrows)):(je=!1,gi.hide()),Zi(),pe=new we(n.extend(xe,o.spinner,Ce,{direction:Wt?-1:1})),ln(),cn(),o.autoplay&&Wi(o.autoplay),dt=at(o.thumbwidth)||Be,ft=at(o.thumbheight)||Be,Oi.ok=Di.ok=o.trackpad&&!$e,qi(),gn(o,[Ai]),(We="thumbs"===je)?(en(ee,"navThumb"),re=xi,Jt=Xe,e=li,t=n.Fotorama.jst.style({w:dt,h:ft,b:o.thumbborderwidth,m:o.thumbmargin,s:ni,q:!Re}),(i=e[0]).styleSheet?i.styleSheet.cssText=t:e.html(t),bi.addClass(R).removeClass(D)):"dots"===je?(en(ee,"navDot"),re=wi,Jt=Ye,bi.addClass(D).removeClass(R)):(je=!1,bi.removeClass(R+" "+D)),je&&(Ze?vi.insertBefore(ui):vi.insertAfter(ui),sn.nav=!1,sn(re,yi,"nav")),(Ke=o.allowfullscreen)?(ki.prependTo(ui),Je=Ie&&"native"===Ke):(ki.detach(),Je=!1),a(st,u),a(!st,h),a(!o.captions,b),a(Wt,g),a("always"!==o.arrows,y),a(!(qt=o.shadows&&!$e),p),di.addClass(s.add.join(" ")).removeClass(s.remove.join(" ")),n.extend({},o)}(),!Mn.i){Mn.i=!0;var t=o.startindex;(t||o.hash&&i.hash)&&(Me=xt(t||i.hash.replace(/^#/,""),L,0===ii.index||t,t)),Ei=ye=Se=Te=Me=Vi(Me)||0}if(ee){if(function e(){if(!e.f===Wt)return e.f=Wt,Ei=ee-1-Ei,ii.reverse(),!0}())return;me&&_n(me,!0),be=[],pn(Ue),Mn.ok=!0,ii.show({index:Ei,time:0}),ii.resize()}else ii.destroy()}function Dn(){Dn.ok||(Dn.ok=!0,vn("ready"))}di[Ue]=n(Ct(x)),di[Xe]=n(Ct(I+" "+$+fe,Ct(oe))),di[Ye]=n(Ct(I+" "+z+fe,Ct(ne))),Ri[Ue]=[],Ri[Xe]=[],Ri[Ye]=[],Ii[Ue]={},di.addClass(De?c:l).toggleClass(f,!o.controlsonstart),ri.fotorama=this,ii.startAutoplay=function(e){return ii.autoplay?this:(Yt=Xt=!1,Wi(e||o.autoplay),xn(),this)},ii.stopAutoplay=function(){return ii.autoplay&&(Yt=Xt=!0,xn()),this},ii.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?Se+1:"<"===t?Se-1:"<<"===t?0:">>"===t?ee-1:t,t=void 0===(t=isNaN(t)?xt(t,L,!0):t)?Ei||0:t,ii.activeIndex=Ei=Vi(t),Pe=Qi(Ei),Ee=Ui(Ei),Oe=Hi(Ei+(Wt?-1:1)),be=[Ei,Pe,Ee],Se=ze?t:Ei;var s=Math.abs(Te-Se),a=ht(e.time,function(){return Math.min(It*(1+(s-1)/12),2*It)}),r=e.overPos;e.slow&&(a*=10);var l=ve;ii.activeFrame=ve=L[Ei];var c=l===ve&&!e.user;_n(me,ve.i!==L[Hi(ye)].i),en(be,"stage"),nn($e?[Se]:[Se,Qi(Se),Ui(Se)]),En("go",!0),c||vn("show",{user:e.user,time:a}),Yt=!0;var d,u=ii.show.onEnd=function(t){if(!u.ok){if(u.ok=!0,t||mn(!0),c||vn("showend",{user:e.user}),!t&&Nt&&Nt!==o.transition)return ii.setOptions({transition:Nt}),void(Nt=!1);Ki(),Gi(be,"stage"),En("go",!1),cn(),Tn(),wn(),xn()}};st?function e(t,i,o,s,a,r){var l=void 0!==r;if(l||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||n(t),i=i||n(i);var c=t[0],d=i[0],u="crossfade"===s.method,h=function(){if(!h.done){h.done=!0;var t=(l||a.shift())&&a.shift();t&&e.apply(this,t),(s.onEnd||tt)(!!t)}},f=s.time/(r||1);o.removeClass(N+" "+j),t.stop().addClass(N),i.stop().addClass(j),u&&d&&t.fadeTo(0,0),t.fadeTo(u?f:0,1,u&&h),i.fadeTo(f,0,h),c&&u||d||h()}}(ve[Ue],Ei!==Te?L[Te][Ue]:null,fi,{time:a,method:o.transition,onEnd:u},$i):Rt(hi,{pos:-ct(Se,Ai.w,o.margin,ye),overPos:r,time:a,onEnd:u});if(ln(),je){fn(Jt),Ri[Jt].push(ve[Jt].addClass(B));var h=Bi(Ei+it(Se-Te,-1,1));hn({time:a,coo:h!==Ei&&e.coo,guessIndex:void 0!==e.coo?h:Ei,keep:c}),We&&un(a)}return Ut=void 0!==Te&&Te!==Ei,Te=Ei,o.hash&&Ut&&!ii.eq&&(d=ve.id||Ei+1,i.replace(i.protocol+"//"+i.host+i.pathname.replace(/^\/?/,"/")+i.search+"#"+d)),this},ii.requestFullScreen=function(){return Ke&&!ii.fullScreen&&(Vt=Ae.scrollTop(),Qt=Ae.scrollLeft(),St(Ae),En("x",!0),Gt=n.extend({},Ai),e.addClass(U).appendTo(_e.addClass(a)),ke.addClass(a),_n(me,!0,!0),ii.fullScreen=!0,Je&&ge.request(si),ii.resize(),Gi(be,"stage"),Ki(),vn("fullscreenenter")),this},ii.cancelFullScreen=function(){return Je&&ge.is()?ge.cancel(t):Cn(),this},ii.toggleFullScreen=function(){return ii[(ii.fullScreen?"cancel":"request")+"FullScreen"]()},Et(t,ge.event,function(){!L||ge.is()||me||Cn()}),ii.resize=function(e){if(!L)return this;var t=arguments[1]||0,i=arguments[2];gn(ii.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:Tt(e),[Ai,i||ii.fullScreen||o]);var n=Ai.width,s=Ai.height,a=Ai.ratio,r=Ae.height()-(je?bi.height():0);return lt(n)&&(di.addClass(v).css({width:n,minWidth:Ai.minwidth||0,maxWidth:Ai.maxwidth||99999}),n=Ai.W=Ai.w=di.width(),Ai.nw=je&&rt(o.navwidth,n)||n,o.glimpse&&(Ai.w-=Math.round(2*(rt(o.glimpse,n)||0))),hi.css({width:Ai.w,marginLeft:(Ai.W-Ai.w)/2}),(s=(s=rt(s,r))||a&&n/a)&&(n=Math.round(n),s=Ai.h=Math.round(it(s,rt(Ai.minheight,r),rt(Ai.maxheight,r))),ui.stop().animate({width:n,height:s},t,function(){di.removeClass(v)}),mn(),je&&(bi.stop().animate({width:Ai.nw},t),hn({guessIndex:Ei,time:t,keep:!0}),We&&sn.nav&&un(t)),Bt=i||!0,Dn())),zi=ui.offset().left,this},ii.setOptions=function(e){return n.extend(o,e),Mn(),this},ii.shuffle=function(){return L&&kt(L)&&Mn(),this},ii.destroy=function(){return ii.cancelFullScreen(),ii.stopAutoplay(),L=ii.data=null,Ni(),be=[],pn(Ue),Mn.ok=!1,this},ii.playVideo=function(){var e=ve,t=e.video,i=Ei;return"object"==typeof t&&e.videoReady&&(Je&&ii.fullScreen&&ii.cancelFullScreen(),bt(function(){return!ge.is()||i!==Ei},function(){i===Ei&&(e.$video=e.$video||n(n.Fotorama.jst.video(t)),e.$video.appendTo(e[Ue]),di.addClass(d),me=e.$video,qi(),gi.blur(),ki.blur(),vn("loadvideo"))})),this},ii.stopVideo=function(){return _n(me,!0,!0),this},ui.on("mousemove",Tn),Fi=$t(hi,{onStart:bn,onMove:function(e,t){kn(ui,t.edge)},onTouchEnd:yn,onEnd:function(e){kn(ui);var t,i,s,a,r=(Le&&!Kt||e.touch)&&o.arrows&&"always"!==o.arrows;if(e.moved||r&&e.pos!==e.newPos&&!e.control){var l=(t=e.newPos,i=Ai.w,s=o.margin,a=ye,-Math.round(t/(i+(s||0))-(a||0)));ii.show({index:l,time:st?It:e.time,overPos:e.overPos,user:!0})}else e.aborted||e.control||function(e,t){var i=e.target;n(i).hasClass(le)?ii.playVideo():i===_i?ii.toggleFullScreen():me?i===Ti&&_n(me,!0,!0):t?Sn():o.click&&Pn({index:e.shiftKey||Dt(an(e._x)),slow:e.altKey,user:!0})}(e.startEvent,r)},timeLow:1,timeHigh:1,friction:2,select:"."+V+", ."+V+" *",$wrap:ui}),Mi=$t(yi,{onStart:bn,onMove:function(e,t){kn(bi,t.edge)},onTouchEnd:yn,onEnd:function(e){function t(){hn.l=e.newPos,wn(),xn(),on(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(Yt=!0,Rt(yi,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),on(e.newPos),qt&&kn(bi,wt(e.newPos,Mi.min,Mi.max))):t();else{var i=e.$target.closest("."+I,yi)[0];i&&An.call(i,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:bi}),Oi=Lt(ui,{shift:!0,onEnd:function(e,t){bn(),yn(),ii.show({index:t,slow:e.altKey})}}),Di=Lt(bi,{onEnd:function(e,t){bn(),yn();var i=ut(yi)+.25*t;yi.css(nt(it(i,Mi.min,Mi.max))),qt&&kn(bi,wt(i,Mi.min,Mi.max)),Di.prevent={"<":i>=Mi.max,">":i<=Mi.min},clearTimeout(Di.t),Di.t=setTimeout(function(){hn.l=i,on(i,!0)},Ne),on(i)}}),di.hover(function(){setTimeout(function(){Zt||Sn(!(Kt=!0))},0)},function(){Kt&&Sn(!(Kt=!1))}),ei=function(e){Mt(e),Fn.call(this,e)},ti=(ti={onStart:function(){bn(),Fi.control=!0},onTouchEnd:yn})||{},gi.each(function(){var e,t=n(this),i=t.data();i.clickOn||(i.clickOn=!0,n.extend(zt(t,{onStart:function(t){e=t,(ti.onStart||tt).call(this,t)},onMove:ti.onMove||tt,onTouchEnd:ti.onTouchEnd||tt,onEnd:function(t){t.moved||ei.call(this,e)}}),{noMove:!0}))}),gi.each(function(){Ft(this,function(e){Fn.call(this,e)}),On(this)}),Ft(_i,ii.toggleFullScreen),On(_i),n.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){ii[t]=function(){return L=L||[],"load"!==t?Array.prototype[t].apply(L,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(L=_t(arguments[0])),Mn(),ii}}),Mn()},n.fn.fotorama=function(t){return this.each(function(){var i=this,o=n(this),s=o.data(),a=s.fotorama;a?a.setOptions(t,!0):bt(function(){return!(0===(e=i).offsetWidth&&0===e.offsetHeight);var e},function(){s.urtext=o.html(),new n.Fotorama(o,n.extend({},Je,e.fotoramaDefaults,t,s))})})},n.Fotorama.instances=[],n.Fotorama.cache={},n.Fotorama.measures={},(n=n||{}).Fotorama=n.Fotorama||{},n.Fotorama.jst=n.Fotorama.jst||{},n.Fotorama.jst.style=function(e){var t,i="";return i+=".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},n.Fotorama.jst.video=function(e){var t="",i=Array.prototype.join;return t+='<div class="fotorama__video"><iframe src="',function(){t+=i.call(arguments,"")}(("youtube"==e.type?e.p+"youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?e.p+"player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),t+='" frameborder="0" allowfullscreen></iframe></div>\n'},n(function(){n("."+s+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),$(document).ready(function(){$(".tooltip").each(function(){var e=$(this);e.tooltipster({theme:"tooltipster-default",trigger:e.attr("data-tooltipaction")?e.attr("data-tooltipaction"):"click",interactive:"true",contentAsHTML:"true",maxWidth:"400"})}),$(".datepicker").pickadate({formatSubmit:"yyyy/mm/dd",closeOnSelect:!1,closeOnClear:!1});var e=$("#priceChange"),t=$("#minprice");t.on("keydown",function(){setTimeout(function(){e.html(t.value)},0)}),$.cookie("noShowAlert")?$("#detailsAlert").hide():($("#detailsAlert").removeClass("hide-details-alert"),$("#close-alert").click(function(){$("#detailsAlert").fadeOut(1e3),$.cookie("noShowAlert",!0)})),$(".cta-fav").click(function(){$(this).hide(),$("#alert-content").html('This home was saved to your notebook! <a href="/notebook"><u>Go to your Notebook</u></a>')}),$(".cta-share").click(function(){$(this).hide(),$("#alert-content").html("This home was successfully shared!")}),/iphone|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())&&$(".notebook-actions").remove(),$(".update").hover(function(){$(this).toggleClass("hover")}),$(".range-slider").jRange({from:"$",to:"$$$",step:5e4,scale:["$","$$$"],format:"%s",width:768,showLabels:!0,isRange:!0}),$(".chosen-select").chosen(),$(".ui.checkbox").checkbox(),$(".ui.radio.checkbox").checkbox(),$(".ui.dropdown").dropdown({on:"hover"}),$(":radio[name=rating]").change(function(){$(".choice").text(this.value)}),$("#toggle").click(function(){$(this).next(".nav").toggleClass("is-collapsed-mobile")}),$("#popup").click(function(){$(".offcanvas").toggleClass("is-collapsed-mobile")}),$(".open-panel").click(function(){$("html").addClass("openNav")}),$(".close-panel, #content").click(function(){$("html").removeClass("openNav")}),$.fn.inlineEdit=function(e,t){$(this).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$(this).click(function(){var i=$(this);i.hide(),i.after(e),e.focus(),e.blur(function(){""!=$(this).val()&&(t.val($(this).val()).change(),i.text($(this).val())),$(this).remove(),i.show()})})};var i=$('<input name="temp" type="text" />'),n=$('input[name="hiddenField"]');$(".scorecard-procon").inlineEdit(i,n),$("#org__nav li").on("click",function(e){$("#org__nav li").removeClass("current"),$(this).addClass("current")}),$(".filter").hide();var o=function(e){var t=e.attr("id"),i=t.substring(t.indexOf("-")+1,t.length);$("#"+i).siblings(".expand").slideUp(),$("#"+i).delay().slideToggle(),$(this).toggleClass("expandExpanded")};if($(".expand").hide(),$("body").on("click",".toggler",function(e){o($(this))}),$("body").on("click",".closeExpand",function(){$(this).parent().hide("slow");var e="toggler-"+$(this).parent().attr("id");$("#"+e).removeClass("expandExpanded")}),$(".accordion-tabs-minimal").each(function(e){$(this).children("li").first().children("a").addClass("is-active").next().addClass("is-open").show()}),$(".accordion-tabs-minimal").on("click","li > a",function(e){if($(this).hasClass("is-active"))e.preventDefault();else{e.preventDefault();var t=$(this).closest(".accordion-tabs-minimal");t.find(".is-open").removeClass("is-open").hide(),$(this).next().toggleClass("is-open").toggle(),t.find(".is-active").removeClass("is-active"),$(this).addClass("is-active")}}),$(".tab-list").each(function(){var e=$(this),t=e.find("li.active"),i=t.find("a"),n=$(i.attr("href"));e.on("click",".tab-control",function(e){e.preventDefault();var i=$(this),o=this.hash;o&&!i.is(".active")&&(n.removeClass("active"),t.removeClass("active"),n=$(o).addClass("active"),t=i.parent().addClass("active"))})}),$(".toggleSignup").on("click",function(e){if(e.preventDefault(),$(".js-signinform").is(":visible")){$(".js-signupform").show(),$(".js-signinform").hide(),"undefined"!=typeof ga&&null!==ga&&ga("cinc.send","event","registration-legacy","pop-up","Reg 1");var t=$(".js-socialsignin-buttons");t.hasClass("hidden")&&(t.removeClass("hidden"),t.find("iframe[data-src]").each(function(){$(this).attr("src",$(this).attr("data-src")),$(this).attr("data-src",null)}))}else $(".js-signinform").show(),$(".js-signupform").hide()}),$(function(){$("#modal-1").on("change",function(){$(this).is(":checked")?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$(".modal-window").on("click",function(){$(this).hasClass("non-dismissable")||$(".modal-state:checked").prop("checked",!1).change()}),$(".modal-inner").on("click",function(e){$(e.target).hasClass("toggleSignup")&&CINC&&CINC.Facebook&&CINC.Facebook.SignupFormEvent&&CINC.Facebook.SignupFormEvent(),e.stopPropagation()})}),$(".range-slider2").jRange({from:1900,to:2015,step:5,scale:[1900,2015],format:"%s",width:768,showLabels:!0,isRange:!0}),$("#ca-container").contentcarousel({sliderSpeed:1e3,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1}),$(".datepicker").pickadate({min:new Date,format:"yyyy/mm/dd",close:"OK",closeOnSelect:!1,closeOnClear:!1,onClose:function(){$(".js-scheduleshowing").focus()}}),"Houses"!==CINC.CincProduct&&!CINC.Site.IsBrandedSite&&"SellerSuite"!==CINC.ControllerName){$(function(){new NLForm(document.getElementById("nl-form"))}),$(function(){$(".chat-header").on("click",function(e){$(".chat").toggleClass("opened")})})}}),function(e){"use strict";e.fn.counterUp=function(t){var i=e.extend({time:400,delay:10},t);return this.each(function(){var t=e(this),n=i;t.waypoint(function(){var e=[],i=n.time/n.delay,o=t.text(),s=/[0-9]+,[0-9]+/.test(o);o=o.replace(/,/g,"");/^[0-9]+$/.test(o);for(var a=/^[0-9]+\.[0-9]+$/.test(o),r=a?(o.split(".")[1]||[]).length:0,l=i;l>=1;l--){var c=parseInt(o/i*l);if(a&&(c=parseFloat(o/i*l).toFixed(r)),s)for(;/(\d+)(\d{3})/.test(c.toString());)c=c.toString().replace(/(\d+)(\d{3})/,"$1,$2");e.unshift(c)}t.data("counterup-nums",e),t.text("0");t.data("counterup-func",function(){t.text(t.data("counterup-nums").shift()),t.data("counterup-nums").length?setTimeout(t.data("counterup-func"),n.delay):(t.data("counterup-nums"),t.data("counterup-nums",null),t.data("counterup-func",null))}),setTimeout(t.data("counterup-func"),n.delay)},{offset:"100%",triggerOnce:!0})})}}(jQuery),function(e,t,i,n){"use strict";var o=function(){return this.init.apply(this,arguments)};o.prototype={defaults:{onstatechange:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"theme-green",disable:!1},template:'<div class="slider-container">      <div class="back-bar">                <div class="selected-bar"></div>                <div class="pointer low"></div><div class="pointer-label">123456</div>                <div class="pointer high"></div><div class="pointer-label">456789</div>                <div class="clickable-dummy"></div>            </div>            <div class="scale"></div>    </div>',init:function(t,i){this.options=e.extend({},this.defaults,i),this.inputNode=e(t),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:this.options.from),this.domNode=e(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=e(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=e(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=e(".scale",this.domNode),this.bar=e(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){0!==this.inputNode.width()||this.options.width?(this.domNode.width(this.options.width||this.inputNode.width()),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),this.setValue(this.options.value)):console.log("jRange : no width found, returning")},isSingle:function(){return"number"==typeof this.options.value||-1===this.options.value.indexOf(",")&&!this.options.isRange},attachEvents:function(){this.clickableBar.click(e.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",e.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(e){e.preventDefault()})},onDragStart:function(t){if(!(this.options.disable||"mousedown"===t.type&&1!==t.which)){t.stopPropagation(),t.preventDefault();var n=e(t.target);this.pointers.removeClass("last-active"),n.addClass("focused last-active"),this[(n.hasClass("low")?"low":"high")+"Label"].addClass("focused"),e(i).on("mousemove.slider touchmove.slider",e.proxy(this.onDrag,this,n)),e(i).on("mouseup.slider touchend.slider touchcancel.slider",e.proxy(this.onDragEnd,this))}},onDrag:function(e,t){t.stopPropagation(),t.preventDefault(),t.originalEvent.touches&&t.originalEvent.touches.length?t=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(t=t.originalEvent.changedTouches[0]);var i=t.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,e,i])},onDragEnd:function(t){this.pointers.removeClass("focused"),this.labels.removeClass("focused"),e(i).off(".slider")},barClicked:function(e){if(!this.options.disable){var t=e.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),t,!0,!0);else{var i=Math.abs(parseInt(this.pointers.first().css("left"),10)-t+this.pointers.first().width()/2)<Math.abs(parseInt(this.pointers.last().css("left"),10)-t+this.pointers.first().width()/2)?this.pointers.first():this.pointers.last();this.setPosition(i,t,!0,!0)}}},onChange:function(e,t,i,n){var o,s;t.isSingle()?(o=0,s=t.domNode.width()):(o=i.hasClass("high")?t.lowPointer.position().left+t.lowPointer.width()/2:0,s=i.hasClass("low")?t.highPointer.position().left+t.highPointer.width()/2:t.domNode.width());var a=Math.min(Math.max(n,o),s);t.setPosition(i,a,!0)},setPosition:function(e,t,i,n){var o,s=this.lowPointer.position().left,a=this.highPointer.position().left,r=this.highPointer.width()/2;i||(t=this.prcToPx(t)),e[0]===this.highPointer[0]?a=Math.round(t-r):s=Math.round(t-r),e[n?"animate":"css"]({left:Math.round(t-r)}),o=this.isSingle()?0:s+r,this.bar[n?"animate":"css"]({width:Math.round(a+r-o),left:o}),this.showPointerValue(e,t,n),this.isReadonly()},setValue:function(e){var t=e.toString().split(",");this.options.value=e;var i=this.valuesToPrc(2===t.length?t:[0,t[0]]);this.isSingle()?this.setPosition(this.highPointer,i[1]):(this.setPosition(this.lowPointer,i[0]),this.setPosition(this.highPointer,i[1]))},renderScale:function(){for(var t=this.options.scale||[this.options.from,this.options.to],i=Math.round(100/(t.length-1)*10)/10,n="",o=0;o<t.length;o++)n+='<span style="left: '+o*i+'%">'+("|"!=t[o]?"<ins>"+t[o]+"</ins>":"")+"</span>";this.scale.html(n),e("ins",this.scale).each(function(){e(this).css({marginLeft:-e(this).outerWidth()/2})})},getBarWidth:function(){var e=this.options.value.split(",");return e.length>1?parseInt(e[1],10)-parseInt(e[0],10):parseInt(e[0],10)},showPointerValue:function(t,i,n){var o,s=e(".pointer-label",this.domNode)[t.hasClass("low")?"first":"last"](),a=this.positionToValue(i);if(e.isFunction(this.options.format)){var r=this.isSingle()?void 0:t.hasClass("low")?"low":"high";o=this.options.format(a,r)}else o=this.options.format.replace("%s",a);var l=s.html(o).width(),c=i-l/2;c=Math.min(Math.max(c,0),this.options.width-l),s[n?"animate":"css"]({left:c}),this.setInputValue(t,a)},valuesToPrc:function(e){return[100*(e[0]-this.options.from)/this.interval,100*(e[1]-this.options.from)/this.interval]},prcToPx:function(e){return this.domNode.width()*e/100},positionToValue:function(e){var t=e/this.domNode.width()*this.interval;return t+=this.options.from,Math.round(t/this.options.step)*this.options.step},setInputValue:function(e,t){if(this.isSingle())this.options.value=t.toString();else{var i=this.options.value.split(",");e.hasClass("low")?this.options.value=t+","+i[1]:this.options.value=i[0]+","+t}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()}};e.fn.jRange=function(i){var n,s=arguments;return this.each(function(){var a=e(this),r=e.data(this,"plugin_jRange"),l="object"==typeof i&&i;r||(a.data("plugin_jRange",r=new o(this,l)),e(t).resize(function(){r.setValue(r.getValue())})),"string"==typeof i&&(n=r[i].apply(r,Array.prototype.slice.call(s,1)))}),n||this}}(jQuery,window,document),function(){var e=document.body,t=document.querySelector(".content-wrap"),i=document.getElementById("open-button"),n=document.getElementById("close-button"),o=!1;function s(){o?classie.remove(e,"show-menu"):classie.add(e,"show-menu"),o=!o}i&&i.addEventListener("click",s),n&&n.addEventListener("click",s),t&&t.addEventListener("click",function(e){var t=e.target;o&&t!==i&&s()})}(),function(){var e=function(e){var t=$(this);t.is(":focus")||""!==$.trim(t.val())?t.parent().addClass("input--filled"):t.parent().removeClass("input--filled")},t=function(e){$(this).parent().addClass("input--filled")},i=function(e){var t=$(this);""===$.trim(t.val())&&t.parent().removeClass("input--filled")};$("input.input__field").each(function(n){var o=$(this);""!==$.trim(o.val())&&o.parent().addClass("input--filled"),o.on("focus",t),o.on("blur",i),o.on("change",e)})}(),function(e){var t=e(window),i=t.height();t.resize(function(){i=t.height()}),e.fn.parallax=function(n,o,s){var a,r,l=e(this);function c(){var s=t.scrollTop();l.each(function(){var t=e(this),c=t.offset().top;c+a(t)<s||c>s+i||l.css("backgroundPosition",n+" "+Math.round((r-s)*o)+"px")})}l.each(function(){r=l.offset().top}),a=s?function(e){return e.outerHeight(!0)}:function(e){return e.height()},(arguments.length<1||null===n)&&(n="50%"),(arguments.length<2||null===o)&&(o=.1),(arguments.length<3||null===s)&&(s=!0),t.bind("scroll",c).resize(c),c()}}(jQuery);var qualifyURL=function(e){var t=document.createElement("img");return t.src=e,e=t.src,t.src=null,e};!function(e,t,n,o){e.fn.visible=function(i){if(!e(this).offset())return!0;var n=e(this),o=e(t),s=o.scrollTop(),a=s+o.height(),r=n.offset().top,l=r+n.height();return(!0===i?r:l)<=a&&(!0===i?l:r)>=s};var s="finalTilesGallery",a={margin:10,minTileWidth:200,ignoreImageAttributes:!0,imageSizeFactor:[[4e3,.9],[1024,.8],[800,.7],[600,.6],[480,.5],[320,.3]],gridSize:12,allowEnlargement:!0,autoLoadURL:null,autoLoadOffset:50,onComplete:function(){},onUpdate:function(){},debug:!1};function r(t,i){this.element=t,this.$element=e(t),this.settings=e.extend({},a,i),this.settings.gridSize||(this.settings.gridSize=5),this._defaults=a,this._name=s,this.tiles=[],this._loadedImages=0,this.edges=[],this.currentWidth=0,this.currentImageSizeFactor=1,this.ajaxComplete=!1,this.isLoading=!1,this.currentPage=1,this.init()}e.extend(r.prototype,{print:function(e){this.settings.debug&&console.log(e)},setCurrentImageSizeFactor:function(){this.currentImageSizeFactor=1;for(var i=e(t).width(),n=0;n<this.settings.imageSizeFactor.length;n++)this.settings.imageSizeFactor[n][0]>=i&&(this.currentImageSizeFactor=this.settings.imageSizeFactor[n][1]);this.currentImageSizeFactor||(this.currentImageSizeFactor=1),this.print("current image size factor: "+this.currentImageSizeFactor+" ("+i+")")},init:function(){var i=this;this.$element.find(".ftg-items").css({position:"relative",height:500}),this.tiles=this.$element.find(".tile").not(".ftg-hidden"),this.tiles.css({transition:"all .3s"}),this.currentWidth=this.$element.width(),this.print("this.currentWidth: "+this.currentWidth);var o=0;this.setCurrentImageSizeFactor(),e(t).resize(function(){o=setTimeout(function(){i.currentWidth!=i.$element.width()&&(clearTimeout(o),i.print("this.currentWidth",this.currentWidth),i.currentWidth=i.$element.width(),i.setCurrentImageSizeFactor(),i.refresh())},500)}),i.settings.autoLoadURL&&e(t).scroll(function(){i.ajaxComplete||i.isLoading||e(t).scrollTop()>=e(n).height()-e(t).height()-i.settings.autoLoadOffset&&(i.isLoading=!0,e.get(i.settings.autoLoadURL,{page:++i.currentPage},function(t){0==e.trim(t).length?i.ajaxComplete=!0:(i.$element.find(".ftg-items").append(t),i.tiles=i.$element.find(".tile"),i.loadImage())}))}),this.setupFilters(),this.edges.push({left:0,top:0,width:this.currentWidth,index:0}),this.loadImage()},setupFilters:function(){var t=this;t.$element.find(".ftg-filters a").click(function(i){i.preventDefault(),t.$element.find(".ftg-filters a").removeClass("selected"),e(this).addClass("selected");var n=e(this).attr("href").replace("#ftg-set-","");"ftgall"==n?t.$element.find(".tile").removeClass("ftg-hidden"):t.$element.find(".tile").not(".ftg-set-"+n).addClass("ftg-hidden").end().filter(".ftg-set-"+n).removeClass("ftg-hidden"),t.refresh()})},printEdges:function(){for(this.$element.find(".edge").remove(),i=0;i<this.edges.length;i++){var t=e("<div class='edge' />");t.append("top: "+this.edges[i].top+"<br>"),t.append("left: "+this.edges[i].left+"<br>"),t.append("width: "+this.edges[i].width+"<br>"),t.css({left:this.edges[i].left,top:this.edges[i].top,marginTop:-25,marginLeft:20}),this.$element.append(t)}},printEdge:function(t){var i=e("<div class='edge enlarged-"+t.enlarged+"' />");i.append("<b>"+t.index+" "+t.case+"</b><br>"),i.append("t: "+Math.round(t.top)+" l: "+t.left+"<br>"),i.append("width: "+t.width+"<br>"),i.append("idx: "+t.tileIndex+"<br>"),i.css({left:t.left,top:t.top,marginTop:-25,marginLeft:20}),this.$element.append(i)},refresh:function(){this.$element.find(".edge").remove(),this.edges=[{left:0,top:0,width:this.currentWidth}],this.tiles.removeClass("ftg-loaded ftg-enlarged"),this.tiles=this.$element.find(".tile").not(".ftg-hidden"),this._loadedImages=0,this.loadImage()},loadImage:function(){var e=this,t=this.tiles.eq(this._loadedImages);t.children("iframe").length&&t.children("iframe").addClass("item");var i=t.find(".item");function n(){if(e.add(e._loadedImages),++e._loadedImages<e.tiles.length)e.loadImage();else{var t=e.lowerEdgeTop();e.print("lower edge top: "+t),e.$element.find(".ftg-items").height(t),e.isLoading=!1,e.settings.onComplete()}}switch(i.get(0).tagName.toLowerCase()){case"img":var o=new Image;o.onload=function(){var s=e.currentImageSizeFactor;t.data("ftg-ignore-size-factor")&&(s=1),i.attr("src",this.src),i.data("width",o.width*s),i.data("height",o.height*s),i.data("owidth",o.width),i.data("oheight",o.height),n()},o.onerror=function(){e.print("error loading image: "+o.src),n()},o.src=i.data("src"),t.data("ftg-type","image");break;case"iframe":i.data("width",parseInt(i.attr("width"))),i.data("height",parseInt(i.attr("height"))),i.data("owidth",parseInt(i.attr("width"))),i.data("oheight",parseInt(i.attr("height"))),t.data("ftg-type","iframe"),n();break;default:i.data("width",i.data("width")),i.data("height",i.data("height")),i.data("owidth",i.data("width")),i.data("oheight",i.data("height")),t.data("ftg-type","generic"),n()}},higherEdge:function(){for(var e=1e5,t=0,i=0;i<this.edges.length;i++)this.edges[i].top<e&&(t=i,e=this.edges[i].top);return this.edges[t]},lowerEdgeTop:function(){for(var e=0,t=0;t<this.edges.length;t++)this.edges[t].top>e&&(e=this.edges[t].top);return e},alignEdge:function(e,t){for(var i=0;i<this.edges.length;i++)if(this.edges[i].left+this.edges[i].width+this.settings.margin==e.left&&(this.print("found edge on left",i),e.top==this.edges[i].top))return this.print("edges can be aligned [1]"),{side:"left",edge:this.edges[i]};for(i=0;i<this.edges.length;i++)if(this.edges[i].left-this.settings.margin==e.left+e.width&&(this.print("found edge on right",i),e.top==this.edges[i].top))return this.print("edges can be aligned [2]"),{side:"right",edge:this.edges[i]};return null},removeEdge:function(e){for(var t=[],i=0;i<this.edges.length;i++)this.edges[i]!=e&&t.push(this.edges[i]);this.edges=t},add:function(e){var t=this.tiles.eq(e),i=t.find(".item"),n=i.data("width"),o=i.data("height"),s=this.higherEdge();if(this.print(s),s.tileIndex=e,this.print(e+" ["+t.data("ftg-type")+"] ("+n+"x"+o+")"),s.top>0&&(s.top+=this.settings.margin),t.css({left:s.left,top:s.top,position:"absolute"}),s.enlarged=!1,console.log("=> ",s.width,n,this.settings.margin),s.width<n+this.settings.margin){s.case="Te",this.print("Te",s.width);var a=o/n*(l=s.width);l+s.left-this.settings.margin==this.currentWidth&&(this.print("END"),a=o/n*(l-=this.settings.margin)),n=l,o=a}else if(s.width>n)if(this.print("tE"),s.width-n>=this.settings.minTileWidth){s.case="tE",this.print("tE1",s.width,s.left,this.currentWidth);var r={left:s.left+n+this.settings.margin,top:s.top-(s.top>0?this.settings.margin:0),width:s.width-n-this.settings.margin,marginLeft:!0,case:"NEW",index:s.index+1};this.edges.push(r)}else{s.case="tE2",this.print("tE2"),this.print("enlargement",s.width,s.left,this.currentWidth);s.left+s.width==this.currentWidth||this.settings.margin;var l=s.width;a=this.settings.allowEnlargement?o/n*l:o;this.settings.allowEnlargement?(t.addClass("ftg-enlarged"),s.enlarged=!0):t.find(".item").css({width:n,height:o}),n=l,o=a}s.top+=o;var c=s.top%this.settings.gridSize;s.top-=c,o-=c,s.left=s.left,s.width=n;var d=!0,u=this.alignEdge(s,e);u&&("left"==u.side?(this.removeEdge(s),u.edge.width+=n+this.settings.margin,o-=s.top-u.edge.top,s.top-=o,d=!1):(this.removeEdge(u.edge),s.width+=this.settings.margin+u.edge.width,d=!1),t.height(o)),this.$element.find(".ftg-items").height()<s.top&&this.$element.find(".ftg-items").height(s.top),this.settings.debug&&d&&this.printEdge(s),"iframe"==t.data("ftg-type")&&t.find("iframe").height(o),this.print(n+"x"+o),this.print("----"),t.css({width:n,height:o});var h=n/i.data("width"),f=i.data("height")*h-o;i.css({top:0-f/2}),t.addClass("ftg-loaded")}}),e.fn[s]=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new r(this,t))}),this},e(function(){e(".ftg-social a").click(function(i){i.preventDefault();var o=e(this).data("social"),s=e(this).parents(".tile").first(),a=s.data("big");a||(a=s.find(".item").attr("src"));var r=e.trim(s.find(".caption").text());if(r.length||(r=n.title),"facebook"==o){var l="https://www.facebook.com/dialog/feed?app_id=1447224948871585&link="+encodeURIComponent(location.href)+"&display=popup&name="+encodeURIComponent(n.title)+"&caption=&description="+encodeURIComponent(r)+"&picture="+encodeURIComponent(qualifyURL(a))+"&ref=share&actions={%22name%22:%22View%20the%20gallery%22,%20%22link%22:%22"+encodeURIComponent(location.href)+"%22}&redirect_uri=http://final-tiles-gallery.com/facebook_redirect.html";t.open(l,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)}"twitter"==o&&t.open("https://twitter.com/intent/tweet?url="+encodeURI(location.href.split("#")[0])+"&text="+encodeURI(r),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200);if("pinterest"==o){l="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(location.href)+"&description="+encodeURI(r);l+="&media="+encodeURIComponent(qualifyURL(a)),t.open(l,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)}if("google-plus"==o){l="https://plus.google.com/share?url="+encodeURI(location.href);t.open(l,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)}})})}(jQuery,window,document),function(e,t,i){"use strict";var n,o,s=e.event;n=s.special.debouncedresize={setup:function(){e(this).on("resize",n.handler)},teardown:function(){e(this).off("resize",n.handler)},handler:function(e,t){var i=this,a=arguments,r=function(){e.type="debouncedresize",s.dispatch.apply(i,a)};o&&clearTimeout(o),t?r():o=setTimeout(r,n.threshold)},threshold:20};var a=e(t),r=e(document),l=t.Modernizr;e.Slitslider=function(t,i){this.$elWrapper=e(i),this._init(t)},e.Slitslider.defaults={speed:800,optOpacity:!1,translateFactor:230,maxAngle:25,maxScale:2,autoplay:!1,keyboard:!0,interval:4e3,onBeforeChange:function(e,t){return!1},onAfterChange:function(e,t){return!1}},e.Slitslider.prototype={_init:function(t){this.options=e.extend(!0,{},e.Slitslider.defaults,t),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[l.prefixed("transition")],this.support=l.csstransitions&&l.csstransforms3d,this.$el=this.$elWrapper.children(".sl-slider"),this.$slides=this.$el.children(".sl-slide").hide(),this.slidesCount=this.$slides.length,this.current=0,this.isAnimating=!1,this._getSize(),this._layout(),this._loadEvents(),this.options.autoplay&&this._startSlideshow()},_getSize:function(){this.size={width:this.$elWrapper.outerWidth(!0),height:this.$elWrapper.outerHeight(!0)}},_layout:function(){this.$slideWrapper=e('<div class="sl-slides-wrapper" />'),this.$slides.wrapAll(this.$slideWrapper).each(function(t){var i=e(this),n=i.data("orientation");i.addClass("sl-slide-"+n).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />')}),this._setSize(),this.$slides.eq(this.current).show()},_navigate:function(t,i){if(this.isAnimating||this.slidesCount<2)return!1;this.isAnimating=!0;var n=this,o=this.$slides.eq(this.current);void 0!==i?this.current=i:"next"===t?this.current=this.current<this.slidesCount-1?++this.current:0:"prev"===t&&(this.current=this.current>0?--this.current:this.slidesCount-1),this.options.onBeforeChange(o,this.current);var s=this.$slides.eq(this.current),a="next"===t?o:s,r=a.data(),l={};l.orientation=r.orientation||"horizontal",l.slice1angle=r.slice1Rotation||0,l.slice1scale=r.slice1Scale||1,l.slice2angle=r.slice2Rotation||0,l.slice2scale=r.slice2Scale||1,this._validateValues(l);var c="horizontal"===l.orientation?{marginTop:-this.size.height/2}:{marginLeft:-this.size.width/2},d={transform:"translate(0%,0%) rotate(0deg) scale(1)",opacity:1},u="horizontal"===l.orientation?{transform:"translateY(-"+this.options.translateFactor+"%) rotate("+l.slice1angle+"deg) scale("+l.slice1scale+")"}:{transform:"translateX(-"+this.options.translateFactor+"%) rotate("+l.slice1angle+"deg) scale("+l.slice1scale+")"},h="horizontal"===l.orientation?{transform:"translateY("+this.options.translateFactor+"%) rotate("+l.slice2angle+"deg) scale("+l.slice2scale+")"}:{transform:"translateX("+this.options.translateFactor+"%) rotate("+l.slice2angle+"deg) scale("+l.slice2scale+")"};this.options.optOpacity&&(u.opacity=0,h.opacity=0),o.removeClass("sl-trans-elems");var f={transition:"all "+this.options.speed+"ms ease-in-out"};a.css("z-index",this.slidesCount).find("div.sl-content-wrapper").wrap(e('<div class="sl-content-slice" />').css(f)).parent().cond("prev"===t,function(){var e=this;this.css(u),setTimeout(function(){e.css(d)},50)},function(){var e=this;setTimeout(function(){e.css(u)},50)}).clone().appendTo(a).cond("prev"===t,function(){var e=this;this.css(h),setTimeout(function(){o.addClass("sl-trans-back-elems"),n.support?e.css(d).on(n.transEndEventName,function(){n._onEndNavigate(e,o,t)}):n._onEndNavigate(e,o,t)},50)},function(){var e=this;setTimeout(function(){s.addClass("sl-trans-elems"),n.support?e.css(h).on(n.transEndEventName,function(){n._onEndNavigate(e,o,t)}):n._onEndNavigate(e,o,t)},50)}).find("div.sl-content-wrapper").css(c),s.show()},_validateValues:function(e){(e.slice1angle>this.options.maxAngle||e.slice1angle<-this.options.maxAngle)&&(e.slice1angle=this.options.maxAngle),(e.slice2angle>this.options.maxAngle||e.slice2angle<-this.options.maxAngle)&&(e.slice2angle=this.options.maxAngle),(e.slice1scale>this.options.maxScale||e.slice1scale<=0)&&(e.slice1scale=this.options.maxScale),(e.slice2scale>this.options.maxScale||e.slice2scale<=0)&&(e.slice2scale=this.options.maxScale),"vertical"!==e.orientation&&"horizontal"!==e.orientation&&(e.orientation="horizontal")},_onEndNavigate:function(e,t,i){var n=e.parent();e.remove(),n.css("z-index",1).find("div.sl-content-wrapper").unwrap(),t.hide().removeClass("sl-trans-elems sl-trans-back-elems"),n.removeClass("sl-trans-elems sl-trans-back-elems"),this.isAnimating=!1,this.options.onAfterChange(n,this.current)},_setSize:function(){var e={width:this.size.width,height:this.size.height};this.$el.css(e).find("div.sl-content-wrapper").css(e)},_loadEvents:function(){var e=this;a.on("debouncedresize.slitslider",function(t){e._getSize(),e._setSize()}),this.options.keyboard&&r.on("keydown.slitslider",function(t){switch(t.keyCode||t.which){case 37:e._stopSlideshow(),e._navigate("prev");break;case 39:e._stopSlideshow(),e._navigate("next")}})},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){e._navigate("next"),e.options.autoplay&&e._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_destroy:function(t){this.$el.off(".slitslider").removeData("slitslider"),a.off(".slitslider"),r.off(".slitslider"),this.$slides.each(function(t){var i=e(this);i.find("div.sl-content").children().appendTo(i),i.children("div.sl-content-wrapper").remove()}),this.$slides.unwrap(this.$slideWrapper).hide(),this.$slides.eq(0).show(),t&&t.call()},add:function(t,i){this.$slides=this.$slides.add(t);var n=this;t.each(function(t){var i=e(this),o=i.data("orientation");i.hide().addClass("sl-slide-"+o).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />').end().appendTo(n.$el.find("div.sl-slides-wrapper"))}),this._setSize(),this.slidesCount=this.$slides.length,i&&i.call($items)},next:function(){this._stopSlideshow(),this._navigate("next")},previous:function(){this._stopSlideshow(),this._navigate("prev")},jump:function(e){if((e-=1)===this.current||e>=this.slidesCount||e<0)return!1;this._stopSlideshow(),this._navigate(e>this.current?"next":"prev",e)},play:function(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoplay=!0,this._startSlideshow())},pause:function(){this.isPlaying&&this._stopSlideshow()},isActive:function(){return this.isAnimating},destroy:function(e){this._destroy(e)}};var c=function(e){t.console&&t.console.error(e)};e.fn.slitslider=function(t){var i=e.data(this,"slitslider");if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){i?e.isFunction(i[t])&&"_"!==t.charAt(0)?i[t].apply(i,n):c("no such method '"+t+"' for slitslider self"):c("cannot call methods on slitslider prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i?i._init():i=e.data(this,"slitslider",new e.Slitslider(t,this))});return i}}(jQuery,window),function(e){e.fn.SumoSelect=function(t){var n=e.extend({placeholder:"Select Here",csvDispCount:3,captionFormat:"{0} Selected",captionFormatAllSelected:"{0} all selected!",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,triggerChangeCombined:!0,selectAll:!1,search:!1,searchText:"Search...",noMatch:'No matches for "{0}"',prefix:"",locale:["OK","Cancel","Select All"],up:!1},t),o=this.each(function(){var t=this;!this.sumo&&e(this).is("select")&&(this.sumo={E:e(t),is_multi:e(t).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],createElems:function(){var t=this;t.E.wrap('<div class="SumoSelect" tabindex="0">'),t.select=t.E.parent(),t.caption=e("<span>"),t.CaptionCont=e('<p class="CaptionCont"><label><i></i></label></p>').addClass("SelectBox").attr("style",t.E.attr("style")).prepend(t.caption),t.select.append(t.CaptionCont),t.is_multi||(n.okCancelInMulti=!1),t.E.attr("disabled")&&t.select.addClass("disabled").removeAttr("tabindex"),n.outputAsCSV&&t.is_multi&&t.E.attr("name")&&(t.select.append(e('<input class="HEMANT123" type="hidden" />').attr("name",t.E.attr("name")).val(t.getSelStr())),t.E.removeAttr("name")),!t.isMobile()||n.forceCustomRendering?(t.E.attr("name")&&t.select.addClass("sumo_"+t.E.attr("name")),t.E.addClass("SumoUnder").attr("tabindex","-1"),t.optDiv=e('<div class="optWrapper '+(n.up?"up":"")+'">'),t.floatingList(),t.ul=e('<ul class="options">'),t.optDiv.append(t.ul),n.selectAll&&t.SelAll(),n.search&&t.Search(),t.ul.append(t.prepItems(t.E.children())),t.is_multi&&t.multiSelelect(),t.select.append(t.optDiv),t.basicEvents(),t.selAllState()):t.setNativeMobile()},prepItems:function(t,i){var n=[],o=this;return e(t).each(function(t,s){s=e(s),n.push(s.is("optgroup")?e('<li class="group '+(s[0].disabled?"disabled":"")+'"><label>'+s.attr("label")+"</label><ul></ul><li>").find("ul").append(o.prepItems(s.children(),s[0].disabled)).end():o.createLi(s,i))}),n},createLi:function(t,i){return t.attr("value")||t.attr("value",t.val()),li=e('<li class="opt"><label>'+t.text()+"</label></li>"),li.data("opt",t),t.data("li",li),this.is_multi&&li.prepend("<span><i></i></span>"),(t[0].disabled||i)&&(li=li.addClass("disabled")),this.onOptClick(li),t[0].selected&&li.addClass("selected"),t.attr("class")&&li.addClass(t.attr("class")),li},getSelStr:function(){return sopt=[],this.E.find("option:selected").each(function(){sopt.push(e(this).val())}),sopt.join(n.csvSepChar)},multiSelelect:function(){var t=this;t.optDiv.addClass("multiple"),t.okbtn=e('<p class="btnOk">'+n.locale[0]+"</p>").click(function(){n.triggerChangeCombined&&(changed=!1,t.E.find("option:selected").length!=t.Pstate.length?changed=!0:t.E.find("option").each(function(e,i){i.selected&&t.Pstate.indexOf(e)<0&&(changed=!0)}),changed&&(t.callChange(),t.setText())),t.hideOpts()}),t.cancelBtn=e('<p class="btnCancel">'+n.locale[1]+"</p>").click(function(){t._cnbtn(),t.hideOpts()}),t.optDiv.append(e('<div class="MultiControls">').append(t.okbtn).append(t.cancelBtn))},_cnbtn:function(){var e=this;e.E.find("option:selected").each(function(){this.selected=!1}),e.optDiv.find("li.selected").removeClass("selected");for(var t=0;t<e.Pstate.length;t++)e.E.find("option")[e.Pstate[t]].selected=!0,e.ul.find("li.opt").eq(e.Pstate[t]).addClass("selected");e.selAllState()},SelAll:function(){var t=this;t.is_multi&&(t.selAll=e('<p class="select-all"><span><i></i></span><label>'+n.locale[2]+"</label></p>"),t.selAll.on("click",function(){t.selAll.toggleClass("selected"),t.optDiv.find("li.opt").not(".hidden").each(function(i,n){n=e(n),t.selAll.hasClass("selected")?n.hasClass("selected")||n.trigger("click"):n.hasClass("selected")&&n.trigger("click")})}),t.optDiv.prepend(t.selAll))},Search:function(){var t=this,i=t.CaptionCont.addClass("search"),o=e('<p class="no-match">');t.ftxt=e('<input type="text" class="search-txt" value="" placeholder="'+n.searchText+'">').on("click",function(e){e.stopPropagation()}),i.append(t.ftxt),t.optDiv.children("ul").after(o),t.ftxt.on("keyup.sumo",function(){var i=t.optDiv.find("ul.options li.opt").each(function(i,n){(n=e(n)).text().toLowerCase().indexOf(t.ftxt.val().toLowerCase())>-1?n.removeClass("hidden"):n.addClass("hidden")}).not(".hidden");o.html(n.noMatch.replace(/\{0\}/g,t.ftxt.val())).toggle(!i.length),t.selAllState()})},selAllState:function(){var t=this;if(n.selectAll){var i=0,o=0;t.optDiv.find("li.opt").not(".hidden").each(function(t,n){e(n).hasClass("selected")&&i++,e(n).hasClass("disabled")||o++}),i==o?t.selAll.removeClass("partial").addClass("selected"):0==i?t.selAll.removeClass("selected partial"):t.selAll.addClass("partial")}},showOpts:function(){var t=this;t.E.attr("disabled")||(t.is_opened=!0,t.select.addClass("open"),t.ftxt?t.ftxt.focus():t.select.focus(),e(document).on("click.sumo",function(e){if(!t.select.is(e.target)&&0===t.select.has(e.target).length){if(!t.is_opened)return;t.hideOpts(),n.okCancelInMulti&&t._cnbtn()}}),t.is_floating&&(H=t.optDiv.children("ul").outerHeight()+2,t.is_multi&&(H+=parseInt(t.optDiv.css("padding-bottom"))),t.optDiv.css("height",H),e("body").addClass("sumoStopScroll")),t.setPstate())},setPstate:function(){var e=this;e.is_multi&&(e.is_floating||n.okCancelInMulti)&&(e.Pstate=[],e.E.find("option").each(function(t,i){i.selected&&e.Pstate.push(t)}))},callChange:function(){this.E.trigger("change").trigger("click")},hideOpts:function(){var t=this;t.is_opened&&(t.is_opened=!1,t.select.removeClass("open").find("ul li.sel").removeClass("sel"),e(document).off("click.sumo"),t.select.focus(),e("body").removeClass("sumoStopScroll"),n.search&&(t.ftxt.val(""),t.optDiv.find("ul.options li").removeClass("hidden"),t.optDiv.find(".no-match").toggle(!1)))},setOnOpen:function(){var e=this,t=e.optDiv.find("li.opt:not(.hidden)").eq(n.search?0:e.E[0].selectedIndex);e.optDiv.find("li.sel").removeClass("sel"),t.addClass("sel"),e.showOpts()},nav:function(e){var t,i=this,n=i.ul.find("li.opt:not(.disabled, .hidden)"),o=i.ul.find("li.opt.sel:not(.hidden)"),s=n.index(o);if(i.is_opened&&o.length){if(e&&s>0)t=n.eq(s-1);else{if(!(!e&&s<n.length-1&&s>-1))return;t=n.eq(s+1)}o.removeClass("sel"),o=t.addClass("sel");var a=i.ul,r=a.scrollTop(),l=o.position().top+r;l>=r+a.height()-o.outerHeight()&&a.scrollTop(l-a.height()+o.outerHeight()),l<r&&a.scrollTop(l)}else i.setOnOpen()},basicEvents:function(){var t=this;t.CaptionCont.click(function(e){t.E.trigger("click"),t.is_opened?t.hideOpts():t.showOpts(),e.stopPropagation()}),t.select.on("keydown.sumo",function(e){switch(e.which){case 38:t.nav(!0);break;case 40:t.nav(!1);break;case 32:if(n.search&&t.ftxt.is(e.target))return;case 13:t.is_opened?t.optDiv.find("ul li.sel").trigger("click"):t.setOnOpen();break;case 9:case 27:return n.okCancelInMulti&&t._cnbtn(),void t.hideOpts();default:return}e.preventDefault()}),e(window).on("resize.sumo",function(){t.floatingList()})},onOptClick:function(t){var i=this;t.click(function(){var t=e(this);t.hasClass("disabled")||(txt="",i.is_multi?(t.toggleClass("selected"),t.data("opt")[0].selected=t.hasClass("selected"),i.selAllState()):(t.parent().find("li.selected").removeClass("selected"),t.toggleClass("selected"),t.data("opt")[0].selected=!0),i.is_multi&&n.triggerChangeCombined&&(i.is_floating||n.okCancelInMulti)||(i.setText(),i.callChange()),i.is_multi||i.hideOpts())})},setText:function(){var t=this;if(t.placeholder="",t.is_multi){for(sels=t.E.find(":selected").not(":disabled"),i=0;i<sels.length;i++){if(i+1>=n.csvDispCount&&n.csvDispCount){sels.length==t.E.find("option").length&&n.captionFormatAllSelected?t.placeholder=n.captionFormatAllSelected.replace(/\{0\}/g,sels.length)+",":t.placeholder=n.captionFormat.replace(/\{0\}/g,sels.length)+",";break}t.placeholder+=e(sels[i]).text()+", "}t.placeholder=t.placeholder.replace(/,([^,]*)$/,"$1")}else t.placeholder=t.E.find(":selected").not(":disabled").text();return is_placeholder=!1,t.placeholder||(is_placeholder=!0,t.placeholder=t.E.attr("placeholder"),t.placeholder||(t.placeholder=t.E.find("option:disabled:selected").text())),t.placeholder=t.placeholder?n.prefix+" "+t.placeholder:n.placeholder,t.caption.html(t.placeholder),t.CaptionCont.attr("title",t.placeholder),csvField=t.select.find("input.HEMANT123"),csvField.length&&csvField.val(t.getSelStr()),is_placeholder?t.caption.addClass("placeholder"):t.caption.removeClass("placeholder"),t.placeholder},isMobile:function(){for(var e=navigator.userAgent||navigator.vendor||window.opera,t=0;t<n.nativeOnDevice.length;t++)if(e.toString().toLowerCase().indexOf(n.nativeOnDevice[t].toLowerCase())>0)return n.nativeOnDevice[t];return!1},setNativeMobile:function(){var e=this;e.E.addClass("SelectClass"),e.mob=!0,e.E.change(function(){e.setText()})},floatingList:function(){var t=this;t.is_floating=e(window).width()<=n.floatWidth,t.optDiv.toggleClass("isFloating",t.is_floating),t.is_floating||t.optDiv.css("height",""),t.optDiv.toggleClass("okCancelInMulti",n.okCancelInMulti&&!t.is_floating)},vRange:function(e){if(opts=this.E.find("option"),opts.length<=e||e<0)throw"index out of bounds";return this},toggSel:function(t,i){var n=this;"number"==typeof i?(n.vRange(i),opt=n.E.find("option")[i]):opt=n.E.find('option[value="'+i+'"]')[0]||0,opt&&!opt.disabled&&opt.selected!=t&&(opt.selected=t,n.mob||e(opt).data("li").toggleClass("selected",t),n.callChange(),n.setPstate(),n.setText(),n.selAllState())},toggDis:function(e,t){var i=this.vRange(t);i.E.find("option")[t].disabled=e,e&&(i.E.find("option")[t].selected=!1),i.mob||i.optDiv.find("ul.options li").eq(t).toggleClass("disabled",e).removeClass("selected"),i.setText()},toggSumo:function(e){var t=this;return t.enabled=e,t.select.toggleClass("disabled",e),e?(t.E.attr("disabled","disabled"),t.select.removeAttr("tabindex")):(t.E.removeAttr("disabled"),t.select.attr("tabindex","0")),t},toggSelAll:function(t){var i=this;i.E.find("option").each(function(n,o){i.E.find("option")[e(this).index()].disabled||(i.E.find("option")[e(this).index()].selected=t,i.mob||i.optDiv.find("ul.options li").eq(e(this).index()).toggleClass("selected",t),i.setText())}),!i.mob&&i.selAll&&i.selAll.removeClass("partial").toggleClass("selected",t),i.callChange(),i.setPstate()},reload:function(){var t=this.unload();return e(t).SumoSelect(n)},unload:function(){var e=this;return e.select.before(e.E),e.E.show(),n.outputAsCSV&&e.is_multi&&e.select.find("input.HEMANT123").length&&e.E.attr("name",e.select.find("input.HEMANT123").attr("name")),e.select.remove(),delete t.sumo,t},add:function(i,n,o){if(void 0===i)throw"No value to add";var s=this;if(opts=s.E.find("option"),"number"==typeof n&&(o=n,n=i),void 0===n&&(n=i),opt=e("<option></option>").val(i).html(n),opts.length<o)throw"index out of bounds";return void 0===o||opts.length==o?(s.E.append(opt),s.mob||s.ul.append(s.createLi(opt))):(opts.eq(o).before(opt),s.mob||s.ul.find("li.opt").eq(o).before(s.createLi(opt))),t},remove:function(e){var t=this.vRange(e);t.E.find("option").eq(e).remove(),t.mob||t.optDiv.find("ul.options li").eq(e).remove(),t.setText()},selectItem:function(e){this.toggSel(!0,e)},unSelectItem:function(e){this.toggSel(!1,e)},selectAll:function(){this.toggSelAll(!0)},unSelectAll:function(){this.toggSelAll(!1)},disableItem:function(e){this.toggDis(!0,e)},enableItem:function(e){this.toggDis(!1,e)},enabled:!0,enable:function(){return this.toggSumo(!1)},disable:function(){return this.toggSumo(!0)},init:function(){var e=this;return e.createElems(),e.setText(),e}},t.sumo.init())});return 1==o.length?o[0]:o}}(jQuery),function(e,t,i){var n={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};function o(t,i){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},n,i),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function s(t,i){var n=!0;return e.each(t,function(e,o){if(void 0===i[e]||t[e]!==i[e])return n=!1,!1}),n}o.prototype={_init:function(){var t=this;if(i.querySelector){var n=null;void 0===t.$el.data("tooltipster-initialTitle")&&(void 0===(n=t.$el.attr("title"))&&(n=null),t.$el.data("tooltipster-initialTitle",n)),null!==t.options.content?t._content_set(t.options.content):t._content_set(n);var o=t.options.functionInit.call(t.$el,t.$el,t.Content);void 0!==o&&t._content_set(o),t.$el.removeAttr("title").addClass("tooltipstered"),!a&&t.options.iconDesktop||a&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){l()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){l()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),a&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){l()&&!t.options.touchDevices||t._show()})}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(i){var n=this;n.options.functionBefore.call(n.$el,n.$el,function(){if(n.enabled&&null!==n.Content){i&&n.callbacks.show.push(i),n.callbacks.hide=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,n.options.onlyOne&&e(".tooltipstered").not(n.$el).each(function(t,i){var n=e(i),o=n.data("tooltipster-ns");e.each(o,function(e,t){var i=n.data(t),o=i.status(),s=i.option("autoClose");"hidden"!==o&&"disappearing"!==o&&s&&i.hide()})});var o=function(){n.Status="shown",e.each(n.callbacks.show,function(e,t){t.call(n.$el)}),n.callbacks.show=[]};if("hidden"!==n.Status){var s=0;"disappearing"===n.Status?(n.Status="appearing",c()?(n.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+n.options.animation+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(o)):n.$tooltip.stop().fadeIn(o)):"shown"===n.Status&&o()}else{n.Status="appearing";s=n.options.speed;n.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var r="tooltipster-"+n.options.animation,l="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",d=n.options.minWidth?"min-width:"+Math.round(n.options.minWidth)+"px;":"",u=n.options.maxWidth?"max-width:"+Math.round(n.options.maxWidth)+"px;":"",h=n.options.interactive?"pointer-events: auto;":"";if(n.$tooltip=e('<div class="tooltipster-base '+n.options.theme+'" style="'+d+" "+u+" "+h+" "+l+'"><div class="tooltipster-content"></div></div>'),c()&&n.$tooltip.addClass(r),n._content_insert(),n.$tooltip.appendTo("body"),n.reposition(),n.options.functionReady.call(n.$el,n.$el,n.$tooltip),c()?(n.$tooltip.addClass(r+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(o)):n.$tooltip.css("display","none").fadeIn(n.options.speed,o),n._interval_set(),e(t).on("scroll."+n.namespace+" resize."+n.namespace,function(){n.reposition()}),n.options.autoClose)if(e("body").off("."+n.namespace),"hover"==n.options.trigger){if(a&&setTimeout(function(){e("body").on("touchstart."+n.namespace,function(){n.hide()})},0),n.options.interactive){a&&n.$tooltip.on("touchstart."+n.namespace,function(e){e.stopPropagation()});var f=null;n.$elProxy.add(n.$tooltip).on("mouseleave."+n.namespace+"-autoClose",function(){clearTimeout(f),f=setTimeout(function(){n.hide()},n.options.interactiveTolerance)}).on("mouseenter."+n.namespace+"-autoClose",function(){clearTimeout(f)})}else n.$elProxy.on("mouseleave."+n.namespace+"-autoClose",function(){n.hide()});n.options.hideOnClick&&n.$elProxy.on("click."+n.namespace+"-autoClose",function(){n.hide()})}else"click"==n.options.trigger&&(setTimeout(function(){e("body").on("click."+n.namespace+" touchstart."+n.namespace,function(){n.hide()})},0),n.options.interactive&&n.$tooltip.on("click."+n.namespace+" touchstart."+n.namespace,function(e){e.stopPropagation()}))}n.options.timer>0&&(n.timerHide=setTimeout(function(){n.timerHide=null,n.hide()},n.options.timer+s))}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)"shown"!=t.Status&&"appearing"!=t.Status||t.hide(),t._interval_cancel();else if(t.options.positionTracker){var i=t._repositionInfo(t.$elProxy),n=!1;s(i.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?s(i.position,t.elProxyPosition.position)&&(n=!0):s(i.offset,t.elProxyPosition.offset)&&(n=!0)),n||(t.reposition(),t.options.positionTrackerCallback.call(t,t.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?e.empty().append(this.Content):e.text(this.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(c()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(i){var n=this;i&&n.callbacks.hide.push(i),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null;var o=function(){e.each(n.callbacks.hide,function(e,t){t.call(n.$el)}),n.callbacks.hide=[]};if("shown"==n.Status||"appearing"==n.Status){n.Status="disappearing";var s=function(){n.Status="hidden","object"==typeof n.Content&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,e(t).off("."+n.namespace),e("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),e("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),o()};c()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(s)):n.$tooltip.stop().fadeOut(n.options.speed,s)}else"hidden"==n.Status&&o();return n},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){if(0!==e("body").find(this.$tooltip).length){this.$tooltip.css("width",""),this.elProxyPosition=this._repositionInfo(this.$elProxy);var i=null,n=e(t).width(),o=this.elProxyPosition,s=this.$tooltip.outerWidth(!1),a=(this.$tooltip.innerWidth(),this.$tooltip.outerHeight(!1));if(this.$elProxy.is("area")){var r=this.$elProxy.attr("shape"),l=this.$elProxy.parent().attr("name"),c=e('img[usemap="#'+l+'"]'),d=c.offset().left,u=c.offset().top,h=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==r){var f=parseInt(h[0]),p=parseInt(h[1]),m=parseInt(h[2]);o.dimension.height=2*m,o.dimension.width=2*m,o.offset.top=u+p-m,o.offset.left=d+f-m}else if("rect"==r){f=parseInt(h[0]),p=parseInt(h[1]);var g=parseInt(h[2]),v=parseInt(h[3]);o.dimension.height=v-p,o.dimension.width=g-f,o.offset.top=u+p,o.offset.left=d+f}else if("poly"==r){for(var b=0,y=0,w=0,x=0,C="even",k=0;k<h.length;k++){var _=parseInt(h[k]);"even"==C?(_>w&&(w=_,0===k&&(b=w)),_<b&&(b=_),C="odd"):(_>x&&(x=_,1==k&&(y=x)),_<y&&(y=_),C="even")}o.dimension.height=x-y,o.dimension.width=w-b,o.offset.top=u+y,o.offset.left=d+b}else o.dimension.height=c.outerHeight(!1),o.dimension.width=c.outerWidth(!1),o.offset.top=u,o.offset.left=d}var S=0,T=0,P=0,E=parseInt(this.options.offsetY),A=parseInt(this.options.offsetX),F=this.options.position;function O(){var o=e(t).scrollLeft();S-o<0&&(i=S-o,S=o),S+s-o>n&&(i=S-(n+o-s),S=n+o-s)}function M(i,n){o.offset.top-e(t).scrollTop()-a-E-12<0&&n.indexOf("top")>-1&&(F=i),o.offset.top+o.dimension.height+a+12+E>e(t).scrollTop()+e(t).height()&&n.indexOf("bottom")>-1&&(F=i,P=o.offset.top-a-E-12)}if("top"==F){var D=o.offset.left+s-(o.offset.left+o.dimension.width);S=o.offset.left+A-D/2,P=o.offset.top-a-E-12,O(),M("bottom","top")}if("top-left"==F&&(S=o.offset.left+A,P=o.offset.top-a-E-12,O(),M("bottom-left","top-left")),"top-right"==F&&(S=o.offset.left+o.dimension.width+A-s,P=o.offset.top-a-E-12,O(),M("bottom-right","top-right")),"bottom"==F){D=o.offset.left+s-(o.offset.left+o.dimension.width);S=o.offset.left-D/2+A,P=o.offset.top+o.dimension.height+E+12,O(),M("top","bottom")}if("bottom-left"==F&&(S=o.offset.left+A,P=o.offset.top+o.dimension.height+E+12,O(),M("top-left","bottom-left")),"bottom-right"==F&&(S=o.offset.left+o.dimension.width+A-s,P=o.offset.top+o.dimension.height+E+12,O(),M("top-right","bottom-right")),"left"==F){S=o.offset.left-A-s-12,T=o.offset.left+A+o.dimension.width+12;var R=o.offset.top+a-(o.offset.top+o.dimension.height);if(P=o.offset.top-R/2-E,S<0&&T+s>n){var I=2*parseFloat(this.$tooltip.css("border-width")),z=s+S-I;this.$tooltip.css("width",z+"px"),a=this.$tooltip.outerHeight(!1),S=o.offset.left-A-z-12-I,R=o.offset.top+a-(o.offset.top+o.dimension.height),P=o.offset.top-R/2-E}else S<0&&(S=o.offset.left+A+o.dimension.width+12,i="left")}if("right"==F){S=o.offset.left+A+o.dimension.width+12,T=o.offset.left-A-s-12;R=o.offset.top+a-(o.offset.top+o.dimension.height);if(P=o.offset.top-R/2-E,S+s>n&&T<0){I=2*parseFloat(this.$tooltip.css("border-width")),z=n-S-I;this.$tooltip.css("width",z+"px"),a=this.$tooltip.outerHeight(!1),R=o.offset.top+a-(o.offset.top+o.dimension.height),P=o.offset.top-R/2-E}else S+s>n&&(S=o.offset.left-A-s-12,i="right")}if(this.options.arrow){var $="tooltipster-arrow-"+F;if(this.options.arrowColor.length<1)var L=this.$tooltip.css("background-color");else L=this.options.arrowColor;if(i?"left"==i?($="tooltipster-arrow-right",i=""):"right"==i?($="tooltipster-arrow-left",i=""):i="left:"+Math.round(i)+"px;":i="","top"==F||"top-left"==F||"top-right"==F)var j=parseFloat(this.$tooltip.css("border-bottom-width")),N=this.$tooltip.css("border-bottom-color");else if("bottom"==F||"bottom-left"==F||"bottom-right"==F)j=parseFloat(this.$tooltip.css("border-top-width")),N=this.$tooltip.css("border-top-color");else if("left"==F)j=parseFloat(this.$tooltip.css("border-right-width")),N=this.$tooltip.css("border-right-color");else if("right"==F)j=parseFloat(this.$tooltip.css("border-left-width")),N=this.$tooltip.css("border-left-color");else j=parseFloat(this.$tooltip.css("border-bottom-width")),N=this.$tooltip.css("border-bottom-color");j>1&&j++;var q="";if(0!==j){var W="",H="border-color: "+N+";";-1!==$.indexOf("bottom")?W="margin-top: -"+Math.round(j)+"px;":-1!==$.indexOf("top")?W="margin-bottom: -"+Math.round(j)+"px;":-1!==$.indexOf("left")?W="margin-right: -"+Math.round(j)+"px;":-1!==$.indexOf("right")&&(W="margin-left: -"+Math.round(j)+"px;"),q='<span class="tooltipster-arrow-border" style="'+W+" "+H+';"></span>'}this.$tooltip.find(".tooltipster-arrow").remove();var B='<div class="'+$+' tooltipster-arrow" style="'+i+'">'+q+'<span style="border-color:'+L+';"></span></div>';this.$tooltip.append(B)}this.$tooltip.css({top:Math.round(P)+"px",left:Math.round(S)+"px"})}return this},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var i=t.$el.data("tooltipster-ns");if(1===i.length){var n=null;"previous"===t.options.restoration?n=t.$el.data("tooltipster-initialTitle"):"current"===t.options.restoration&&(n="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html()),n&&t.$el.attr("title",n),t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=e.grep(i,function(e,i){return e!==t.namespace}),t.$el.data("tooltipster-ns",i);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn.tooltipster=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var i=!0;switch(t[0]){case"setDefaults":e.extend(n,t[1]);break;default:i=!1}return!!i||this}return this}if("string"==typeof t[0]){var s="#*$~&";return this.each(function(){var i=e(this).data("tooltipster-ns"),n=i?e(this).data(i[0]):null;if(!n)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof n[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var o=n[t[0]](t[1],t[2]);if(o!==n)return s=o,!1}),"#*$~&"!==s?s:this}var a=[],r=t[0]&&void 0!==t[0].multiple,l=r&&t[0].multiple||!r&&n.multiple,c=t[0]&&void 0!==t[0].debug,d=c&&t[0].debug||!c&&n.debug;return this.each(function(){var i=!1,n=e(this).data("tooltipster-ns"),s=null;n?l?i=!0:d&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):i=!0,i&&(s=new o(this,t[0]),n||(n=[]),n.push(s.namespace),e(this).data("tooltipster-ns",n),e(this).data(s.namespace,s)),a.push(s)}),l?a:this};var a=!!("ontouchstart"in t),r=!1;function l(){return!r&&a}function c(){var e=(i.body||i.documentElement).style,t="transition";if("string"==typeof e[t])return!0;v=["Moz","Webkit","Khtml","O","ms"],t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<v.length;n++)if("string"==typeof e[v[n]+t])return!0;return!1}e("body").one("mousemove",function(){r=!0})}(jQuery,window,document),function(e){var t=["DOMMouseScroll","mousewheel"];function i(t){var i=t||window.event,n=[].slice.call(arguments,1),o=0,s=0,a=0;return(t=e.event.fix(i)).type="mousewheel",t.wheelDelta&&(o=t.wheelDelta/120),t.detail&&(o=-t.detail/3),a=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,s=-1*o),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),n.unshift(t,o,s,a),e.event.handle.apply(this,n)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"use strict";var t=e.document;function i(e){null!==e&&(this.el=e,this.overlay=this.el.querySelector(".nl-overlay"),this.fields=[],this.fldOpen=-1,this._init())}function n(e,t,i,n){this.form=e,this.elOriginal=t,this.pos=n,this.type=i,this._create(),this._initEvents()}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),i.prototype={_init:function(){var e=this;Array.prototype.slice.call(this.el.querySelectorAll("select")).forEach(function(t,i){e.fldOpen++,e.fields.push(new n(e,t,"dropdown",e.fldOpen))}),Array.prototype.slice.call(this.el.querySelectorAll("input")).forEach(function(t,i){e.fldOpen++,e.fields.push(new n(e,t,"input",e.fldOpen))}),this.overlay.addEventListener("click",function(t){e._closeFlds()}),this.overlay.addEventListener("touchstart",function(t){e._closeFlds()})},_closeFlds:function(){-1!==this.fldOpen&&this.fields[this.fldOpen].close()}},n.prototype={_create:function(){"dropdown"===this.type?this._createDropDown():"input"===this.type&&this._createInput()},_createDropDown:function(){var e=this;this.fld=t.createElement("div"),this.fld.className="nl-field nl-dd",this.toggle=t.createElement("a"),this.toggle.innerHTML=this.elOriginal.options[this.elOriginal.selectedIndex].innerHTML,this.toggle.className="nl-field-toggle",this.optionsList=t.createElement("ul");var i="";Array.prototype.slice.call(this.elOriginal.querySelectorAll("option")).forEach(function(t,n){i+=e.elOriginal.selectedIndex===n?'<li class="nl-dd-checked">'+t.innerHTML+"</li>":"<li>"+t.innerHTML+"</li>",e.elOriginal.selectedIndex===n&&(e.selectedIdx=n)}),this.optionsList.innerHTML=i,this.fld.appendChild(this.toggle),this.fld.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.elOriginal.style.display="none"},_createInput:function(){this.fld=t.createElement("div"),this.fld.className="nl-field nl-ti-text",this.toggle=t.createElement("a"),this.toggle.innerHTML=this.elOriginal.getAttribute("placeholder"),this.toggle.className="nl-field-toggle",this.optionsList=t.createElement("ul"),this.getinput=t.createElement("input"),this.getinput.setAttribute("type","text"),this.getinput.setAttribute("placeholder",this.elOriginal.getAttribute("placeholder")),this.getinputWrapper=t.createElement("li"),this.getinputWrapper.className="nl-ti-input",this.inputsubmit=t.createElement("button"),this.inputsubmit.className="nl-field-go",this.inputsubmit.innerHTML="Go",this.getinputWrapper.appendChild(this.getinput),this.getinputWrapper.appendChild(this.inputsubmit),this.example=t.createElement("li"),this.example.className="nl-ti-example",this.example.innerHTML=this.elOriginal.getAttribute("data-subline"),this.optionsList.appendChild(this.getinputWrapper),this.optionsList.appendChild(this.example),this.fld.appendChild(this.toggle),this.fld.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.elOriginal.style.display="none"},_initEvents:function(){var e=this;if(this.toggle.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e._open()}),this.toggle.addEventListener("touchstart",function(t){t.preventDefault(),t.stopPropagation(),e._open()}),"dropdown"===this.type){var t=Array.prototype.slice.call(this.optionsList.querySelectorAll("li"));t.forEach(function(i,n){i.addEventListener("click",function(n){n.preventDefault(),e.close(i,t.indexOf(i))}),i.addEventListener("touchstart",function(n){n.preventDefault(),e.close(i,t.indexOf(i))})})}else"input"===this.type&&(this.getinput.addEventListener("keydown",function(t){13==t.keyCode&&e.close()}),this.inputsubmit.addEventListener("click",function(t){t.preventDefault(),e.close()}),this.inputsubmit.addEventListener("touchstart",function(t){t.preventDefault(),e.close()}))},_open:function(){if(this.open)return!1;this.open=!0,this.form.fldOpen=this.pos;this.fld.className+=" nl-field-open"},close:function(e,t){if(!this.open)return!1;(this.open=!1,this.form.fldOpen=-1,this.fld.className=this.fld.className.replace(/\b nl-field-open\b/,""),"dropdown"===this.type)?e&&(this.optionsList.children[this.selectedIdx].className="",e.className="nl-dd-checked",this.toggle.innerHTML=e.innerHTML,this.selectedIdx=t,this.elOriginal.value=this.elOriginal.children[this.selectedIdx].value):"input"===this.type&&(this.getinput.blur(),this.toggle.innerHTML=""!==this.getinput.value.trim()?this.getinput.value:this.getinput.getAttribute("placeholder"),this.elOriginal.value=this.getinput.value)}},e.NLForm=i}(window),function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(t.util.type(e)){case"Object":var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t.util.clone(e[n]));return i;case"Array":return e.slice()}return e}},languages:{extend:function(e,i){var n=t.util.clone(t.languages[e]);for(var o in i)n[o]=i[o];return n},insertBefore:function(e,i,n,o){var s=(o=o||t.languages)[e],a={};for(var r in s)if(s.hasOwnProperty(r)){if(r==i)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);a[r]=s[r]}return o[e]=a},DFS:function(e,i){for(var n in e)i.call(e,n,e[n]),"Object"===t.util.type(e)&&t.languages.DFS(e[n],i)}},highlightAll:function(e,i){for(var n,o=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),s=0;n=o[s++];)t.highlightElement(n,!0===e,i)},highlightElement:function(n,o,s){for(var a,r,l=n;l&&!e.test(l.className);)l=l.parentNode;if(l&&(a=(l.className.match(e)||[,""])[1],r=t.languages[a]),r){n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=n.textContent;if(c){c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var d={element:n,language:a,grammar:r,code:c};if(t.hooks.run("before-highlight",d),o&&self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){d.highlightedCode=i.stringify(JSON.parse(e.data),a),t.hooks.run("before-insert",d),d.element.innerHTML=d.highlightedCode,s&&s.call(d.element),t.hooks.run("after-highlight",d)},u.postMessage(JSON.stringify({language:d.language,code:d.code}))}else d.highlightedCode=t.highlight(d.code,d.grammar,d.language),t.hooks.run("before-insert",d),d.element.innerHTML=d.highlightedCode,s&&s.call(n),t.hooks.run("after-highlight",d)}}},highlight:function(e,n,o){return i.stringify(t.tokenize(e,n),o)},tokenize:function(e,i,n){var o=t.Token,s=[e],a=i.rest;if(a){for(var r in a)i[r]=a[r];delete i.rest}e:for(var r in i)if(i.hasOwnProperty(r)&&i[r]){var l=i[r],c=l.inside,d=!!l.lookbehind,u=0;l=l.pattern||l;for(var h=0;h<s.length;h++){var f=s[h];if(s.length>e.length)break e;if(!(f instanceof o))if(l.lastIndex=0,p=l.exec(f)){d&&(u=p[1].length);var p,m=p.index-1+u,g=m+(p=p[0].slice(u)).length,v=f.slice(0,m+1),b=f.slice(g+1),y=[h,1];v&&y.push(v);var w=new o(r,c?t.tokenize(p,c):p);y.push(w),b&&y.push(b),Array.prototype.splice.apply(s,y)}}}return s},hooks:{all:{},add:function(e,i){var n=t.hooks.all;n[e]=n[e]||[],n[e].push(i)},run:function(e,i){var n=t.hooks.all[e];if(n&&n.length)for(var o,s=0;o=n[s++];)o(i)}}},i=t.Token=function(e,t){this.type=e,this.content=t};if(i.stringify=function(e,n,o){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return i.stringify(t,n,e)}).join("");var s={type:e.type,content:i.stringify(e.content,n,o),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:o};"comment"==s.type&&(s.attributes.spellcheck="true"),t.hooks.run("wrap",s);var a="";for(var r in s.attributes)a+=r+'="'+(s.attributes[r]||"")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+a+">"+s.content+"</"+s.tag+">"},self.document){var n=document.getElementsByTagName("script");(n=n[n.length-1])&&(t.filename=n.src,document.addEventListener&&!n.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll))}else self.addEventListener("message",function(e){var i=JSON.parse(e.data),n=i.language,o=i.code;self.postMessage(JSON.stringify(t.tokenize(o,t.languages[n]))),self.close()},!1)}(),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,boolean:/\b(true|false)\b/g,function:{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.salvattore=t()}(this,function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t,i=document.createElement("style"),n=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",n.parentNode.insertBefore(i,n),t="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=n:i.textContent=n,"1px"===t.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){"use strict";if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,o=[],s=function(t){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=o.length;t<i;t++){var n=o[t].mql,s=o[t].listeners||[],a=e(n.media).matches;if(a!==n.matches){n.matches=a;for(var r=0,l=s.length;r<l;r++)s[r].call(window,n)}}},30)};window.matchMedia=function(n){var a=e(n),r=[],l=0;return a.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",s,!0)),0===l&&(l=o.push({mql:a,listeners:r})),r.push(e))},a.removeListener=function(e){for(var t=0,i=r.length;t<i;t++)r[t]===e&&r.splice(t,1)},a}}(),function(){"use strict";for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+o)},o);return e=n+o,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"function"!=typeof window.CustomEvent&&function(){"use strict";function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(e,t,i){"use strict";var n={},o=[],s=[],a=[],r=function(e,t,i){e.dataset?e.dataset[t]=i:e.setAttribute("data-"+t,i)};return n.obtainGridSettings=function(t){var i=e.getComputedStyle(t,":before").getPropertyValue("content").slice(1,-1),n=i.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),o=1,s=[];return n?(o=n[1],s=(s=n[2])?s.split("."):["column"]):(n=i.match(/^\s*\.(.+)\s+(\d+)\s*$/))&&(s=n[1],(o=n[2])&&(o=o.split("."))),{numberOfColumns:o,columnClasses:s}},n.addColumns=function(e,i){for(var o,s=n.obtainGridSettings(e),a=s.numberOfColumns,l=s.columnClasses,c=new Array(+a),d=t.createDocumentFragment(),u=a;0!=u--;)o="[data-columns] > *:nth-child("+a+"n-"+u+")",c.push(i.querySelectorAll(o));c.forEach(function(e){var i=t.createElement("div"),n=t.createDocumentFragment();i.className=l.join(" "),Array.prototype.forEach.call(e,function(e){n.appendChild(e)}),i.appendChild(n),d.appendChild(i)}),e.appendChild(d),r(e,"columns",a)},n.removeColumns=function(i){var n=t.createRange();n.selectNodeContents(i);var o=Array.prototype.filter.call(n.extractContents().childNodes,function(t){return t instanceof e.HTMLElement}),s=o.length,a=o[0].childNodes.length,l=new Array(a*s);Array.prototype.forEach.call(o,function(e,t){Array.prototype.forEach.call(e.children,function(e,i){l[i*s+t]=e})});var c=t.createElement("div");return r(c,"columns",0),l.filter(function(e){return!!e}).forEach(function(e){c.appendChild(e)}),c},n.recreateColumns=function(t){e.requestAnimationFrame(function(){n.addColumns(t,n.removeColumns(t));var e=new CustomEvent("columnsChange");t.dispatchEvent(e)})},n.mediaQueryChange=function(e){e.matches&&Array.prototype.forEach.call(o,n.recreateColumns)},n.getCSSRules=function(e){var t;try{t=e.sheet.cssRules||e.sheet.rules}catch(e){return[]}return t||[]},n.getStylesheets=function(){var e=Array.prototype.slice.call(t.querySelectorAll("style"));return e.forEach(function(t,i){"text/css"!==t.type&&""!==t.type&&e.splice(i,1)}),Array.prototype.concat.call(e,Array.prototype.slice.call(t.querySelectorAll("link[rel='stylesheet']")))},n.mediaRuleHasColumnsSelector=function(e){var t,i;try{t=e.length}catch(e){t=0}for(;t--;)if((i=e[t]).selectorText&&i.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},n.scanMediaQueries=function(){var t=[];if(e.matchMedia){n.getStylesheets().forEach(function(e){Array.prototype.forEach.call(n.getCSSRules(e),function(e){try{e.media&&e.cssRules&&n.mediaRuleHasColumnsSelector(e.cssRules)&&t.push(e)}catch(e){}})});var i=s.filter(function(e){return-1===t.indexOf(e)});a.filter(function(e){return-1!==i.indexOf(e.rule)}).forEach(function(e){e.mql.removeListener(n.mediaQueryChange)}),a=a.filter(function(e){return-1===i.indexOf(e.rule)}),t.filter(function(e){return-1==s.indexOf(e)}).forEach(function(t){var i=e.matchMedia(t.media.mediaText);i.addListener(n.mediaQueryChange),a.push({rule:t,mql:i})}),s.length=0,s=t}},n.rescanMediaQueries=function(){n.scanMediaQueries(),Array.prototype.forEach.call(o,n.recreateColumns)},n.nextElementColumnIndex=function(e,t){var i,n,o=e.children,s=o.length,a=0,r=0;for(n=0;n<s;n++)i=o[n].children.length+(t[n].children||t[n].childNodes).length,0===a&&(a=i),i<a&&(r=n,a=i);return r},n.createFragmentsList=function(e){for(var i=new Array(e),n=0;n!==e;)i[n]=t.createDocumentFragment(),n++;return i},n.appendElements=function(e,t){var i=e.children,o=i.length,s=n.createFragmentsList(o);Array.prototype.forEach.call(t,function(t){var i=n.nextElementColumnIndex(e,s);s[i].appendChild(t)}),Array.prototype.forEach.call(i,function(e,t){e.appendChild(s[t])})},n.prependElements=function(e,i){var o=e.children,s=o.length,a=n.createFragmentsList(s),r=s-1;i.forEach(function(e){var t=a[r];t.insertBefore(e,t.firstChild),0===r?r=s-1:r--}),Array.prototype.forEach.call(o,function(e,t){e.insertBefore(a[t],e.firstChild)});for(var l=t.createDocumentFragment(),c=i.length%s;0!=c--;)l.appendChild(e.lastChild);e.insertBefore(l,e.firstChild)},n.registerGrid=function(i){if("none"!==e.getComputedStyle(i).display){var s=t.createRange();s.selectNodeContents(i);var a=t.createElement("div");a.appendChild(s.extractContents()),r(a,"columns",0),n.addColumns(i,a),o.push(i)}},n.init=function(){var e=t.createElement("style");e.innerHTML="[data-columns]::before{display:block;visibility:hidden;position:absolute;font-size:1px;}",t.head.appendChild(e);var i=t.querySelectorAll("[data-columns]");Array.prototype.forEach.call(i,n.registerGrid),n.scanMediaQueries()},n.init(),{appendElements:n.appendElements,prependElements:n.prependElements,registerGrid:n.registerGrid,recreateColumns:n.recreateColumns,rescanMediaQueries:n.rescanMediaQueries,init:n.init,append_elements:n.appendElements,prepend_elements:n.prependElements,register_grid:n.registerGrid,recreate_columns:n.recreateColumns,rescan_media_queries:n.rescanMediaQueries}}(window,window.document)}),function(e,t,i,n){e.site=e.fn.site=function(n){var o,s,a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),u=e.isPlainObject(n)?e.extend(!0,{},e.site.settings,n):e.extend({},e.site.settings),h=u.namespace,f=u.error,p="module-"+h,m=e(i),g=this,v=m.data(p);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),v=o,m.data(p,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(o.verbose("Console not available, normalizing events"),o.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),void 0===t.requestAnimationFrame&&(o.debug("RequestAnimationFrame not available, normailizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return void 0!==e.fn[t]&&void 0!==e.fn[t].settings},enabled:{modules:function(t){var i=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)&&i.push(t)}),i}},disabled:{modules:function(t){var i=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)||i.push(t)}),i}},change:{setting:function(t,i,n,s){n="string"==typeof n?"all"===n?u.modules:[n]:n||u.modules,s=void 0===s||s,e.each(n,function(n,a){var r,l=!o.moduleExists(a)||(e.fn[a].settings.namespace||!1);o.moduleExists(a)&&(o.verbose("Changing default setting",t,i,a),e.fn[a].settings[t]=i,s&&l&&(r=e(":data(module-"+l+")")).length>0&&(o.verbose("Modifying existing settings",r),r[a]("setting",t,i)))})},settings:function(t,i,n){i="string"==typeof i?[i]:i||u.modules,n=void 0===n||n,e.each(i,function(i,s){var a;o.moduleExists(s)&&(o.verbose("Changing default setting",t,s),e.extend(!0,e.fn[s].settings,t),n&&h&&(a=e(":data(module-"+h+")")).length>0&&(o.verbose("Modifying existing settings",a),a[s]("setting",t)))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||u.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||u.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(void 0===v.cache.console)return void o.error(f.console);o.debug("Restoring console function"),t.console=v.cache.console}else o.debug("Disabling console function"),v.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",m),m.removeData(p)},cache:{},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===i)return o[t];o[t]=i}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,i;u.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Element:g,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=u.name+":",i=0;a=!1,clearTimeout(o.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,n){var a,r,l,c=v;return i=i||d,n=g||n,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,n){var s=i!=a?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[s])&&i!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[n])||i==a)return void 0!==c[n]?(r=c[n],!1):(o.error(f.method,t),!1);c=c[n]}})),e.isFunction(r)?l=r.apply(n,i):void 0!==r&&(l=r),e.isArray(s)?s.push(l):void 0!==s?s=[s,l]:void 0!==l&&(s=l),r}},c?(void 0===v&&o.initialize(),o.invoke(l)):(void 0!==v&&o.destroy(),o.initialize()),void 0!==s?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.form=function(t,n){var o,s=e(this),a=e.extend(!0,{},e.fn.form.settings,n),r=e.extend({},e.fn.form.settings.defaults,t),l=a.namespace,c=a.metadata,d=a.selector,u=a.className,h=(a.error,"."+l),f="module-"+l,p=s.selector||"",m=(new Date).getTime(),g=[],v=arguments[0],b="string"==typeof v,y=[].slice.call(arguments,1);return s.each(function(){var t,n=e(this),l=e(this).find(d.field),w=e(this).find(d.group),x=e(this).find(d.message),C=(e(this).find(d.prompt),e(this).find(d.submit)),k=e(this).find(d.clear),_=e(this).find(d.reset),S=[],T=!1,P=this,E=n.data(f);t={initialize:function(){t.verbose("Initializing form validation",n,r,a),t.bindEvents(),t.set.defaults(),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),E=t,n.data(f,t)},destroy:function(){t.verbose("Destroying previous module",E),t.removeEvents(),n.removeData(f)},refresh:function(){t.verbose("Refreshing selector cache"),l=n.find(d.field)},submit:function(){t.verbose("Submitting form",n),n.submit()},attachEvents:function(i,n){n=n||"submit",e(i).on("click",function(e){t[n](),e.preventDefault()})},bindEvents:function(){a.keyboardShortcuts&&l.on("keydown"+h,t.event.field.keydown),n.on("submit"+h,t.validate.form),l.on("blur"+h,t.event.field.blur),t.attachEvents(C,"submit"),t.attachEvents(_,"reset"),t.attachEvents(k,"clear"),l.each(function(){var i=e(this).prop("type"),n=t.get.changeEvent(i);e(this).on(n+h,t.event.field.change)})},clear:function(){l.each(function(){var i=e(this),n=i.parent(),o=i.closest(w),s=o.find(d.prompt),a=i.data(c.defaultValue)||"",r=n.is(d.uiCheckbox),l=n.is(d.uiDropdown);o.hasClass(u.error)&&(t.verbose("Resetting error on field",o),o.removeClass(u.error),s.remove()),l?(t.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):r?n.checkbox("uncheck"):(t.verbose("Resetting field value",i,a),i.val(""))})},reset:function(){l.each(function(){var i=e(this),n=i.parent(),o=i.closest(w),s=o.find(d.prompt),a=i.data(c.defaultValue)||"",r=n.is(d.uiCheckbox),l=n.is(d.uiDropdown);o.hasClass(u.error)&&(t.verbose("Resetting error on field",o),o.removeClass(u.error),s.remove()),l?(t.verbose("Resetting dropdown value",n,a),n.dropdown("restore defaults")):r?(t.verbose("Resetting checkbox value",n,a),!0===a?n.checkbox("check"):n.checkbox("uncheck")):(t.verbose("Resetting field value",i,a),i.val(a))})},removeEvents:function(){n.off(h),l.off(h),C.off(h),l.off(h)},event:{field:{keydown:function(i){var n=e(this),o=i.which,s=13;o==27&&(t.verbose("Escape key pressed blurring field"),n.blur()),!i.ctrlKey&&o==s&&n.is(d.input)&&n.not(d.checkbox).length>0&&(C.addClass(u.pressed),T||(n.one("keyup"+h,t.event.field.keyup),t.submit(),t.debug("Enter pressed on input submitting form")),T=!0)},keyup:function(){T=!1,C.removeClass(u.pressed)},blur:function(){var i=e(this);i.closest(w).hasClass(u.error)?(t.debug("Revalidating field",i,t.get.validation(i)),t.validate.field(t.get.validation(i))):"blur"!=a.on&&"change"!=a.on||t.validate.field(t.get.validation(i))},change:function(){var i=e(this),n=i.closest(w);("change"==a.on||n.hasClass(u.error)&&a.revalidate)&&(clearTimeout(t.timer),t.timer=setTimeout(function(){t.debug("Revalidating field",i,t.get.validation(i)),t.validate.field(t.get.validation(i))},a.delay))}}},get:{changeEvent:function(e){return"checkbox"==e||"radio"==e||"hidden"==e?"change":t.get.inputEvent()},inputEvent:function(){return void 0!==i.createElement("input").oninput?"input":void 0!==i.createElement("input").onpropertychange?"propertychange":"keyup"},field:function(i){return t.verbose("Finding field with identifier",i),l.filter("#"+i).length>0?l.filter("#"+i):l.filter('[name="'+i+'"]').length>0?l.filter('[name="'+i+'"]'):l.filter('[name="'+i+'[]"]').length>0?l.filter('[name="'+i+'[]"]'):l.filter("[data-"+c.validate+'="'+i+'"]').length>0?l.filter("[data-"+c.validate+'="'+i+'"]'):e("<input/>")},fields:function(i){var n=e();return e.each(i,function(e,i){n=n.add(t.get.field(i))}),n},validation:function(i){var n;return e.each(r,function(e,o){t.get.field(o.identifier).get(0)==i.get(0)&&(n=o)}),n||!1},value:function(e){var i=[];return i.push(e),t.get.values.call(P,i)[e]},values:function(i){var n=e.isArray(i)?t.get.fields(i):l,o={};return n.each(function(i,n){var s=e(n),a=(s.prop("type"),s.prop("name")),r=s.val(),l=s.is(d.checkbox),c=s.is(d.radio),u=-1!==a.indexOf("[]"),h=!!l&&s.is(":checked");if(a)if(u)if(a=a.replace("[]",""),o[a]||(o[a]=[]),l){if(!h)return t.debug("Omitted unchecked checkbox",s),!0;o[a].push(r)}else o[a].push(r);else if(c)h&&(o[a]=r);else if(l){if(!h)return t.debug("Omitted unchecked checkbox",s),!0;o[a]=!0}else o[a]=r}),o}},has:{field:function(e){return t.verbose("Checking for existence of a field with identifier",e),l.filter("#"+e).length>0||(l.filter('[name="'+e+'"]').length>0||l.filter("[data-"+c.validate+'="'+e+'"]').length>0)}},add:{prompt:function(i,o){var s=t.get.field(i).closest(w),r=s.children(d.prompt),l=0!==r.length;o="string"==typeof o?[o]:o,t.verbose("Adding field error state",i),s.addClass(u.error),a.inline&&(l||(r=a.templates.prompt(o)).appendTo(s),r.html(o[0]),l?t.verbose("Inline errors are disabled, no inline error added",i):a.transition&&void 0!==e.fn.transition&&n.transition("is supported")?(t.verbose("Displaying error with css transition",a.transition),r.transition(a.transition+" in",a.duration)):(t.verbose("Displaying error with fallback javascript animation"),r.fadeIn(a.duration)))},errors:function(e){t.debug("Adding form error messages",e),x.html(a.templates.error(e))}},remove:{prompt:function(i){var o=t.get.field(i.identifier).closest(w),s=o.children(d.prompt);o.removeClass(u.error),a.inline&&s.is(":visible")&&(t.verbose("Removing prompt for field",i),a.transition&&void 0!==e.fn.transition&&n.transition("is supported")?s.transition(a.transition+" out",a.duration,function(){s.remove()}):s.fadeOut(a.duration,function(){s.remove()}))}},set:{success:function(){n.removeClass(u.error).addClass(u.success)},defaults:function(){l.each(function(){var t=e(this),i=t.filter(d.checkbox).length>0?t.is(":checked"):t.val();t.data(c.defaultValue,i)})},error:function(){n.removeClass(u.success).addClass(u.error)},value:function(e,i){var n={};return n[e]=i,t.set.values.call(P,n)},values:function(i){e.isEmptyObject(i)||(e.each(i,function(i,n){var o,s=t.get.field(i),a=s.parent(),r=e.isArray(n),l=a.is(d.uiCheckbox),c=a.is(d.uiDropdown),u=s.is(d.radio)&&l;s.length>0&&(r&&l?(t.verbose("Selecting multiple",n,s),a.checkbox("uncheck"),e.each(n,function(e,t){o=s.filter('[value="'+t+'"]'),a=o.parent(),o.length>0&&a.checkbox("check")})):u?(t.verbose("Selecting radio value",n,s),s.filter('[value="'+n+'"]').parent(d.uiCheckbox).checkbox("check")):l?(t.verbose("Setting checkbox value",n,a),!0===n?a.checkbox("check"):a.checkbox("uncheck")):c?(t.verbose("Setting dropdown value",n,a),a.dropdown("set selected",n)):(t.verbose("Setting field value",n,s),s.val(n)))}),t.validate.form())}},validate:{form:function(i){var o=!0;return!T&&(S=[],e.each(r,function(e,i){t.validate.field(i)||(o=!1)}),o?(t.debug("Form has no validation errors, submitting"),t.set.success(),a.onSuccess.call(P,i)):(t.debug("Form has errors"),t.set.error(),a.inline||t.add.errors(S),void 0!==n.data("moduleApi")&&i.stopImmediatePropagation(),a.onFailure.call(P,S)))},field:function(i){var n=t.get.field(i.identifier),o=!0,s=[];return n.prop("disabled")?(t.debug("Field is disabled. Skipping",i.identifier),o=!0):i.optional&&""===e.trim(n.val())?(t.debug("Field is optional and empty. Skipping",i.identifier),o=!0):void 0!==i.rules&&e.each(i.rules,function(e,n){t.has.field(i.identifier)&&!t.validate.rule(i,n)&&(t.debug("Field is invalid",i.identifier,n.type),s.push(n.prompt),o=!1)}),o?(t.remove.prompt(i,s),a.onValid.call(n),!0):(S=S.concat(s),t.add.prompt(i.identifier,s),a.onInvalid.call(n,s),!1)},rule:function(i,n){var o,s,r=t.get.field(i.identifier),l=n.type,c=e.trim(r.val()+""),d=/\[(.*)\]/i.exec(l),u=!0;return null!=d?(o=""+d[1],s=l.replace(d[0],""),u=a.rules[s].call(P,c,o)):u=a.rules[l].call(r,c),u}},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(void 0===i)return a[t];a[t]=i}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,t,i);else{if(void 0===n)return t[i];t[i]=n}},debug:function(){a.debug&&(a.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,a.name+":"),t.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,a.name+":"),t.error.apply(console,arguments)},performance:{log:function(e){var i,n;a.performance&&(n=(i=(new Date).getTime())-(m||i),m=i,g.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var i=a.name+":",n=0;m=!1,clearTimeout(t.performance.timer),e.each(g,function(e,t){n+=t["Execution Time"]}),i+=" "+n+"ms",p&&(i+=" '"+p+"'"),s.length>1&&(i+=" ("+s.length+")"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(i),console.table?console.table(g):e.each(g,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(t,i,n){var s,a,r,l=E;return i=i||y,n=P||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},b?(void 0===E&&t.initialize(),t.invoke(v)):(void 0!==E&&E.invoke("destroy"),t.initialize())}),void 0!==o?o:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:".reset",submit:".submit",uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{method:"The method you called is not defined."},templates:{error:function(t){var i='<ul class="list">';return e.each(t,function(e,t){i+="<li>"+t+"</li>"}),e(i+="</ul>")},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").length>0},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t))},email:function(e){return new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i").test(e)},empty:function(e){return!(void 0===e||""===e)},integer:function(e,t){var i,n,o,s=/^\-?\d+$/;return void 0===t||""===t||".."===t||(-1==t.indexOf("..")?s.test(t)&&(i=n=t-0):(o=t.split("..",2),s.test(o[0])&&(i=o[0]-0),s.test(o[1])&&(n=o[1]-0))),s.test(e)&&(void 0===i||e>=i)&&(void 0===n||e<=n)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},length:function(e,t){return void 0!==e&&e.length>=t},match:function(t,i){var n,o=e(this);return o.find("#"+i).length>0?n=o.find("#"+i).val():o.find('[name="'+i+'"]').length>0?n=o.find('[name="'+i+'"]').val():o.find('[data-validate="'+i+'"]').length>0&&(n=o.find('[data-validate="'+i+'"]').val()),void 0!==n&&t.toString()==n.toString()},maxLength:function(e,t){return void 0!==e&&e.length<=t},not:function(e,t){return(e="string"==typeof e?e.toLowerCase():e)!=(t="string"==typeof t?t.toLowerCase():t)},notExactly:function(e,t){return e!=t},url:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.accordion=function(i){var n,o=e(this),s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(){var d,u,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.accordion.settings,i):e.extend({},e.fn.accordion.settings),f=h.className,p=h.namespace,m=h.selector,g=h.error,v="."+p,b="module-"+p,y=o.selector||"",w=e(this),x=w.find(m.title),C=w.find(m.content),k=this,_=w.data(b);u={initialize:function(){u.debug("Initializing",w),u.bind.events(),u.observeChanges(),u.instantiate()},instantiate:function(){_=u,w.data(b,u)},destroy:function(){u.debug("Destroying previous instance",w),w.off(v).removeData(b)},refresh:function(){x=w.find(m.title),C=w.find(m.content)},observeChanges:function(){"MutationObserver"in t&&((d=new MutationObserver(function(e){u.debug("DOM tree modified, updating selector cache"),u.refresh()})).observe(k,{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",d))},bind:{events:function(){u.debug("Binding delegated events"),w.on("click"+v,m.trigger,u.event.click)}},event:{click:function(){u.toggle.call(this)}},toggle:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(C),o=n.hasClass(f.animating),s=n.hasClass(f.active),a=s&&!o,r=!s&&o;u.debug("Toggling visibility of content",i),a||r?h.collapsible?u.close.call(i):u.debug("Cannot close accordion content collapsing is disabled"):u.open.call(i)},open:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(C),o=n.hasClass(f.animating);!n.hasClass(f.active)&&!o&&(u.debug("Opening accordion content",i),h.exclusive&&u.closeOthers.call(i),i.addClass(f.active),n.addClass(f.animating),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?n.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):n.children().stop(!0).animate({opacity:1},h.duration,u.resetOpacity)),n.stop(!0).slideDown(h.duration,h.easing,function(){n.removeClass(f.animating).addClass(f.active),u.reset.display.call(this),h.onOpen.call(this),h.onChange.call(this)}))},close:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(C),o=n.hasClass(f.animating),s=n.hasClass(f.active);!s&&!(!s&&o)||s&&o||(u.debug("Closing accordion content",n),i.removeClass(f.active),n.addClass(f.animating),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?n.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):n.children().stop(!0).animate({opacity:0},h.duration,u.resetOpacity)),n.stop(!0).slideUp(h.duration,h.easing,function(){n.removeClass(f.animating).removeClass(f.active),u.reset.display.call(this),h.onClose.call(this),h.onChange.call(this)}))},closeOthers:function(t){var i,n,o,s=void 0!==t?x.eq(t):e(this).closest(m.title),a=s.parents(m.content).prev(m.title),r=s.closest(m.accordion),l=m.title+"."+f.active+":visible",c=m.content+"."+f.active+":visible";h.closeNested?o=(i=r.find(l).not(a)).next(C):(i=r.find(l).not(a),n=r.find(c).find(l).not(a),o=(i=i.not(n)).next(C)),i.length>0&&(u.debug("Exclusive enabled, closing other content",i),i.removeClass(f.active),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):o.children().stop().animate({opacity:0},h.duration,u.resetOpacity)),o.stop().slideUp(h.duration,h.easing,function(){e(this).removeClass(f.active),u.reset.display.call(this)}))},reset:{display:function(){u.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){u.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(u.debug("Changing internal",t,i),void 0===i)return u[t];e.isPlainObject(t)?e.extend(!0,u,t):u[t]=i},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(u.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",y&&(t+=" '"+y+"'"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var s,a,r,l=_;return i=i||c,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},l?(void 0===_&&u.initialize(),u.invoke(r)):(void 0!==_&&_.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.checkbox=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h=e.extend(!0,{},e.fn.checkbox.settings,i),f=h.className,p=h.namespace,m=h.selector,g=h.error,v="."+p,b="module-"+p,y=e(this),w=e(this).find(m.label).first(),x=e(this).find(m.input),C=y.data(b),k=this;u={initialize:function(){u.verbose("Initializing checkbox",h),u.create.label(),u.add.events(),u.is.checked()?(u.set.checked(),h.fireOnInit&&h.onChecked.call(x.get())):(u.remove.checked(),h.fireOnInit&&h.onUnchecked.call(x.get())),u.observeChanges(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),C=u,y.data(b,u)},destroy:function(){u.verbose("Destroying module"),u.remove.events(),y.removeData(b)},refresh:function(){y=e(this),w=e(this).find(m.label).first(),x=e(this).find(m.input)},observeChanges:function(){"MutationObserver"in t&&((o=new MutationObserver(function(e){u.debug("DOM tree modified, updating selector cache"),u.refresh()})).observe(k,{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",o))},attachEvents:function(t,i){var n=e(t);i=e.isFunction(u[i])?u[i]:u.toggle,n.length>0?(u.debug("Attaching checkbox events to element",t,i),n.on("click"+v,i)):u.error(g.notFound)},event:{keydown:function(e){var t=e.which,i=13,n=32;t==27&&(u.verbose("Escape key pressed blurring field"),y.blur()),e.ctrlKey||t!=i&&t!=n||(u.verbose("Enter key pressed, toggling checkbox"),u.toggle.call(this),e.preventDefault())}},is:{radio:function(){return y.hasClass(f.radio)},checked:function(){return void 0!==x.prop("checked")&&x.prop("checked")},unchecked:function(){return!u.is.checked()}},can:{change:function(){return!(y.hasClass(f.disabled)||y.hasClass(f.readOnly)||x.prop("disabled"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!u.is.radio()}},set:{checked:function(){y.addClass(f.checked)},tab:function(){void 0===x.attr("tabindex")&&x.attr("tabindex",0)}},create:{label:function(){x.prevAll(m.label).length>0?(x.prev(m.label).detach().insertAfter(x),u.debug("Moving existing label",w)):u.has.label()||(w=e("<label>").insertAfter(x),u.debug("Creating label",w))}},has:{label:function(){return w.length>0}},add:{events:function(){u.verbose("Attaching checkbox events"),y.on("click"+v,u.toggle).on("keydown"+v,m.input,u.event.keydown)}},remove:{checked:function(){y.removeClass(f.checked)},events:function(){u.debug("Removing events"),y.off(v).removeData(b),x.off(v,u.event.keydown),w.off(v)}},enable:function(){u.debug("Enabling checkbox functionality"),y.removeClass(f.disabled),x.prop("disabled",!1),h.onEnabled.call(x.get())},disable:function(){u.debug("Disabling checkbox functionality"),y.addClass(f.disabled),x.prop("disabled","disabled"),h.onDisabled.call(x.get())},check:function(){u.debug("Enabling checkbox",x),x.prop("checked",!0).trigger("change"),u.set.checked(),x.trigger("blur"),h.onChange.call(x.get()),h.onChecked.call(x.get())},uncheck:function(){u.debug("Disabling checkbox"),x.prop("checked",!1).trigger("change"),u.remove.checked(),x.trigger("blur"),h.onChange.call(x.get()),h.onUnchecked.call(x.get())},toggle:function(e){if(!u.can.change())return console.log(u.can.change()),void u.debug("Checkbox is read-only or disabled, ignoring toggle");u.verbose("Determining new checkbox state"),u.is.unchecked()?u.check():u.is.checked()&&u.can.uncheck()&&u.uncheck()},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=C;return i=i||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===C&&u.initialize(),u.invoke(l)):(void 0!==C&&C.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.dimmer=function(t){var n,o=e(this),s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);return o.each(function(){var d,u,h,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=f.selector,m=f.namespace,g=f.className,v=f.error,b="."+m,y="module-"+m,w=o.selector||"",x="ontouchstart"in i.documentElement?"touchstart":"click",C=e(this),k=this,_=C.data(y);(h={preinitialize:function(){h.is.dimmer()?(u=C.parent(),d=C):(u=C,d=h.has.dimmer()?f.dimmerName?u.children(p.dimmer).filter("."+f.dimmerName):u.children(p.dimmer):h.create())},initialize:function(){h.debug("Initializing dimmer",f),"hover"==f.on?u.on("mouseenter"+b,h.show).on("mouseleave"+b,h.hide):"click"==f.on&&u.on(x+b,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",u),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",d),d.on(x+b,h.event.click)),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),_=h,C.data(y,_)},destroy:function(){h.verbose("Destroying previous module",d),C.removeData(y),u.off(b),d.off(b)},event:{click:function(t){h.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(p.content))&&(h.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);h.debug("Add content to dimmer",i),i.parent()[0]!==d[0]&&i.detach().appendTo(d)},create:function(){var t=e(f.template.dimmer());return f.variation&&(h.debug("Creating dimmer with variation",f.variation),t.addClass(f.variation)),f.dimmerName&&(h.debug("Creating named dimmer",f.dimmerName),t.addClass(f.dimmerName)),t.appendTo(u),t},show:function(t){t=e.isFunction(t)?t:function(){},h.debug("Showing dimmer",d,f),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(t),f.onShow.call(k),f.onChange.call(k))},hide:function(t){t=e.isFunction(t)?t:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",d),h.animate.hide(t),f.onHide.call(k),f.onChange.call(k)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",d),h.is.dimmed()?h.hide():h.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},f.useCSS&&void 0!==e.fn.transition&&d.transition("is supported")?("auto"!==f.opacity&&h.set.opacity(),d.transition({animation:f.transition+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),t()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==f.opacity&&(f.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),f.opacity,function(){d.removeAttr("style"),h.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},f.useCSS&&void 0!==e.fn.transition&&d.transition("is supported")?(h.verbose("Hiding dimmer with css"),d.transition({animation:f.transition+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.remove.dimmed()},onComplete:function(){h.remove.active(),t()}})):(h.verbose("Hiding dimmer with javascript"),h.remove.dimmed(),d.stop().fadeOut(h.get.duration(),function(){h.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof f.duration?h.is.active()?f.duration.hide:f.duration.show:f.duration}},has:{dimmer:function(){return f.dimmerName?C.children(p.dimmer).filter("."+f.dimmerName).length>0:C.children(p.dimmer).length>0}},is:{active:function(){return d.hasClass(g.active)},animating:function(){return d.is(":animated")||d.hasClass(g.animating)},closable:function(){return"auto"==f.closable?"hover"!=f.on:f.closable},dimmer:function(){return C.is(p.dimmer)},dimmable:function(){return C.is(p.dimmable)},dimmed:function(){return u.hasClass(g.dimmed)},disabled:function(){return u.hasClass(g.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return u.is("body")},pageDimmer:function(){return d.hasClass(g.pageDimmer)}},can:{show:function(){return!d.hasClass(g.disabled)}},set:{opacity:function(e){e=f.opacity||e;var t=d.css("background-color"),i=t.split(",");i&&4==i.length?(i[3]=e+")",t=i.join(",")):t="rgba(0, 0, 0, "+e+")",h.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(g.active)},dimmable:function(){u.addClass(g.dimmable)},dimmed:function(){u.addClass(g.dimmed)},pageDimmer:function(){d.addClass(g.pageDimmer)},disabled:function(){d.addClass(g.disabled)}},remove:{active:function(){d.removeClass(g.active)},dimmed:function(){u.removeClass(g.dimmed)},disabled:function(){d.removeClass(g.disabled)}},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,i;f.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var t=f.name+":",i=0;s=!1,clearTimeout(h.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",w&&(t+=" '"+w+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var s,a,r,l=_;return i=i||c,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(h.error(v.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}}).preinitialize(),l?(void 0===_&&h.initialize(),h.invoke(r)):(void 0!==_&&_.invoke("destroy"),h.initialize())}),void 0!==n?n:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.dropdown=function(n){var o,s=e(this),a=e(i),r=s.selector||"",l="ontouchstart"in i.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],h="string"==typeof u,f=[].slice.call(arguments,1);return s.each(function(){var p,m,g,v,b=e.isPlainObject(n)?e.extend(!0,{},e.fn.dropdown.settings,n):e.extend({},e.fn.dropdown.settings),y=b.className,w=b.metadata,x=b.namespace,C=b.selector,k=b.error,_="."+x,S="module-"+x,T=e(this),P=T.find(C.text),E=T.find(C.search),A=T.find(C.input),F=T.prev().find(C.text).length>0?T.prev().find(C.text):T.prev(),O=T.children(C.menu),M=O.find(C.item),D=!1,R=!1,I=this,z=T.data(S);v={initialize:function(){v.debug("Initializing dropdown",b),v.is.alreadySetup()?v.setup.reference():(v.setup.layout(),v.save.defaults(),v.set.selected(),v.create.id(),l&&v.bind.touchEvents(),v.bind.mouseEvents(),v.bind.keyboardEvents(),v.observeChanges(),v.instantiate())},instantiate:function(){v.verbose("Storing instance of dropdown",v),z=v,T.data(S,v)},destroy:function(){v.verbose("Destroying previous dropdown for",T),v.remove.tabbable(),T.off(_).removeData(S),O.off(_),a.off(p)},observeChanges:function(){"MutationObserver"in t&&((g=new MutationObserver(function(e){v.is.selectMutation(e)?(v.debug("<select> modified, recreating menu"),v.setup.select()):(v.debug("DOM tree modified, updating selector cache"),v.refresh())})).observe(I,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",g))},create:{id:function(){m=(Math.random().toString(16)+"000000000").substr(2,8),p="."+m,v.verbose("Creating unique id for element",m)}},search:function(){var e;e=E.val(),v.verbose("Searching for query",e),v.filter(e),v.is.searchSelection()&&v.can.show()&&v.show()},setup:{layout:function(){T.is("select")&&v.setup.select(),v.is.search()&&!v.is.searchable()&&(E=e("<input />").addClass(y.search).insertBefore(P)),b.allowTab&&v.set.tabbable()},select:function(){var t=v.get.selectValues();v.debug("Dropdown initialized on a select",t),T.is("select")&&(A=T),A.parent(C.dropdown).length>0?(v.debug("UI dropdown already exists. Creating dropdown menu only"),T=A.closest(C.dropdown),0===(O=T.children(C.menu)).length&&(O=e("<div />").addClass(y.menu).appendTo(T)),O.html(b.templates.menu(t))):(v.debug("Creating entire dropdown from select"),T=e("<div />").attr("class",A.attr("class")).addClass(y.selection).addClass(y.dropdown).html(b.templates.dropdown(t)).insertBefore(A),A.removeAttr("class").prependTo(T)),v.refresh()},reference:function(){var e,t,i=s.index(T);v.debug("Dropdown behavior was called on select, replacing with closest dropdown"),T=T.parent(C.dropdown),v.refresh(),e=s.slice(0,i),t=s.slice(i+1),s=e.add(T).add(t),h&&(z=v,v.invoke(u))}},refresh:function(){v.verbose("Refreshing selector cache"),P=T.find(C.text),E=T.find(C.search),A=T.find(C.input),F=T.prev().find(C.text).length>0?T.prev().find(C.text):T.prev(),O=T.children(C.menu),M=O.find(C.item)},toggle:function(){v.verbose("Toggling menu visibility"),v.is.active()?v.hide():v.show()},show:function(t){t=e.isFunction(t)?t:function(){},v.is.searchSelection()&&v.is.allFiltered()||v.can.show()&&!v.is.active()&&(v.debug("Showing dropdown"),v.animate.show(function(){v.can.click()&&v.bind.intent(),v.set.visible(),t.call(I)}),b.onShow.call(I))},hide:function(t){t=e.isFunction(t)?t:function(){},v.is.active()&&(v.debug("Hiding dropdown"),v.animate.hide(function(){v.remove.visible(),t.call(I)}),b.onHide.call(I))},hideOthers:function(){v.verbose("Finding other dropdowns to hide"),s.not(T).has(C.menu+":visible:not(."+y.animating+")").dropdown("hide")},hideSubMenus:function(){O.find(C.menu).transition("hide")},bind:{keyboardEvents:function(){v.debug("Binding keyboard events"),T.on("keydown"+_,v.event.keydown),v.is.searchable()&&T.on(v.get.inputEvent(),C.search,v.event.input)},touchEvents:function(){v.debug("Touch device detected binding additional touch events"),v.is.searchSelection()||T.on("touchstart"+_,v.event.test.toggle),O.on("touchstart"+_,C.item,v.event.item.mouseenter)},mouseEvents:function(){v.verbose("Mouse detected binding mouse events"),v.is.searchSelection()?T.on("mousedown"+_,C.menu,v.event.menu.activate).on("mouseup"+_,C.menu,v.event.menu.deactivate).on("click"+_,C.search,v.show).on("focus"+_,C.search,v.event.searchFocus).on("blur"+_,C.search,v.event.searchBlur).on("click"+_,C.text,v.event.searchTextFocus):("click"==b.on?T.on("click"+_,v.event.test.toggle):"hover"==b.on?T.on("mouseenter"+_,v.delay.show).on("mouseleave"+_,v.delay.hide):T.on(b.on+_,v.toggle),T.on("mousedown"+_,v.event.mousedown).on("mouseup"+_,v.event.mouseup).on("focus"+_,v.event.focus).on("blur"+_,v.event.blur)),O.on("mouseenter"+_,C.item,v.event.item.mouseenter).on("mouseleave"+_,C.item,v.event.item.mouseleave).on("click"+_,C.item,v.event.item.click)},intent:function(){v.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+p,v.event.test.touch).on("touchmove"+p,v.event.test.touch),a.on("click"+p,v.event.test.hide)}},unbind:{intent:function(){v.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+p).off("touchmove"+p),a.off("click"+p)}},filter:function(t){var i=e(),n=v.escape.regExp(t),o=new RegExp("^"+n,"igm"),s=new RegExp(n,"ig");v.verbose("Searching for matching values"),M.each(function(){var t=e(this),n=String(v.get.choiceText(t,!1)),a=String(v.get.choiceValue(t,n));n.match(o)||a.match(o)?i=i.add(t):b.fullTextSearch&&(n.match(s)||a.match(s))&&(i=i.add(t))}),v.debug("Setting filter",t),v.remove.filteredItem(),M.not(i).addClass(y.filtered),v.verbose("Selecting first non-filtered element"),v.remove.selectedItem(),M.not("."+y.filtered).eq(0).addClass(y.selected),v.is.allFiltered()&&(v.debug("All items filtered, hiding dropdown",t),v.is.searchSelection()&&v.hide(),b.onNoResults.call(I,t))},focusSearch:function(){v.is.search()&&E.focus()},forceSelection:function(){var e=M.not(y.filtered).filter("."+y.selected).eq(0),t=M.filter("."+y.active).eq(0),i=e.length>0?e:t;i.size()>0?(v.event.item.click.call(i),v.remove.filteredItem()):v.hide()},event:{mousedown:function(){D=!0},mouseup:function(){D=!1},focus:function(){!D&&v.is.hidden()&&v.show()},blur:function(e){var t=i.activeElement===this;D||t||v.hide()},searchFocus:function(){D=!0,v.show()},searchBlur:function(e){var t=i.activeElement===this;R||t||(b.forceSelection?v.forceSelection():v.hide())},searchTextFocus:function(e){D=!0,E.focus()},input:function(e){v.is.searchSelection()&&v.set.filtered(),clearTimeout(v.timer),v.timer=setTimeout(v.search,b.delay.search)},keydown:function(e){var t,i=M.not(y.filtered).filter("."+y.selected).eq(0),n=O.children("."+y.active).eq(0),o=i.length>0?i:n,s=o.length>0?o.siblings(":not(."+y.filtered+")").andSelf():O.children(":not(."+y.filtered+")"),a=o.children(C.menu),r=o.closest(C.menu),l=r[0]!==O[0],c=r.is(":visible"),d=e.which,u=13,h=27,f=37,p=38,m=39,g=40,w=a.length>0,x=o.length>0;s.size();if(v.is.visible()){if(d==u&&x&&(w&&!b.allowCategorySelection?(v.verbose("Pressed enter on unselectable category, opening sub menu"),d=m):(v.verbose("Enter key pressed, choosing selected item"),v.event.item.click.call(o,e))),d==f&&(l&&(v.verbose("Left key pressed, closing sub-menu"),v.animate.hide(!1,r),o.removeClass(y.selected),r.closest(C.item).addClass(y.selected)),e.preventDefault()),d==m&&(w&&(v.verbose("Right key pressed, opening sub-menu"),v.animate.show(!1,a),o.removeClass(y.selected),a.find(C.item).eq(0).addClass(y.selected)),e.preventDefault()),d==p){if(t=x&&c?o.prevAll(C.item+":not(."+y.filtered+")").eq(0):M.eq(0),s.index(t)<0)return void v.verbose("Up key pressed but reached top of current menu");v.verbose("Up key pressed, changing active item"),o.removeClass(y.selected),t.addClass(y.selected),v.set.scrollPosition(t),e.preventDefault()}if(d==g){if(0===(t=x&&c?t=o.nextAll(C.item+":not(."+y.filtered+")").eq(0):M.eq(0)).length)return void v.verbose("Down key pressed but reached bottom of current menu");v.verbose("Down key pressed, changing active item"),M.removeClass(y.selected),t.addClass(y.selected),v.set.scrollPosition(t),e.preventDefault()}}else d==u&&(v.verbose("Enter key pressed, showing dropdown"),v.show()),d==h&&(v.verbose("Escape key pressed, closing dropdown"),v.hide()),d==g&&(v.verbose("Down key pressed, showing dropdown"),v.show())},test:{toggle:function(e){v.determine.eventInMenu(e,v.toggle)&&e.preventDefault()},touch:function(e){v.determine.eventInMenu(e,function(){"touchstart"==e.type?v.timer=setTimeout(v.hide,b.delay.touch):"touchmove"==e.type&&clearTimeout(v.timer)}),e.stopPropagation()},hide:function(e){v.determine.eventInModule(e,v.hide)}},menu:{activate:function(){R=!0},deactivate:function(){R=!1}},item:{mouseenter:function(t){var i=e(this).children(C.menu),n=e(this).siblings(C.item).children(C.menu);i.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Showing sub-menu",i),e.each(n,function(){v.animate.hide(!1,e(this))}),v.animate.show(!1,i)},b.delay.show),t.preventDefault())},mouseleave:function(t){var i=e(this).children(C.menu);i.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Hiding sub-menu",i),v.animate.hide(!1,i)},b.delay.hide))},click:function(t){var i=e(this),n=e(t?t.target:""),o=i.find(C.menu),s=v.get.choiceText(i),a=v.get.choiceValue(i,s),r=o.length>0;o.find(n).length>0||r&&!b.allowCategorySelection||(v.remove.searchTerm(),v.determine.selectAction(s,a))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,i){v.verbose("Determining action",b.action),e.isFunction(v.action[b.action])?(v.verbose("Triggering preset action",b.action,t,i),v.action[b.action](t,i)):e.isFunction(b.action)?(v.verbose("Triggering user action",b.action,t,i),b.action(t,i)):v.error(k.action,b.action)},eventInModule:function(t,i){return i=e.isFunction(i)?i:function(){},0===e(t.target).closest(T).length?(v.verbose("Triggering event",i),i(),!0):(v.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,i){return i=e.isFunction(i)?i:function(){},0===e(t.target).closest(O).length?(v.verbose("Triggering event",i),i(),!0):(v.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},select:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},combo:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},hide:function(){v.hide(function(){v.remove.filteredItem()})}},get:{id:function(){return m},text:function(){return P.text()},value:function(){return A.length>0?A.val():T.data(w.value)},choiceText:function(e,t){if(t=void 0!==t?t:b.preserveHTML,void 0!==e)return e.find(C.menu).length>0&&(v.verbose("Retreiving text of element with sub-menu"),(e=e.clone()).find(C.menu).remove(),e.find(C.menuIcon).remove()),void 0!==e.data(w.text)?e.data(w.text):t?e.html().trim():e.text().trim()},choiceValue:function(e,t){return t=t||v.get.choiceText(e),void 0!==e.data(w.value)?e.data(w.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=E[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=b.sortSelect?{}:[],T.find("option").each(function(){var i=e(this).html(),n=void 0!==e(this).attr("value")?e(this).attr("value"):i;""===n?t.placeholder=i:b.sortSelect?t.values[n]={name:i,value:n}:t.values.push({name:i,value:n})}),b.sortSelect?v.debug("Retrieved and sorted values from select",t):v.debug("Retreived values from select",t),t},activeItem:function(){return M.filter("."+y.active)},item:function(t,i){var n=!1;return t=void 0!==t?t:void 0!==v.get.value()?v.get.value():v.get.text(),i=""===t||0===t||(i||!1),void 0!==t?M.each(function(){var o=e(this),s=v.get.choiceText(o),a=v.get.choiceValue(o,s);if(i){if(v.verbose("Ambiguous dropdown value using strict type check",o,t),a===t)return n=e(this),!0;if(!n&&s===t)return n=e(this),!0}else{if(a==t)return v.verbose("Found select item by value",a,t),n=e(this),!0;if(!n&&s==t)return v.verbose("Found select item by text",s,t),n=e(this),!0}}):t=v.get.text(),n||!1}},restore:{defaults:function(){v.restore.defaultText(),v.restore.defaultValue()},defaultText:function(){var e=T.data(w.defaultText);v.debug("Restoring default text",e),v.set.text(e),P.addClass(y.placeholder)},defaultValue:function(){var e=T.data(w.defaultValue);void 0!==e&&(v.debug("Restoring default value",e),e.length?v.set.selected(e):(v.remove.activeItem(),v.remove.selectedItem()))}},save:{defaults:function(){v.save.defaultText(),v.save.placeholderText(),v.save.defaultValue()},defaultValue:function(){T.data(w.defaultValue,v.get.value())},defaultText:function(){T.data(w.defaultText,P.text())},placeholderText:function(){P.hasClass(y.placeholder)&&T.data(w.placeholderText,P.text())}},clear:function(){var e=T.data(w.placeholderText);v.set.text(e),v.set.value(""),v.remove.activeItem(),v.remove.selectedItem(),P.addClass(y.placeholder)},set:{filtered:function(){var e=E.val();"string"==typeof e&&e.length>0?P.addClass(y.filtered):P.removeClass(y.filtered)},tabbable:function(){v.is.searchable()?(v.debug("Searchable dropdown initialized"),E.val("").attr("tabindex",0),O.attr("tabindex","-1")):(v.debug("Simple selection dropdown initialized"),T.attr("tabindex")||(T.attr("tabindex",0),O.attr("tabindex","-1")))},scrollPosition:function(e,t){var i,n,o,s,a,r;i=(e=e||v.get.activeItem())&&e.length>0,t=void 0!==t&&t,e&&i&&(O.hasClass(y.visible)||O.addClass(y.loading),s=O.height(),e.height(),r=(o=O.scrollTop())+s<(n=o-O.offset().top+e.offset().top)+5,a=n-5<o,v.debug("Scrolling to active item",n),(a||r||t)&&O.scrollTop(n).removeClass(y.loading))},text:function(e){"combo"==b.action?(v.debug("Changing combo button text",e,F),b.preserveHTML?F.html(e):F.text(e)):"select"!==b.action&&(v.debug("Changing text",e,P),P.removeClass(y.filtered).removeClass(y.placeholder),b.preserveHTML?P.html(e):P.text(e))},value:function(e){v.debug("Adding selected value to hidden input",e,A),A.length>0?A.val(e).trigger("change"):T.data(w.value,e)},active:function(){T.addClass(y.active)},visible:function(){T.addClass(y.visible)},selected:function(e){var t,i,n=v.get.item(e);n&&!n.hasClass(y.active)&&(v.debug("Setting selected menu item to",n),v.remove.activeItem(),v.remove.selectedItem(),n.addClass(y.active).addClass(y.selected),t=v.get.choiceText(n),i=v.get.choiceValue(n,t),v.set.text(t),v.set.value(i),b.onChange.call(I,e,t,n))}},remove:{active:function(){T.removeClass(y.active)},visible:function(){T.removeClass(y.visible)},activeItem:function(){M.removeClass(y.active)},filteredItem:function(){M.removeClass(y.filtered)},searchTerm:function(){E.val("")},selectedItem:function(){M.removeClass(y.selected)},tabbable:function(){v.is.searchable()?(v.debug("Searchable dropdown initialized"),E.attr("tabindex","-1"),O.attr("tabindex","-1")):(v.debug("Simple selection dropdown initialized"),T.attr("tabindex","-1"),O.attr("tabindex","-1"))}},is:{active:function(){return T.hasClass(y.active)},alreadySetup:function(){return T.is("select")&&T.parent(C.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):O.is(":animated")||O.transition&&O.transition("is animating")},allFiltered:function(){return M.filter("."+y.filtered).length===M.length},hidden:function(e){return e?e.is(":hidden"):O.is(":hidden")},selectMutation:function(t){var i=!1;return e.each(t,function(t,n){if(n.target&&e(n.target).is("select"))return i=!0,!0}),i},search:function(){return T.hasClass(y.search)},searchable:function(){return E.length>0},searchSelection:function(){return v.is.searchable()&&E.parent().is(T)},selection:function(){return T.hasClass(y.selection)},upward:function(){return T.hasClass(y.upward)},visible:function(e){return e?e.is(":visible"):O.is(":visible")}},can:{click:function(){return l||"click"==b.on},show:function(){return!T.hasClass(y.disabled)}},animate:{show:function(t,i){var n=i||O,o=i?function(){}:function(){v.hideSubMenus(),v.hideOthers(),v.set.active()};t=e.isFunction(t)?t:function(){},v.set.scrollPosition(v.get.activeItem(),!0),v.verbose("Doing menu show animation",n),(v.is.hidden(n)||v.is.animating(n))&&("auto"==b.transition&&(b.transition=v.is.upward()?"slide up":"slide down",v.verbose("Automatically determining animation based on animation direction",b.transition)),"none"==b.transition?t.call(I):void 0!==e.fn.transition&&T.transition("is supported")?n.transition({animation:b.transition+" in",debug:b.debug,verbose:b.verbose,duration:b.duration,queue:!0,onStart:o,onComplete:function(){t.call(I)}}):"slide down"==b.transition?(o(),n.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},b.duration,"easeOutQuad",v.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){v.event.resetStyle.call(this),t.call(I)})):"fade"==b.transition?(o(),n.hide().clearQueue().fadeIn(b.duration,function(){v.event.resetStyle.call(this),t.call(I)})):v.error(k.transition,b.transition))},hide:function(t,i){var n=i||O,o=(i?b.duration:b.duration,i?function(){}:function(){v.can.click()&&v.unbind.intent(),v.focusSearch(),v.remove.active()});t=e.isFunction(t)?t:function(){},(v.is.visible(n)||v.is.animating(n))&&(v.verbose("Doing menu hide animation",n),"auto"==b.transition&&(b.transition=v.is.upward()?"slide up":"slide down"),A.trigger("blur"),"none"==b.transition?t.call(I):void 0!==e.fn.transition&&T.transition("is supported")?n.transition({animation:b.transition+" out",duration:b.duration,debug:b.debug,verbose:b.verbose,queue:!0,onStart:o,onComplete:function(){t.call(I)}}):"slide down"==b.transition?(o(),n.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",v.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){v.event.resetStyle.call(this),t.call(I)})):"fade"==b.transition?(o(),n.show().clearQueue().fadeOut(150,function(){v.event.resetStyle.call(this),t.call(I)})):v.error(k.transition))}},delay:{show:function(){v.verbose("Delaying show event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.show,b.delay.show)},hide:function(){v.verbose("Delaying hide event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.hide,b.delay.hide)}},escape:{regExp:function(e){return(e=String(e)).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,i){if(v.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===i)return b[t];b[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===i)return v[t];v[t]=i}},debug:function(){b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},verbose:function(){b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,i;b.performance&&(i=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":i})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=b.name+":",i=0;c=!1,clearTimeout(v.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,n){var s,a,r,l=z;return i=i||f,n=I||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(v.error(k.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},h?(void 0===z&&v.initialize(),v.invoke(u)):(void 0!==z&&z.invoke("destroy"),v.initialize())}),void 0!==o?o:s},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(e){},onChange:function(e,t){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){t.placeholder,t.values;var i="";return e.each(t.values,function(e,t){i+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i},dropdown:function(t){var i=t.placeholder||!1,n=(t.values,"");return n+='<i class="dropdown icon"></i>',t.placeholder?n+='<div class="default text">'+i+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',e.each(t.values,function(e,t){n+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.modal=function(n){var o,s=e(this),a=e(t),r=e(i),l=e("body"),c=s.selector||"",d=(new Date).getTime(),u=[],h=arguments[0],f="string"==typeof h,p=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,g,v,b,y,w,x,C,k,_=e.isPlainObject(n)?e.extend(!0,{},e.fn.modal.settings,n):e.extend({},e.fn.modal.settings),S=_.selector,T=_.className,P=_.namespace,E=_.error,A="."+P,F="module-"+P,O=e(this),M=e(_.context),D=O.find(S.close),R=this,I=O.data(F);k={initialize:function(){k.verbose("Initializing dimmer",M),k.create.id(),k.create.dimmer(),k.refreshModals(),k.verbose("Attaching close events",D),k.bind.events(),k.observeChanges(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of modal"),I=k,O.data(F,I)},create:{dimmer:function(){var t={debug:_.debug,dimmerName:"modals",duration:{show:_.duration,hide:_.duration}},i=e.extend(!0,t,_.dimmerSettings);void 0!==e.fn.dimmer?(k.debug("Creating dimmer with settings",i),b=M.dimmer(i),_.detachable&&(k.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",O)),y=b.dimmer("get dimmer")):k.error(E.dimmer)},id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),w="."+x,k.verbose("Creating unique id for element",x)}},destroy:function(){k.verbose("Destroying previous modal"),O.removeData(F).off(A),a.off(w),D.off(A),M.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((C=new MutationObserver(function(e){k.debug("DOM tree modified, refreshing"),k.refresh()})).observe(R,{childList:!0,subtree:!0}),k.debug("Setting up mutation observer",C))},refresh:function(){k.remove.scrolling(),k.cacheSizes(),k.set.screenHeight(),k.set.type(),k.set.position()},refreshModals:function(){g=O.siblings(S.modal),s=g.add(O)},attachEvents:function(t,i){var n=e(t);i=e.isFunction(k[i])?k[i]:k.toggle,n.length>0?(k.debug("Attaching modal events to element",t,i),n.off(A).on("click"+A,i)):k.error(E.notFound,t)},bind:{events:function(){D.on("click"+A,k.event.close),a.on("resize"+w,k.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){k.verbose("Closing element pressed"),e(this).is(S.approve)?!1!==_.onApprove.call(R)?k.hide():k.verbose("Approve callback returned false cancelling hide"):e(this).is(S.deny)?!1!==_.onDeny.call(R)?k.hide():k.verbose("Deny callback returned false cancelling hide"):k.hide()},click:function(t){0===e(t.target).closest(O).length&&(k.debug("Dimmer clicked, hiding all modals"),k.is.active()&&(k.remove.clickaway(),_.allowMultiple?k.hide():k.hideAll()))},debounce:function(e,t){clearTimeout(k.timer),k.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(_.closable?(k.debug("Escape key pressed hiding modal"),k.hide()):k.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){b.dimmer("is active")&&m(k.refresh)}},toggle:function(){k.is.active()||k.is.animating()?k.hide():k.show()},show:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},k.is.animating()||!k.is.active()?(k.showDimmer(),k.cacheSizes(),k.set.position(),k.set.screenHeight(),k.set.type(),k.set.clickaway(),!_.allowMultiple&&g.filter("."+T.active).length>0?(k.debug("Other modals visible, queueing show animation"),k.hideOthers(k.showModal)):(_.onShow.call(R),_.transition&&void 0!==e.fn.transition&&O.transition("is supported")?(k.debug("Showing modal with css animations"),O.transition({debug:_.debug,animation:_.transition+" in",queue:_.queue,duration:_.duration,useFailSafe:!0,onComplete:function(){_.onVisible.apply(R),k.add.keyboardShortcuts(),k.save.focus(),k.set.active(),k.set.autofocus(),t()}})):(k.debug("Showing modal with javascript"),O.fadeIn(_.duration,_.easing,function(){_.onVisible.apply(R),k.add.keyboardShortcuts(),k.save.focus(),k.set.active(),t()})))):k.debug("Modal is already visible")},hideModal:function(t,i){t=e.isFunction(t)?t:function(){},k.debug("Hiding modal"),_.onHide.call(R),(k.is.animating()||k.is.active())&&(_.transition&&void 0!==e.fn.transition&&O.transition("is supported")?(k.remove.active(),O.transition({debug:_.debug,animation:_.transition+" out",queue:_.queue,duration:_.duration,useFailSafe:!0,onStart:function(){k.othersActive()||i||k.hideDimmer(),k.remove.keyboardShortcuts()},onComplete:function(){_.onHidden.call(R),k.restore.focus(),t()}})):(k.remove.active(),k.othersActive()||k.hideDimmer(),k.remove.keyboardShortcuts(),O.fadeOut(_.duration,_.easing,function(){_.onHidden.call(R),k.restore.focus(),t()})))},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(k.debug("Showing dimmer"),b.dimmer("show")):k.debug("Dimmer already visible")},hideDimmer:function(){b.dimmer("is animating")||b.dimmer("is active")?b.dimmer("hide",function(){_.transition&&void 0!==e.fn.transition&&O.transition("is supported")&&(k.remove.clickaway(),k.remove.screenHeight())}):k.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var i=s.filter(":visible");t=e.isFunction(t)?t:function(){},i.length>0&&(k.debug("Hiding all visible modals"),k.hideDimmer(),i.modal("hide modal",t))},hideOthers:function(t){var i=g.filter(":visible");t=e.isFunction(t)?t:function(){},i.length>0&&(k.debug("Hiding other modals",g),i.modal("hide modal",t,!0))},othersActive:function(){return g.filter("."+T.active).length>0},add:{keyboardShortcuts:function(){k.verbose("Adding keyboard shortcuts"),r.on("keyup"+A,k.event.keyboard)}},save:{focus:function(){v=e(i.activeElement).blur()}},restore:{focus:function(){v&&v.length>0&&v.focus()}},remove:{active:function(){O.removeClass(T.active)},clickaway:function(){_.closable&&y.off("click"+w)},screenHeight:function(){k.cache.height>k.cache.pageHeight&&(k.debug("Removing page height"),l.css("height",""))},keyboardShortcuts:function(){k.verbose("Removing keyboard shortcuts"),r.off("keyup"+A)},scrolling:function(){b.removeClass(T.scrolling),O.removeClass(T.scrolling)}},cacheSizes:function(){var n=O.outerHeight();void 0!==k.cache&&0===n||(k.cache={pageHeight:e(i).outerHeight(),height:n+_.offset,contextHeight:"body"==_.context?e(t).height():b.height()}),k.debug("Caching modal and container sizes",k.cache)},can:{fit:function(){return k.cache.height+2*_.padding<k.cache.contextHeight}},is:{active:function(){return O.hasClass(T.active)},animating:function(){return O.transition("is supported")?O.transition("is animating"):O.is(":visible")},scrolling:function(){return b.hasClass(T.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){if(_.autofocus){var e=O.find(":input:visible"),t=e.filter("[autofocus]");(t.length>0?t:e).first().focus()}},clickaway:function(){_.closable&&y.on("click"+w,k.event.click)},screenHeight:function(){k.can.fit()?l.css("height",""):(k.debug("Modal is taller than page content, resizing page height"),l.css("height",k.cache.height+_.padding/2))},active:function(){O.addClass(T.active)},scrolling:function(){b.addClass(T.scrolling),O.addClass(T.scrolling)},type:function(){k.can.fit()?(k.verbose("Modal fits on screen"),k.othersActive||k.remove.scrolling()):(k.verbose("Modal cannot fit on screen setting to scrolling"),k.set.scrolling())},position:function(){k.verbose("Centering modal on page",k.cache),k.can.fit()?O.css({top:"",marginTop:-k.cache.height/2}):O.css({marginTop:"",top:r.scrollTop()})}},setting:function(t,i){if(k.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===i)return _[t];_[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(void 0===i)return k[t];k[t]=i}},debug:function(){_.debug&&(_.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,_.name+":"),k.debug.apply(console,arguments)))},verbose:function(){_.verbose&&_.debug&&(_.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,_.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,_.name+":"),k.error.apply(console,arguments)},performance:{log:function(e){var t,i;_.performance&&(i=(t=(new Date).getTime())-(d||t),d=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":i})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,100)},display:function(){var t=_.name+":",i=0;d=!1,clearTimeout(k.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",c&&(t+=" '"+c+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,n){var s,a,r,l=I;return i=i||p,n=R||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},f?(void 0===I&&k.initialize(),k.invoke(h)):(void 0!==I&&I.invoke("destroy"),k.initialize())}),void 0!==o?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:50,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.nag=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u=e.isPlainObject(i)?e.extend(!0,{},e.fn.nag.settings,i):e.extend({},e.fn.nag.settings),h=(u.className,u.selector),f=u.error,p=u.namespace,m="."+p,g=p+"-module",v=e(this),b=v.find(h.close),y=u.context?e(u.context):e("body"),w=this,x=v.data(g);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;o={initialize:function(){o.verbose("Initializing element"),v.data(g,o),b.on("click"+m,o.dismiss),u.detachable&&v.parent()[0]!==y[0]&&v.detach().prependTo(y),u.displayTime>0&&setTimeout(o.hide,u.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),v.removeData(g).off(m)},show:function(){o.should.show()&&!v.is(":visible")&&(o.debug("Showing nag",u.animation.show),"fade"==u.animation.show?v.fadeIn(u.duration,u.easing):v.slideDown(u.duration,u.easing))},hide:function(){o.debug("Showing nag",u.animation.hide),"fade"==u.animation.show?v.fadeIn(u.duration,u.easing):v.slideUp(u.duration,u.easing)},onHide:function(){o.debug("Removing nag",u.animation.hide),v.remove(),u.onHide&&u.onHide()},dismiss:function(e){u.storageMethod&&o.storage.set(u.key,u.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return u.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(u.key)!=u.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(u.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(u.key)),!1)}},get:{storageOptions:function(){var e={};return u.expires&&(e.expires=u.expires),u.domain&&(e.domain=u.domain),u.path&&(e.path=u.path),e}},clear:function(){o.storage.remove(u.key)},storage:{set:function(i,n){var s=o.get.storageOptions();if("localstorage"==u.storageMethod&&void 0!==t.localStorage)t.localStorage.setItem(i,n),o.debug("Value stored using local storage",i,n);else{if(void 0===e.cookie)return void o.error(f.noCookieStorage);e.cookie(i,n,s),o.debug("Value stored using cookie",i,n,s)}},get:function(i,n){var s;return"localstorage"==u.storageMethod&&void 0!==t.localStorage?s=t.localStorage.getItem(i):void 0!==e.cookie?s=e.cookie(i):o.error(f.noCookieStorage),"undefined"!=s&&"null"!=s&&null!=s||(s=void 0),s},remove:function(i){var n=o.get.storageOptions();"local"==u.storageMethod&&void 0!==t.store?t.localStorage.removeItem(i):void 0!==e.cookie?e.removeCookie(i,n):o.error(f.noStorage)}},setting:function(t,i){if(o.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===i)return o[t];o[t]=i}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,i;u.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=u.name+":",i=0;a=!1,clearTimeout(o.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,s){var a,r,l,c=x;return i=i||d,s=w||s,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,n){var s=i!=a?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[s])&&i!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[n])||i==a)return void 0!==c[n]?(r=c[n],!1):(o.error(f.method,t),!1);c=c[n]}})),e.isFunction(r)?l=r.apply(s,i):void 0!==r&&(l=r),e.isArray(n)?n.push(l):void 0!==n?n=[n,l]:void 0!==l&&(n=l),r}},c?(void 0===x&&o.initialize(),o.invoke(l)):(void 0!==x&&x.invoke("destroy"),o.initialize())}),void 0!==n?n:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.popup=function(n){var o,s=e(this),a=e(i),r=s.selector||"",l="ontouchstart"in i.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],h="string"==typeof u,f=[].slice.call(arguments,1);return s.each(function(){var i,s,p,m,g,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.popup.settings,n):e.extend({},e.fn.popup.settings),b=v.selector,y=v.className,w=v.error,x=v.metadata,C=v.namespace,k="."+v.namespace,_="module-"+C,S=e(this),T=e(v.context),P=v.target?e(v.target):S,E=e(t),A=e("body"),F=0,O=!1,M=this,D=S.data(_);g={initialize:function(){g.debug("Initializing",S),g.createID(),g.bind.events(),!g.exists()&&v.preserve&&g.create(),g.instantiate()},instantiate:function(){g.verbose("Storing instance",g),D=g,S.data(_,D)},refresh:function(){v.popup?i=e(v.popup).eq(0):v.inline&&(i=P.next(b.popup).eq(0)),v.popup?(i.addClass(y.loading),s=g.get.offsetParent(),i.removeClass(y.loading),v.movePopup&&g.has.popup()&&g.get.offsetParent(i)[0]!==s[0]&&(g.debug("Moving popup to the same offset parent as activating element"),i.detach().appendTo(s))):s=v.inline?g.get.offsetParent(P):g.has.popup()?g.get.offsetParent(i):A,s.is("html")&&(g.debug("Setting page as offset parent"),s=A)},reposition:function(){g.refresh(),g.set.position()},destroy:function(){g.debug("Destroying previous module"),i&&!v.preserve&&g.removePopup(),clearTimeout(g.hideTimer),clearTimeout(g.showTimer),E.off(p),S.off(k).removeData(_)},event:{start:function(t){var i=e.isPlainObject(v.delay)?v.delay.show:v.delay;clearTimeout(g.hideTimer),g.showTimer=setTimeout(function(){!g.is.hidden()||g.is.active()&&g.is.dropdown()||g.show()},i)},end:function(){var t=e.isPlainObject(v.delay)?v.delay.hide:v.delay;clearTimeout(g.showTimer),g.hideTimer=setTimeout(function(){g.is.visible()&&g.hide()},t)},resize:function(){g.is.visible()&&g.set.position()}},create:function(){var t=S.data(x.html)||v.html,n=S.data(x.variation)||v.variation,o=S.data(x.title)||v.title,s=S.data(x.content)||S.attr("title")||v.content;t||s||o?(g.debug("Creating pop-up html"),t||(t=v.templates.popup({title:o,content:s})),i=e("<div/>").addClass(y.popup).addClass(n).data(x.activator,S).html(t),n&&i.addClass(n),v.inline?(g.verbose("Inserting popup element inline",i),i.insertAfter(S)):(g.verbose("Appending popup element to body",i),i.appendTo(T)),g.refresh(),v.hoverable&&g.bind.popup(),v.onCreate.call(i,M)):0!==P.next(b.popup).length?(g.verbose("Pre-existing popup found"),v.inline=!0,v.popup=P.next(b.popup).data(x.activator,S),g.refresh(),v.hoverable&&g.bind.popup()):v.popup?(v.popup.data(x.activator,S),g.verbose("Used popup specified in settings"),g.refresh(),v.hoverable&&g.bind.popup()):g.debug("No content specified skipping display",M)},createID:function(){m=(Math.random().toString(16)+"000000000").substr(2,8),p="."+m,g.verbose("Creating unique id for element",m)},toggle:function(){g.debug("Toggling pop-up"),g.is.hidden()?(g.debug("Popup is hidden, showing pop-up"),g.unbind.close(),g.show()):(g.debug("Popup is visible, hiding pop-up"),g.hide())},show:function(t){t=e.isFunction(t)?t:function(){},g.debug("Showing pop-up",v.transition),g.exists()?v.preserve||v.popup||g.refresh():g.create(),i&&g.set.position()&&(g.save.conditions(),v.exclusive&&g.hideAll(),g.animate.show(t))},hide:function(t){t=e.isFunction(t)?t:function(){},g.remove.visible(),g.unbind.close(),g.is.visible()&&(g.restore.conditions(),g.animate.hide(t))},hideAll:function(){e(b.popup).filter("."+y.visible).each(function(){e(this).data(x.activator).popup("hide")})},hideGracefully:function(t){t&&0===e(t.target).closest(b.popup).length?(g.debug("Click occurred outside popup hiding popup"),g.hide()):g.debug("Click was inside popup, keeping popup open")},exists:function(){return!!i&&(v.inline||v.popup?g.has.popup():i.closest(T).length>=1)},removePopup:function(){g.debug("Removing popup",i),g.has.popup()&&!v.popup&&(i.remove(),i=void 0),v.onRemove.call(i,M)},save:{conditions:function(){g.cache={title:S.attr("title")},g.cache.title&&S.removeAttr("title"),g.verbose("Saving original attributes",g.cache.title)}},restore:{conditions:function(){return g.cache&&g.cache.title&&(S.attr("title",g.cache.title),g.verbose("Restoring original attributes",g.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},v.transition&&void 0!==e.fn.transition&&S.transition("is supported")?(g.set.visible(),i.transition({animation:v.transition+" in",queue:!1,debug:v.debug,verbose:v.verbose,duration:v.duration,onComplete:function(){g.bind.close(),t.call(i,M),v.onVisible.call(i,M)}})):(g.set.visible(),i.stop().fadeIn(v.duration,v.easing,function(){g.bind.close(),t.call(i,M),v.onVisible.call(i,M)})),v.onShow.call(i,M)},hide:function(t){t=e.isFunction(t)?t:function(){},g.debug("Hiding pop-up"),v.transition&&void 0!==e.fn.transition&&S.transition("is supported")?i.transition({animation:v.transition+" out",queue:!1,duration:v.duration,debug:v.debug,verbose:v.verbose,onComplete:function(){g.reset(),t.call(i,M),v.onHidden.call(i,M)}}):i.stop().fadeOut(v.duration,v.easing,function(){g.reset(),t.call(i,M),v.onHidden.call(i,M)}),v.onHide.call(i,M)}},get:{id:function(){return m},startEvent:function(){return"hover"==v.on?l?"touchstart mouseenter":"mouseenter":"focus"==v.on&&"focus"},scrollEvent:function(){return l?"touchmove scroll":"scroll"},endEvent:function(){return"hover"==v.on?"mouseleave":"focus"==v.on&&"blur"},offsetParent:function(t){var i=(void 0!==t?t[0]:S[0]).parentNode,n=e(i);if(i)for(var o="none"===n.css("transform"),s="static"===n.css("position"),a=n.is("html");i&&!a&&s&&o;)i=i.parentNode,o="none"===(n=e(i)).css("transform"),s="static"===n.css("position"),a=n.is("html");return n&&n.length>0?n:e()},offstagePosition:function(n){var o=e(t).scrollTop(),s=e(t).scrollTop()+e(t).height(),a=0,r=e(t).width(),l={width:i.width(),height:i.height(),offset:i.offset()},c={},d=[];return n=n||!1,l.offset&&n&&(g.verbose("Checking if outside viewable area",l.offset),c={top:l.offset.top<o,bottom:l.offset.top+l.height>s,right:l.offset.left+l.width>r,left:l.offset.left<a}),e.each(c,function(e,t){t&&d.push(e)}),d.length>0&&d.join(" ")},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),i=t[0],n=t[1],o="top"==i||"bottom"==i,s=!1,a=!1,r=!1;return O||(g.verbose("All available positions available"),O=g.get.positions()),g.debug("Recording last position tried",e),O[e]=!0,"opposite"===v.prefer&&(r=(r=[{top:"bottom",bottom:"top",left:"right",right:"left"}[i],n]).join(" "),s=!0===O[r],g.debug("Trying opposite strategy",r)),"adjacent"===v.prefer&&o&&(r=(r=[i,{left:"center",center:"right",right:"left"}[n]]).join(" "),a=!0===O[r],g.debug("Trying adjacent strategy",r)),(a||s)&&(g.debug("Using backup position",r),r={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[e]),r}},set:{position:function(n,o){e(t).width(),e(t).height();var a,r,l,c=P.outerWidth(),d=P.outerHeight(),u=i.outerWidth(),h=i.outerHeight(),f=s.outerWidth(),p=s.outerHeight(),m=v.distanceAway,b=P[0],C=v.inline?parseInt(t.getComputedStyle(b).getPropertyValue("margin-top"),10):0,k=v.inline?parseInt(t.getComputedStyle(b).getPropertyValue(g.is.rtl()?"margin-right":"margin-left"),10):0,_=v.inline||v.popup?P.position():P.offset();switch(n=n||S.data(x.position)||v.position,o=o||S.data(x.offset)||v.offset,F==v.maxSearchDepth&&v.lastResort&&(g.debug("Using last resort position to display",v.lastResort),n=v.lastResort),v.inline&&(g.debug("Adding targets margin to calculation"),"left center"==n||"right center"==n?(o+=C,m+=-k):"top left"==n||"top center"==n||"top right"==n?(o+=k,m-=C):(o+=k,m+=C)),g.debug("Calculating popup positioning",n),a=n,g.is.rtl()&&(a=a.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),g.debug("RTL: Popup positioning updated",a)),a){case"top left":r={top:"auto",bottom:p-_.top+m,left:_.left+o,right:"auto"};break;case"top center":r={bottom:p-_.top+m,left:_.left+c/2-u/2+o,top:"auto",right:"auto"};break;case"top right":r={bottom:p-_.top+m,right:f-_.left-c-o,top:"auto",left:"auto"};break;case"left center":r={top:_.top+d/2-h/2+o,right:f-_.left+m,left:"auto",bottom:"auto"};break;case"right center":r={top:_.top+d/2-h/2+o,left:_.left+c+m,bottom:"auto",right:"auto"};break;case"bottom left":r={top:_.top+d+m,left:_.left+o,bottom:"auto",right:"auto"};break;case"bottom center":r={top:_.top+d+m,left:_.left+c/2-u/2+o,bottom:"auto",right:"auto"};break;case"bottom right":r={top:_.top+d+m,right:f-_.left-c-o,left:"auto",bottom:"auto"}}if(void 0===r&&g.error(w.invalidPosition,n),g.debug("Calculated popup positioning values",r),i.css(r).removeClass(y.position).addClass(n).addClass(y.loading),l=g.get.offstagePosition(n)){if(g.debug("Popup cant fit into viewport",l),F<v.maxSearchDepth)return F++,n=g.get.nextPosition(n),g.debug("Trying new position",n),!!i&&g.set.position(n);if(!v.lastResort)return g.debug("Popup could not find a position in view",i),g.remove.attempts(),g.remove.loading(),g.reset(),!1}return g.debug("Position is on stage",n),g.remove.attempts(),g.set.fluidWidth(),g.remove.loading(),!0},fluidWidth:function(){v.setFluidWidth&&i.hasClass(y.fluid)&&i.css("width",s.width())},visible:function(){S.addClass(y.visible)}},remove:{loading:function(){i.removeClass(y.loading)},visible:function(){S.removeClass(y.visible)},attempts:function(){g.verbose("Resetting all searched positions"),F=0,O=!1}},bind:{events:function(){g.debug("Binding popup events to module"),"click"==v.on?S.on("click"+k,g.toggle):g.get.startEvent()&&S.on(g.get.startEvent()+k,g.event.start).on(g.get.endEvent()+k,g.event.end),v.target&&g.debug("Target set to element",P),E.on("resize"+p,g.event.resize)},popup:function(){g.verbose("Allowing hover events on popup to prevent closing"),i&&g.has.popup()&&i.on("mouseenter"+k,g.event.start).on("mouseleave"+k,g.event.end)},close:function(){(!0===v.hideOnScroll||"auto"==v.hideOnScroll&&"click"!=v.on)&&(a.one(g.get.scrollEvent()+p,g.hideGracefully),T.one(g.get.scrollEvent()+p,g.hideGracefully)),"click"==v.on&&v.closable&&(g.verbose("Binding popup close event to document"),a.on("click"+p,function(e){g.verbose("Pop-up clickaway intent detected"),g.hideGracefully.call(M,e)}))}},unbind:{close:function(){(!0===v.hideOnScroll||"auto"==v.hideOnScroll&&"click"!=v.on)&&(a.off("scroll"+p,g.hide),T.off("scroll"+p,g.hide)),"click"==v.on&&v.closable&&(g.verbose("Removing close event from document"),a.off("click"+p))}},has:{popup:function(){return i&&i.length>0}},is:{active:function(){return S.hasClass(y.active)},animating:function(){return i&&i.is(":animated")||i.hasClass(y.animating)},visible:function(){return i&&i.is(":visible")},dropdown:function(){return S.hasClass(y.dropdown)},hidden:function(){return!g.is.visible()},rtl:function(){return"rtl"==S.css("direction")}},reset:function(){g.remove.visible(),v.preserve?void 0!==e.fn.transition&&i.transition("remove transition"):g.removePopup()},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===i)return v[t];v[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===i)return g[t];g[t]=i}},debug:function(){v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,v.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,i;v.performance&&(i=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":i})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=v.name+":",i=0;c=!1,clearTimeout(g.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,n){var s,a,r,l=D;return i=i||f,n=M||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},h?(void 0===D&&g.initialize(),g.invoke(u)):(void 0!==D&&D.invoke("destroy"),g.initialize())}),void 0!==o?o:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",exclusive:!0,context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},popup:function(t){var i="",n=e.fn.popup.settings.templates.escape;return void 0!==typeof t&&(void 0!==typeof t.title&&t.title&&(t.title=n(t.title),i+='<div class="header">'+t.title+"</div>"),void 0!==typeof t.content&&t.content&&(t.content=n(t.content),i+='<div class="content">'+t.content+"</div>")),i}}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.progress=function(t){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),f=h.className,p=h.metadata,m=h.namespace,g=h.selector,v=h.error,b="."+m,y="module-"+m,w=e(this),x=e(this).find(g.bar),C=e(this).find(g.progress),k=e(this).find(g.label),_=this,S=w.data(y),T=!1;u={initialize:function(){u.debug("Initializing progress bar",h),o=u.get.transitionEnd(),u.read.metadata(),u.set.duration(),u.set.initials(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of progress",u),S=u,w.data(y,u)},destroy:function(){u.verbose("Destroying previous progress for",w),clearInterval(S.interval),u.remove.state(),w.removeData(y),S=void 0},reset:function(){u.set.percent(0)},complete:function(){(void 0===u.percent||u.percent<100)&&u.set.percent(100)},read:{metadata:function(){w.data(p.percent)&&(u.verbose("Current percent value set from metadata"),u.percent=w.data(p.percent)),w.data(p.total)&&(u.verbose("Total value set from metadata"),u.total=w.data(p.total)),w.data(p.value)&&(u.verbose("Current value set from metadata"),u.value=w.data(p.value))},currentValue:function(){return void 0!==u.value&&u.value}},increment:function(e){var t,i,n;u.total||!1?(n=(i=u.value||0)+(e=e||1),t=u.total,u.debug("Incrementing value by",e,i,t),n>t&&(u.debug("Value cannot increment above total",t),n=t),u.set.progress(n)):(n=(i=u.percent||0)+(e=e||u.get.randomValue()),t=100,u.debug("Incrementing percentage by",e,i),n>t&&(u.debug("Value cannot increment above 100 percent"),n=t),u.set.progress(n))},decrement:function(e){var t,i;u.total||!1?(i=(t=u.value||0)-(e=e||1),u.debug("Decrementing value by",e,t)):(i=(t=u.percent||0)-(e=e||u.get.randomValue()),u.debug("Decrementing percentage by",e,t)),i<0&&(u.debug("Value cannot decrement below 0"),i=0),u.set.progress(i)},get:{text:function(e){var t=u.value||0,i=u.total||0,n=u.is.visible()&&T?u.get.displayPercent():u.percent||0,o=u.total>0?i-t:100-n;return e=(e=e||"").replace("{value}",t).replace("{total}",i).replace("{left}",o).replace("{percent}",n),u.debug("Adding variables to progress bar text",e),e},randomValue:function(){return u.debug("Generating random increment percentage"),Math.floor(Math.random()*h.random.max+h.random.min)},transitionEnd:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},displayPercent:function(){var e=x.width(),t=w.width(),i=e>parseInt(x.css("min-width"),10)?e/t*100:u.percent;return 0===h.precision?Math.round(i):Math.round(i*(10*h.precision))/(10*h.precision)},percent:function(){return u.percent||0},value:function(){return u.value||!1},total:function(){return u.total||!1}},is:{success:function(){return w.hasClass(f.success)},warning:function(){return w.hasClass(f.warning)},error:function(){return w.hasClass(f.error)},active:function(){return w.hasClass(f.active)},visible:function(){return w.is(":visible")}},remove:{state:function(){u.verbose("Removing stored state"),delete u.total,delete u.percent,delete u.value},active:function(){u.verbose("Removing active state"),w.removeClass(f.active)},success:function(){u.verbose("Removing success state"),w.removeClass(f.success)},warning:function(){u.verbose("Removing warning state"),w.removeClass(f.warning)},error:function(){u.verbose("Removing error state"),w.removeClass(f.error)}},set:{barWidth:function(e){e>100?u.error(v.tooHigh,e):e<0?u.error(v.tooLow,e):(x.css("width",e+"%"),w.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||h.duration)?e+"ms":e,u.verbose("Setting progress bar transition duration",e),x.css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},initials:function(){!1!==h.total&&(u.verbose("Current total set in settings",h.total),u.total=h.total),!1!==h.value&&(u.verbose("Current value set in settings",h.value),u.value=h.value),!1!==h.percent&&(u.verbose("Current percent set in settings",h.percent),u.percent=h.percent),void 0!==u.percent?u.set.percent(u.percent):void 0!==u.value&&u.set.progress(u.value)},percent:function(e){(e="string"==typeof e?+e.replace("%",""):e)>0&&e<1&&(u.verbose("Module percentage passed as decimal, converting"),e*=100),e=0===h.precision?Math.round(e):Math.round(e*(10*h.precision))/(10*h.precision),u.percent=e,u.total?u.value=Math.round(e/100*u.total*(10*h.precision))/(10*h.precision):h.limitValues&&(u.value=u.value>100?100:u.value<0?0:u.value),u.set.barWidth(e),u.is.visible()&&u.set.labelInterval(),u.set.labels(),h.onChange.call(_,e,u.value,u.total)},labelInterval:function(){var e=function(){u.verbose("Bar finished animating, removing continuous label updates"),clearInterval(u.interval),T=!1,u.set.labels()};clearInterval(u.interval),x.one(o+b,e),u.timer=setTimeout(e,h.duration+100),T=!0,u.interval=setInterval(u.set.labels,h.framerate)},labels:function(){u.verbose("Setting both bar progress and outer label text"),u.set.barLabel(),u.set.state()},label:function(e){(e=e||"")&&(e=u.get.text(e),u.debug("Setting label to text",e),k.text(e))},state:function(e){100===(e=void 0!==e?e:u.percent)?!h.autoSuccess||u.is.warning()||u.is.error()?(u.verbose("Reached 100% removing active state"),u.remove.active()):(u.set.success(),u.debug("Automatically triggering success at 100%")):e>0?(u.verbose("Adjusting active progress bar label",e),u.set.active()):(u.remove.active(),u.set.label(h.text.active))},barLabel:function(e){void 0!==e?C.text(u.get.text(e)):"ratio"==h.label&&u.total?(u.debug("Adding ratio to bar label"),C.text(u.get.text(h.text.ratio))):"percent"==h.label&&(u.debug("Adding percentage to bar label"),C.text(u.get.text(h.text.percent)))},active:function(e){e=e||h.text.active,u.debug("Setting active state"),h.showActivity&&!u.is.active()&&w.addClass(f.active),u.remove.warning(),u.remove.error(),u.remove.success(),e&&u.set.label(e),h.onActive.call(_,u.value,u.total)},success:function(e){e=e||h.text.success,u.debug("Setting success state"),w.addClass(f.success),u.remove.active(),u.remove.warning(),u.remove.error(),u.complete(),e&&u.set.label(e),h.onSuccess.call(_,u.total)},warning:function(e){e=e||h.text.warning,u.debug("Setting warning state"),w.addClass(f.warning),u.remove.active(),u.remove.success(),u.remove.error(),u.complete(),e&&u.set.label(e),h.onWarning.call(_,u.value,u.total)},error:function(e){e=e||h.text.error,u.debug("Setting error state"),w.addClass(f.error),u.remove.active(),u.remove.success(),u.remove.warning(),u.complete(),e&&u.set.label(e),h.onError.call(_,u.value,u.total)},total:function(e){u.total=e},progress:function(e){var t,i="string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e;!1===i&&u.error(v.nonNumeric,e),u.total?(u.value=i,t=i/u.total*100,u.debug("Calculating percent complete from total",t),u.set.percent(t)):(t=i,u.debug("Setting value to exact percentage value",t),u.set.percent(t))}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=S;return i=i||d,o=_||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(v.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===S&&u.initialize(),u.invoke(l)):(void 0!==S&&S.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,i){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.rating=function(t){var i,n=e(this),o=n.selector||"",s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);return n.each(function(){var d,u=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),h=u.namespace,f=u.className,p=u.metadata,m=u.selector,g=(u.error,"."+h),v="module-"+h,b=this,y=e(this).data(v),w=e(this),x=w.find(m.icon);d={initialize:function(){d.verbose("Initializing rating module",u),0===x.length&&d.setup.layout(),u.interactive?d.enable():d.disable(),u.initialRating&&(d.debug("Setting initial rating"),d.setRating(u.initialRating)),w.data(p.rating)&&(d.debug("Rating found in metadata"),d.setRating(w.data(p.rating))),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",u),y=d,w.data(v,d)},destroy:function(){d.verbose("Destroying previous instance",y),w.removeData(v),x.off(g)},refresh:function(){x=w.find(m.icon)},setup:{layout:function(){var t=w.data(p.maxRating)||u.maxRating;d.debug("Generating icon html dynamically"),w.html(e.fn.rating.settings.templates.icon(t)),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(f.selected),w.addClass(f.selected),t.addClass(f.selected).prevAll().addClass(f.selected)},mouseleave:function(){w.removeClass(f.selected),x.removeClass(f.selected)},click:function(){var t=e(this),i=d.getRating(),n=x.index(t)+1;("auto"==u.clearable?1===x.length:u.clearable)&&i==n?d.clearRating():d.setRating(n)}},clearRating:function(){d.debug("Clearing current rating"),d.setRating(0)},getRating:function(){var e=x.filter("."+f.active).length;return d.verbose("Current rating retrieved",e),e},enable:function(){d.debug("Setting rating to interactive mode"),x.on("mouseenter"+g,d.event.mouseenter).on("mouseleave"+g,d.event.mouseleave).on("click"+g,d.event.click),w.removeClass(f.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),x.off(g),w.addClass(f.disabled)},setRating:function(e){var t=e-1>=0?e-1:0,i=x.eq(t);w.removeClass(f.selected),x.removeClass(f.selected).removeClass(f.active),e>0&&(d.verbose("Setting current rating to",e),i.prevAll().andSelf().addClass(f.active)),u.onRate.call(b,e)},setting:function(t,i){if(d.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===i)return d[t];d[t]=i}},debug:function(){u.debug&&(u.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,u.name+":"),d.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,u.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,i;u.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":i})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=u.name+":",i=0;s=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",o&&(t+=" '"+o+"'"),n.length>1&&(t+=" ("+n.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var s,a,r,l=y;return n=n||c,o=b||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,n):void 0!==a&&(r=a),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),a}},l?(void 0===y&&d.initialize(),d.invoke(r)):(void 0!==y&&y.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,i="";t<=e;)i+='<i class="icon"></i>',t++;return i}}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.search=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return e(this).each(function(){var h,f=e.extend(!0,{},e.fn.search.settings,n),p=f.className,m=f.metadata,g=f.regExp,v=f.selector,b=f.error,y=f.namespace,w="."+y,x=y+"-module",C=e(this),k=C.find(v.prompt),_=C.find(v.searchButton),S=C.find(v.results),T=(C.find(v.result),C.find(v.category),this),P=C.data(x);h={initialize:function(){h.verbose("Initializing module");var e=k[0],t=void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup";f.automatic&&k.on(t+w,h.throttle).attr("autocomplete","off"),k.on("focus"+w,h.event.focus).on("blur"+w,h.event.blur).on("keydown"+w,h.handleKeyboard),_.on("click"+w,h.query),S.on("mousedown"+w,h.event.result.mousedown).on("mouseup"+w,h.event.result.mouseup).on("click"+w,v.result,h.event.result.click),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),P=h,C.data(x,h)},destroy:function(){h.verbose("Destroying instance"),C.removeData(x),k.off(w),_.off(w),S.off(w)},event:{focus:function(){h.set.focus(),clearTimeout(h.timer),h.throttle(),h.has.minimumCharacters()&&h.showResults()},blur:function(e){i.activeElement===this||h.resultsClicked||(h.cancel.query(),h.remove.focus(),h.timer=setTimeout(h.hideResults,f.hideDelay))},result:{mousedown:function(){h.resultsClicked=!0},mouseup:function(){h.resultsClicked=!1},click:function(i){h.debug("Search result selected");var n=e(this),o=n.find(v.title).eq(0),s=n.find("a[href]").eq(0),a=s.attr("href")||!1,r=s.attr("target")||!1,l=(o.html(),o.length>0&&o.text()),c=h.get.results(),d=h.get.result(l,c);e.isFunction(f.onSelect)&&!1===f.onSelect.call(T,d,c)?h.debug("Custom onSelect callback cancelled default select action"):(h.hideResults(),l&&h.set.value(l),a&&(h.verbose("Opening search link found in result",s),"_blank"==r||i.ctrlKey?t.open(a):t.location.href=a))}}},handleKeyboard:function(e){var t,i=C.find(v.result),n=C.find(v.category),o=i.index(i.filter("."+p.active)),s=i.length,a=e.which,r=13,l=38,c=40;if(a==27&&(h.verbose("Escape key pressed, blurring search field"),k.trigger("blur")),h.is.visible())if(a==r){if(h.verbose("Enter key pressed, selecting active result"),i.filter("."+p.active).length>0)return h.event.result.click.call(i.filter("."+p.active),e),e.preventDefault(),!1}else a==l?(h.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,n.removeClass(p.active),i.removeClass(p.active).eq(t).addClass(p.active).closest(n).addClass(p.active),e.preventDefault()):a==c&&(h.verbose("Down key pressed, changing active result"),t=o+1>=s?o:o+1,n.removeClass(p.active),i.removeClass(p.active).eq(t).addClass(p.active).closest(n).addClass(p.active),e.preventDefault());else a==r&&(h.verbose("Enter key pressed, executing query"),h.query(),h.set.buttonPressed(),k.one("keyup",h.remove.buttonFocus))},setup:{api:function(){var e={on:!1,action:"search",onFailure:h.error};h.verbose("First request, initializing API"),C.api(e)}},can:{useAPI:function(){return void 0!==e.fn.api},transition:function(){return f.transition&&void 0!==e.fn.transition&&C.transition("is supported")}},is:{empty:function(){return""===S.html()},visible:function(){return S.filter(":visible").length>0},focused:function(){return k.filter(":focus").length>0}},get:{value:function(){return k.val()},results:function(){return C.data(m.results)},result:function(t,i){var n=!1;return t=t||h.get.value(),i=i||h.get.results(),"category"===f.type?(h.debug("Finding result that matches",t),e.each(i,function(i,o){if(e.isArray(o.results)&&(n=h.search.object(t,o.results)[0])&&n.length>0)return!0})):(h.debug("Finding result in results object",t),n=h.search.object(t,i)[0]),n}},set:{focus:function(){C.addClass(p.focus)},loading:function(){C.addClass(p.loading)},value:function(e){h.verbose("Setting search input value",e),k.val(e),h.query()},buttonPressed:function(){_.addClass(p.pressed)}},remove:{loading:function(){C.removeClass(p.loading)},focus:function(){C.removeClass(p.focus)},buttonPressed:function(){_.removeClass(p.pressed)}},query:function(){var t=h.get.value(),i=h.read.cache(t);i?(h.debug("Reading result for "+t+" from cache"),h.save.results(i.results),h.addResults(i.html)):(h.debug("Querying for "+t),e.isPlainObject(f.source)||e.isArray(f.source)?h.search.local(t):h.can.useAPI()?f.apiSettings?(h.debug("Searching with specified API settings",f.apiSettings),h.search.remote(t)):void 0!==e.api.settings.api.search?(h.debug("Searching with default search API endpoint"),h.search.remote(t)):h.error(b.noEndpoint):h.error(b.source),f.onSearchQuery.call(T,t))},search:{local:function(e){var t,i=h.search.object(e,f.content);h.set.loading(),h.save.results(i),h.debug("Returned local search results",i),t=h.generateResults({results:i}),h.remove.loading(),h.write.cache(e,{html:t,results:i}),h.addResults(t)},remote:function(t){var i={onSuccess:function(e){h.parse.response.call(T,e,t)},urlData:{query:t}};C.api("get request")||h.setup.api(),e.extend(!0,i,f.apiSettings),h.debug("Executing search",i),h.cancel.query(),C.api("setting",i).api("query")},object:function(t,i){var n=[],o=[],s=e.isArray(f.searchFields)?f.searchFields:[f.searchFields],a=t.replace(g.escape,"\\$&"),r=new RegExp(g.exact+a,"i");return void 0===(i=i||f.source)?(h.error(b.source),[]):(e.each(s,function(s,a){e.each(i,function(i,s){var l="string"==typeof s[a],c=-1==e.inArray(s,n)&&-1==e.inArray(s,o);l&&c&&(s[a].match(r)?n.push(s):f.searchFullText&&h.fuzzySearch(t,s[a])&&o.push(s))})}),e.merge(n,o))}},fuzzySearch:function(e,t){var i=t.length,n=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),n>i)return!1;if(n===i)return e===t;e:for(var o=0,s=0;o<n;o++){for(var a=e.charCodeAt(o);s<i;)if(t.charCodeAt(s++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var i=h.generateResults(e);h.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e.results&&(h.write.cache(t,{html:i,results:e.results}),h.save.results(e.results),h.addResults(i))}},throttle:function(){clearTimeout(h.timer),h.has.minimumCharacters()?h.timer=setTimeout(h.query,f.searchDelay):h.hideResults()},cancel:{query:function(){h.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){return h.get.value().length>=f.minCharacters}},read:{cache:function(e){var t=C.data(m.cache);return!!f.cache&&(h.verbose("Checking cache for generated html for query",e),"object"==typeof t&&void 0!==t[e]&&t[e])}},save:{results:function(e){h.verbose("Saving current search results to metadata",e),C.data(m.results,e)}},write:{cache:function(e,t){var i=void 0!==C.data(m.cache)?C.data(m.cache):{};f.cache&&(h.verbose("Writing generated html to cache",e,t),i[e]=t,C.data(m.cache,i))}},addResults:function(t){if(e.isFunction(f.onResultsAdd)&&!1===f.onResultsAdd.call(S,t))return h.debug("onResultsAdd callback cancelled default action"),!1;S.html(t),h.showResults()},showResults:function(){h.is.visible()||!h.is.focused()||h.is.empty()||(h.can.transition()?(h.debug("Showing results with css animations"),S.transition({animation:f.transition+" in",duration:f.duration,queue:!0})):(h.debug("Showing results with javascript"),S.stop().fadeIn(f.duration,f.easing)),f.onResultsOpen.call(S))},hideResults:function(){h.is.visible()&&(h.can.transition()?(h.debug("Hiding results with css animations"),S.transition({animation:f.transition+" out",duration:f.duration,queue:!0})):(h.debug("Hiding results with javascript"),S.stop().fadeOut(f.duration,f.easing)),f.onResultsClose.call(S))},generateResults:function(t){h.debug("Generating html from response",t);var i=f.templates[f.type],n=e.isPlainObject(t.results)&&!e.isEmptyObject(t.results),o=e.isArray(t.results)&&t.results.length>0,s="";return n||o?(f.maxResults>0&&(n?"standard"==f.type&&h.error(b.maxResults):t.results=t.results.slice(0,f.maxResults)),e.isFunction(i)?s=i(t):h.error(b.noTemplate,!1)):s=h.displayMessage(b.noResults,"empty"),f.onResults.call(T,t),s},displayMessage:function(e,t){return t=t||"standard",h.debug("Displaying message",e,t),h.addResults(f.templates.message(e,t)),f.templates.message(e,t)},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,i;f.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var t=f.name+":",i=0;r=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),s.length>1&&(t+=" ("+s.length+")"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=P;return i=i||u,n=T||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===P&&h.initialize(),h.invoke(c)):(void 0!==P&&P.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!1,verbose:!0,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:"true",hideDelay:0,searchDelay:100,maxResults:7,cache:!0,transition:"scale",duration:300,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,exact:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},message:function(e,t){var i="";return void 0!==e&&void 0!==t&&(i+='<div class="message '+t+'">',i+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",i+="</div>"),i},category:function(t){var i="",n=e.fn.search.settings.templates.escape;return void 0!==t.results&&(e.each(t.results,function(t,o){void 0!==o.results&&o.results.length>0&&(i+='<div class="category"><div class="name">'+o.name+"</div>",e.each(o.results,function(e,t){i+='<div class="result">',t.url&&(i+='<a href="'+t.url+'"></a>'),void 0!==t.image&&(t.image=n(t.image),i+='<div class="image"> <img src="'+t.image+'" alt=""></div>'),i+='<div class="content">',void 0!==t.price&&(t.price=n(t.price),i+='<div class="price">'+t.price+"</div>"),void 0!==t.title&&(t.title=n(t.title),i+='<div class="title">'+t.title+"</div>"),void 0!==t.description&&(i+='<div class="description">'+t.description+"</div>"),i+="</div></div>"}),i+="</div>")}),t.action&&(i+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),i)},standard:function(t){var i="";return void 0!==t.results&&(e.each(t.results,function(e,t){t.url?i+='<a class="result" href="'+t.url+'">':i+='<a class="result">',void 0!==t.image&&(i+='<div class="image"> <img src="'+t.image+'"></div>'),i+='<div class="content">',void 0!==t.price&&(i+='<div class="price">'+t.price+"</div>"),void 0!==t.title&&(i+='<div class="title">'+t.title+"</div>"),void 0!==t.description&&(i+='<div class="description">'+t.description+"</div>"),i+="</div>",i+="</a>"}),t.action&&(i+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),i)}}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.shape=function(n){var o,s=e(this),a=(e("body"),(new Date).getTime()),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),u=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var t,h,f,p=s.selector||"",m=e.extend(!0,{},e.fn.shape.settings,n),g=m.namespace,v=m.selector,b=m.error,y=m.className,w="."+g,x="module-"+g,C=e(this),k=C.find(v.sides),_=C.find(v.side),S=!1,T=this,P=C.data(x);f={initialize:function(){f.verbose("Initializing module for",T),f.set.defaultSide(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),P=f,C.data(x,P)},destroy:function(){f.verbose("Destroying previous module for",T),C.removeData(x).off(w)},refresh:function(){f.verbose("Refreshing selector cache for",T),C=e(T),k=e(this).find(v.shape),_=e(this).find(v.side)},repaint:function(){f.verbose("Forcing repaint event");(k.get(0)||i.createElement("div")).offsetWidth},animate:function(e,i){f.verbose("Animating box with properties",e),i=i||function(e){f.verbose("Executing animation callback"),void 0!==e&&e.stopPropagation(),f.reset(),f.set.active()},m.beforeChange.call(h.get()),f.get.transitionEvent()?(f.verbose("Starting CSS animation"),C.addClass(y.animating),k.css(e).one(f.get.transitionEvent(),i),f.set.duration(m.duration),u(function(){C.addClass(y.animating),t.addClass(y.hidden)})):i()},queue:function(e){f.debug("Queueing animation of",e),k.one(f.get.transitionEvent(),function(){f.debug("Executing queued animation"),setTimeout(function(){C.shape(e)},0)})},reset:function(){f.verbose("Animating states reset"),C.removeClass(y.animating).attr("style","").removeAttr("style"),k.attr("style","").removeAttr("style"),_.attr("style","").removeAttr("style").removeClass(y.hidden),h.removeClass(y.animating).attr("style","").removeAttr("style")},is:{complete:function(){return _.filter("."+y.active)[0]==h[0]},animating:function(){return C.hasClass(y.animating)}},set:{defaultSide:function(){t=C.find("."+m.className.active),h=t.next(v.side).length>0?t.next(v.side):C.find(v.side).first(),S=!1,f.verbose("Active side set to",t),f.verbose("Next side set to",h)},duration:function(e){e="number"==typeof(e=e||m.duration)?e+"ms":e,f.verbose("Setting animation duration",e),k.add(_).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e,t=C.clone().addClass(y.loading),i=t.find("."+m.className.active),n=S?t.find(v.side).eq(S):i.next(v.side).length>0?i.next(v.side):t.find(v.side).first();i.removeClass(y.active),n.addClass(y.active),t.insertAfter(C),e={width:n.outerWidth(),height:n.outerHeight()},t.remove(),C.css(e),f.verbose("Resizing stage to fit new content",e)},nextSide:function(e){S=e,h=_.filter(e),S=_.index(h),0===h.length&&(f.set.defaultSide(),f.error(b.side)),f.verbose("Next side manually set to",h)},active:function(){f.verbose("Setting new side to active",h),_.removeClass(y.active),h.addClass(y.active),m.onChange.call(h.get()),f.set.defaultSide()}},flip:{up:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip up"):(f.debug("Flipping up",h),f.set.stageSize(),f.stage.above(),f.animate(f.get.transform.up())):f.debug("Side already visible",h)},down:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip down"):(f.debug("Flipping down",h),f.set.stageSize(),f.stage.below(),f.animate(f.get.transform.down())):f.debug("Side already visible",h)},left:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip left"):(f.debug("Flipping left",h),f.set.stageSize(),f.stage.left(),f.animate(f.get.transform.left())):f.debug("Side already visible",h)},right:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip right"):(f.debug("Flipping right",h),f.set.stageSize(),f.stage.right(),f.animate(f.get.transform.right())):f.debug("Side already visible",h)},over:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip over"):(f.debug("Flipping over",h),f.set.stageSize(),f.stage.behind(),f.animate(f.get.transform.over())):f.debug("Side already visible",h)},back:function(){!f.is.complete()||f.is.animating()||m.allowRepeats?f.is.animating()?f.queue("flip back"):(f.debug("Flipping back",h),f.set.stageSize(),f.stage.behind(),f.animate(f.get.transform.back())):f.debug("Side already visible",h)}},get:{transform:{up:function(){return{transform:"translateY("+-(t.outerHeight()-h.outerHeight())/2+"px) translateZ("+-t.outerHeight()/2+"px) rotateX(-90deg)"}},down:function(){return{transform:"translateY("+-(t.outerHeight()-h.outerHeight())/2+"px) translateZ("+-t.outerHeight()/2+"px) rotateX(90deg)"}},left:function(){return{transform:"translateX("+-(t.outerWidth()-h.outerWidth())/2+"px) translateZ("+-t.outerWidth()/2+"px) rotateY(90deg)"}},right:function(){return{transform:"translateX("+-(t.outerWidth()-h.outerWidth())/2+"px) translateZ("+-t.outerWidth()/2+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+-(t.outerWidth()-h.outerWidth())/2+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+-(t.outerWidth()-h.outerWidth())/2+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},nextSide:function(){return t.next(v.side).length>0?t.next(v.side):C.find(v.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight()-h.outerHeight())/2,depth:{active:h.outerHeight()/2,next:t.outerHeight()/2}};f.verbose("Setting the initial animation position as above",h,e),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight()-h.outerHeight())/2,depth:{active:h.outerHeight()/2,next:t.outerHeight()/2}};f.verbose("Setting the initial animation position as below",h,e),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(t.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:t.outerWidth()/2}};f.verbose("Setting the initial animation position as left",h,e),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(t.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:t.outerWidth()/2}};f.verbose("Setting the initial animation position as left",h,e),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(t.outerWidth()-h.outerWidth())/2,depth:{active:h.outerWidth()/2,next:t.outerWidth()/2}};f.verbose("Setting the initial animation position as behind",h,e),t.css({transform:"rotateY(0deg)"}),h.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,i){if(f.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===i)return m[t];m[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,i;m.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":i})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var t=m.name+":",i=0;a=!1,clearTimeout(f.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",p&&(t+=" '"+p+"'"),s.length>1&&(t+=" ("+s.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,n){var s,a,r,l=P;return i=i||d,n=T||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},c?(void 0===P&&f.initialize(),f.invoke(l)):(void 0!==P&&P.invoke("destroy"),f.initialize())}),void 0!==o?o:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.sidebar=function(n){var o,s=e(this),a=e(t),r=e(i),l=e("html"),c=e("head"),d=s.selector||"",u=(new Date).getTime(),h=[],f=arguments[0],p="string"==typeof f,m=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,v,b,y,w,x,C=e.isPlainObject(n)?e.extend(!0,{},e.fn.sidebar.settings,n):e.extend({},e.fn.sidebar.settings),k=C.selector,_=C.className,S=C.namespace,T=C.regExp,P=C.error,E="."+S,A="module-"+S,F=e(this),O=e(C.context),M=F.children(k.sidebar),D=(O.children(k.fixed),O.children(k.pusher)),R=this,I=F.data(A);x={initialize:function(){x.debug("Initializing sidebar",n),x.create.id(),w=x.get.transitionEvent(),("auto"==C.useLegacy&&x.is.legacy()||!0===C.useLegacy)&&(C.transition="overlay",C.useLegacy=!0),x.is.ios()&&x.set.ios(),C.delaySetup?g(x.setup.layout):x.setup.layout(),x.instantiate()},instantiate:function(){x.verbose("Storing instance of module",x),I=x,F.data(A,x)},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,x.verbose("Creating unique id for element",b)}},destroy:function(){x.verbose("Destroying previous module for",F),x.remove.direction(),F.off(E).removeData(A),O.off(v),a.off(v),r.off(v)},event:{clickaway:function(e){var t=D.find(e.target).length>0||D.is(e.target),i=O.is(e.target);t&&(x.verbose("User clicked on dimmed page"),x.hide()),i&&(x.verbose("User clicked on dimmable context (scaled out page)"),x.hide())},touch:function(e){},containScroll:function(e){R.scrollTop<=0&&(R.scrollTop=1),R.scrollTop+R.offsetHeight>=R.scrollHeight&&(R.scrollTop=R.scrollHeight-R.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(k.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){x.verbose("Adding clickaway events to context",O),C.closable&&O.on("click"+v,x.event.clickaway).on("touchend"+v,x.event.clickaway)},scrollLock:function(){C.scrollLock&&(x.debug("Disabling page scroll"),a.on("DOMMouseScroll"+v,x.event.scroll)),x.verbose("Adding events to contain sidebar scroll"),r.on("touchmove"+v,x.event.touch),F.on("scroll"+E,x.event.containScroll)}},unbind:{clickaway:function(){x.verbose("Removing clickaway events from context",O),O.off(v)},scrollLock:function(){x.verbose("Removing scroll lock from page"),r.off(v),a.off(v),F.off("scroll"+E)}},add:{bodyCSS:function(){var t,i=F.outerWidth(),n=F.outerHeight(),o=x.get.direction(),a={left:i,right:-i,top:n,bottom:-n};x.is.rtl()&&(x.verbose("RTL detected, flipping widths"),a.left=-i,a.right=i),t='<style title="'+S+'">',"left"===o||"right"===o?(x.debug("Adding CSS rules for animation distance",i),t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),x.is.ie()&&("left"===o||"right"===o?(x.debug("Adding CSS rules for animation distance",i),t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",c.append(t),s=e("style[title="+S+"]"),x.debug("Adding sizing css to head",s)}},refresh:function(){x.verbose("Refreshing selector cache"),O=e(C.context),M=O.children(k.sidebar),D=O.children(k.pusher),O.children(k.fixed)},refreshSidebars:function(){x.verbose("Refreshing other sidebars"),M=O.children(k.sidebar)},repaint:function(){x.verbose("Forcing repaint event"),R.style.display="none",R.offsetHeight,R.scrollTop=R.scrollTop,R.style.display=""},setup:{layout:function(){0===O.children(k.pusher).length&&(x.debug("Adding wrapper element for sidebar"),x.error(P.pusher),D=e('<div class="pusher" />'),O.children().not(k.omitted).not(M).wrapAll(D),x.refresh()),0!==F.nextAll(k.pusher).length&&F.nextAll(k.pusher)[0]===D[0]||(x.debug("Moved sidebar to correct parent element"),x.error(P.movedSidebar,R),F.detach().prependTo(O),x.refresh()),x.set.pushable(),x.set.direction()}},attachEvents:function(t,i){var n=e(t);i=e.isFunction(x[i])?x[i]:x.toggle,n.length>0?(x.debug("Attaching sidebar events to element",t,i),n.on("click"+E,i)):x.error(P.notFound,t)},show:function(t){var i=!0===C.useLegacy?x.legacyPushPage:x.pushPage;if(t=e.isFunction(t)?t:function(){},x.is.hidden()){if(x.refreshSidebars(),C.overlay&&(x.error(P.overlay),C.transition="overlay"),x.refresh(),x.othersActive())if(x.debug("Other sidebars currently visible"),C.exclusive){if("overlay"!=C.transition)return void x.hideOthers(x.show);x.hideOthers()}else C.transition="overlay";i(function(){t.call(R),C.onShow.call(R)}),C.onChange.call(R),C.onVisible.call(R)}else x.debug("Sidebar is already visible")},hide:function(t){var i=!0===C.useLegacy?x.legacyPullPage:x.pullPage;t=e.isFunction(t)?t:function(){},(x.is.visible()||x.is.animating())&&(x.debug("Hiding sidebar",t),x.refreshSidebars(),i(function(){t.call(R),C.onHidden.call(R)}),C.onChange.call(R),C.onHide.call(R))},othersAnimating:function(){return M.not(F).filter("."+_.animating).length>0},othersVisible:function(){return M.not(F).filter("."+_.visible).length>0},othersActive:function(){return x.othersVisible()||x.othersAnimating()},hideOthers:function(e){var t=M.not(F).filter("."+_.visible),i=t.length,n=0;e=e||function(){},t.sidebar("hide",function(){++n==i&&e()})},toggle:function(){x.verbose("Determining toggled direction"),x.is.hidden()?x.show():x.hide()},pushPage:function(t){var i,n,o=x.get.transition(),s="safe"==o?O:"overlay"===o||x.othersActive()?F:D;t=e.isFunction(t)?t:function(){},"scale down"==C.transition&&x.scrollToTop(),x.set.transition(o),x.repaint(),i=function(){x.bind.clickaway(),x.add.bodyCSS(),x.set.animating(),x.set.visible(),x.othersVisible()||C.dimPage&&D.addClass(_.dimmed)},n=function(e){e.target==s[0]&&(s.off(w+v,n),x.remove.animating(),x.bind.scrollLock(),t.call(R))},s.off(w+v),s.on(w+v,n),g(i)},pullPage:function(t){var i,n,o=x.get.transition(),s="safe"==o?O:"overlay"==o||x.othersActive()?F:D;t=e.isFunction(t)?t:function(){},x.verbose("Removing context push state",x.get.direction()),x.set.transition(o),x.unbind.clickaway(),x.unbind.scrollLock(),i=function(){x.set.animating(),x.remove.visible(),C.dimPage&&!x.othersVisible()&&D.removeClass(_.dimmed)},n=function(e){e.target==s[0]&&(s.off(w+v,n),x.remove.animating(),x.remove.transition(),x.remove.bodyCSS(),("scale down"==o||C.returnScroll&&x.is.mobile())&&x.scrollBack(),t.call(R))},s.off(w+v),s.on(w+v,n),g(i)},legacyPushPage:function(t){var i=F.width(),n=x.get.direction(),o={};i=i||F.width(),t=e.isFunction(t)?t:function(){},o[n]=i,x.debug("Using javascript to push context",o),x.set.visible(),x.set.transition(),x.set.animating(),C.dimPage&&D.addClass(_.dimmed),O.css("position","relative").animate(o,C.duration,C.easing,function(){x.remove.animating(),x.bind.clickaway(),t.call(R)})},legacyPullPage:function(t){var i=0,n=x.get.direction(),o={};i=i||F.width(),t=e.isFunction(t)?t:function(){},o[n]="0px",x.debug("Using javascript to pull context",o),x.unbind.clickaway(),x.set.animating(),x.remove.visible(),C.dimPage&&!x.othersActive()&&D.removeClass(_.dimmed),O.css("position","relative").animate(o,C.duration,C.easing,function(){x.remove.animating(),t.call(R)})},scrollToTop:function(){x.verbose("Scrolling to top of page to avoid animation issues"),y=e(t).scrollTop(),F.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){x.verbose("Scrolling back to original page position"),t.scrollTo(0,y)},set:{ios:function(){l.addClass(_.ios)},pushed:function(){O.addClass(_.pushed)},pushable:function(){O.addClass(_.pushable)},active:function(){F.addClass(_.active)},animating:function(){F.addClass(_.animating)},transition:function(e){e=e||x.get.transition(),F.addClass(e)},direction:function(e){e=e||x.get.direction(),F.addClass(_[e])},visible:function(){F.addClass(_.visible)},overlay:function(){F.addClass(_.overlay)}},remove:{bodyCSS:function(){x.debug("Removing body css styles",s),s&&s.length>0&&s.remove()},pushed:function(){O.removeClass(_.pushed)},pushable:function(){O.removeClass(_.pushable)},active:function(){F.removeClass(_.active)},animating:function(){F.removeClass(_.animating)},transition:function(e){e=e||x.get.transition(),F.removeClass(e)},direction:function(e){e=e||x.get.direction(),F.removeClass(_[e])},visible:function(){F.removeClass(_.visible)},overlay:function(){F.removeClass(_.overlay)}},get:{direction:function(){return F.hasClass(_.top)?_.top:F.hasClass(_.right)?_.right:F.hasClass(_.bottom)?_.bottom:_.left},transition:function(){var e,t=x.get.direction();return e=x.is.mobile()?"auto"==C.mobileTransition?C.defaultTransition.mobile[t]:C.mobileTransition:"auto"==C.transition?C.defaultTransition.computer[t]:C.transition,x.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}},is:{ie:function(){return!t.ActiveXObject&&"ActiveXObject"in t||"ActiveXObject"in t},legacy:function(){var e,n=i.createElement("div"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var s in i.body.insertBefore(n,null),o)void 0!==n.style[s]&&(n.style[s]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(o[s]));return i.body.removeChild(n),!(void 0!==e&&e.length>0&&"none"!==e)},ios:function(){var e=navigator.userAgent;return!!e.match(T.ios)&&(x.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(T.mobile)?(x.verbose("Browser was found to be mobile",e),!0):(x.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!x.is.visible()},visible:function(){return F.hasClass(_.visible)},open:function(){return x.is.visible()},closed:function(){return x.is.hidden()},vertical:function(){return F.hasClass(_.top)},animating:function(){return O.hasClass(_.animating)},rtl:function(){return"rtl"==F.css("direction")}},setting:function(t,i){if(x.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===i)return C[t];C[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===i)return x[t];x[t]=i}},debug:function(){C.debug&&(C.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,C.name+":"),x.debug.apply(console,arguments)))},verbose:function(){C.verbose&&C.debug&&(C.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,C.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,i;C.performance&&(i=(t=(new Date).getTime())-(u||t),u=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":i})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,100)},display:function(){var t=C.name+":",i=0;u=!1,clearTimeout(x.performance.timer),e.each(h,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",d&&(t+=" '"+d+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,i,n){var s,a,r,l=I;return i=i||m,n=R||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(x.error(P.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},p?(void 0===I&&x.initialize(),x.invoke(f)):(void 0!==I&&x.invoke("destroy"),x.initialize())}),void 0!==o?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!0,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:"auto",duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},e.extend(e.easing,{easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.sticky=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h,f=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),p=f.className,m=f.namespace,g=f.error,v="."+m,b="module-"+m,y=e(this),w=e(t),x=y.offsetParent(),C=e(f.scrollContext),k=(y.selector,y.data(b)),_=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},S=this;h={initialize:function(){h.determineContext(),h.verbose("Initializing sticky",f,x),h.save.positions(),h.checkErrors(),h.bind.events(),f.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),k=h,y.data(b,h)},destroy:function(){h.verbose("Destroying previous instance"),h.reset(),u&&u.disconnect(),w.off("load"+v,h.event.load).off("resize"+v,h.event.resize),C.off("scrollchange"+v,h.event.scrollchange),y.removeData(b)},observeChanges:function(){var e=o[0];"MutationObserver"in t&&((u=new MutationObserver(function(e){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)})).observe(S,{childList:!0,subtree:!0}),u.observe(e,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",u))},determineContext:function(){0!==(o=f.context?e(f.context):x).length||h.error(g.invalidContext,f.context,y)},checkErrors:function(){if(h.is.hidden()&&h.error(g.visible,y),h.cache.element.height>h.cache.context.height)return h.reset(),void h.error(g.elementSize,y)},bind:{events:function(){w.on("load"+v,h.event.load).on("resize"+v,h.event.resize),C.off("scroll"+v).on("scroll"+v,h.event.scroll).on("scrollchange"+v,h.event.scrollchange)}},event:{load:function(){h.verbose("Page contents finished loading"),_(h.refresh)},resize:function(){h.verbose("Window resized"),_(h.refresh)},scroll:function(){_(function(){C.trigger("scrollchange"+v,C.scrollTop())})},scrollchange:function(e,t){h.stick(t),f.onScroll.call(S)}},refresh:function(e){h.reset(),e&&(x=y.offsetParent()),h.save.positions(),h.stick(),f.onReposition.call(S)},supports:{sticky:function(){var t=e("<div/>");t.get();return t.addClass(p.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){h.lastScroll=e},positions:function(){var e={height:w.height()},t={margin:{top:parseInt(y.css("margin-top"),10),bottom:parseInt(y.css("margin-bottom"),10)},offset:y.offset(),width:y.outerWidth(),height:y.outerHeight()},i={offset:o.offset(),height:o.outerHeight(),bottomPadding:parseInt(o.css("padding-bottom"),10)};h.cache={fits:t.height<e.height,window:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:i.offset.top,height:i.height,bottomPadding:i.bottomPadding,bottom:i.offset.top+i.height-i.bottomPadding}},h.set.containerSize(),h.set.size(),h.stick(),h.debug("Caching element positions",h.cache)}},get:{direction:function(e){var t="down";return e=e||C.scrollTop(),void 0!==h.lastScroll&&(h.lastScroll<e?t="down":h.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||C.scrollTop(),h.lastScroll?e-h.lastScroll:0},currentElementScroll:function(){return h.is.top()?Math.abs(parseInt(y.css("top"),10))||0:Math.abs(parseInt(y.css("bottom"),10))||0},elementScroll:function(e){e=e||C.scrollTop();var t=h.cache.element,i=h.cache.window,n=h.get.scrollChange(e),o=t.height-i.height+f.offset,s=h.get.currentElementScroll()+n;return h.cache.fits||s<0?0:s>o?o:s}},remove:{offset:function(){y.css("margin-top","")}},set:{offset:function(){h.verbose("Setting offset on element",f.offset),y.css("margin-top",f.offset)},containerSize:function(){var e=x.get(0).tagName;"HTML"===e||"body"==e?x=y.offsetParent():Math.abs(x.height()-h.cache.context.height)>5&&(h.debug("Context has padding, specifying exact height for container",h.cache.context.height),x.css({height:h.cache.context.height}))},scroll:function(e){h.debug("Setting scroll on element",e),h.is.top()&&y.css("bottom","").css("top",-e),h.is.bottom()&&y.css("top","").css("bottom",e)},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&y.css({width:h.cache.element.width,height:h.cache.element.height})}},is:{top:function(){return y.hasClass(p.top)},bottom:function(){return y.hasClass(p.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!y.is(":visible")},bound:function(){return y.hasClass(p.bound)},fixed:function(){return y.hasClass(p.fixed)}},stick:function(e){var t=e||C.scrollTop(),i=h.cache,n=i.fits,o=i.element,s=i.window,a=i.context,r=h.is.bottom()&&f.pushing?f.bottomOffset:f.offset,l=(e={top:t+r,bottom:t+r+s.height},h.get.direction(e.top),n?0:h.get.elementScroll(e.top)),c=!n,d=0!==o.height;h.save.lastScroll(e.top),d&&(h.is.initialPosition()?e.top>=a.bottom?(h.debug("Element bottom of container"),h.bindBottom()):e.top>=o.top&&(h.debug("Element passed, fixing element to page"),h.fixTop()):h.is.fixed()?h.is.top()?e.top<o.top?(h.debug("Fixed element reached top of container"),h.setInitialPosition()):o.height+e.top-l>a.bottom?(h.debug("Fixed element reached bottom of container"),h.bindBottom()):c&&h.set.scroll(l):h.is.bottom()&&(e.bottom-o.height<o.top?(h.debug("Bottom fixed rail has reached top of container"),h.setInitialPosition()):e.bottom>a.bottom?(h.debug("Bottom fixed rail has reached bottom of container"),h.bindBottom()):c&&h.set.scroll(l)):h.is.bottom()&&(f.pushing?h.is.bound()&&e.bottom<a.bottom&&(h.debug("Fixing bottom attached element to bottom of browser."),h.fixBottom()):h.is.bound()&&e.top<a.bottom-o.height&&(h.debug("Fixing bottom attached element to top of browser."),h.fixTop())))},bindTop:function(){h.debug("Binding element to top of parent container"),h.remove.offset(),y.css("left","").css("top","").css("margin-bottom","").removeClass(p.fixed).removeClass(p.bottom).addClass(p.bound).addClass(p.top),f.onTop.call(S),f.onUnstick.call(S)},bindBottom:function(){h.debug("Binding element to bottom of parent container"),h.remove.offset(),y.css("left","").css("top","").css("margin-bottom",h.cache.context.bottomPadding).removeClass(p.fixed).removeClass(p.top).addClass(p.bound).addClass(p.bottom),f.onBottom.call(S),f.onUnstick.call(S)},setInitialPosition:function(){h.unfix(),h.unbind()},fixTop:function(){h.debug("Fixing element to top of page"),h.set.offset(),y.css("left",h.cache.element.left).css("bottom","").removeClass(p.bound).removeClass(p.bottom).addClass(p.fixed).addClass(p.top),f.onStick.call(S)},fixBottom:function(){h.debug("Sticking element to bottom of page"),h.set.offset(),y.css("left",h.cache.element.left).css("bottom","").removeClass(p.bound).removeClass(p.top).addClass(p.fixed).addClass(p.bottom),f.onStick.call(S)},unbind:function(){h.debug("Removing absolute position on element"),h.remove.offset(),y.removeClass(p.bound).removeClass(p.top).removeClass(p.bottom)},unfix:function(){h.debug("Removing fixed position on element"),h.remove.offset(),y.removeClass(p.fixed).removeClass(p.top).removeClass(p.bottom),f.onUnstick.call(S)},reset:function(){h.debug("Reseting elements position"),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset()},resetCSS:function(){y.css({width:"",height:""}),x.css({height:""})},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,i;f.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var t=f.name+":",i=0;a=!1,clearTimeout(h.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=k;return i=i||d,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===k&&h.initialize(),h.invoke(l)):(void 0!==k&&k.invoke("destroy"),h.initialize())}),void 0!==n?n:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.tab=function(i){var n,o,s=e.isFunction(this)?e(t):e(this),a=e.isPlainObject(i)?e.extend(!0,{},e.fn.tab.settings,i):e.extend({},e.fn.tab.settings),r=s.selector||"",l=(new Date).getTime(),c=[],d=arguments[0],u="string"==typeof d,h=[].slice.call(arguments,1);return s.each(function(){var i,f,p,m,g,v=a.className,b=a.metadata,y=a.selector,w=a.error,x="."+a.namespace,C="module-"+a.namespace,k=e(this),_={},S=!0,T=0,P=this,E=k.data(C);n={initialize:function(){n.debug("Initializing tab menu item",k),n.determineTabs(),n.debug("Determining tabs",a.context,f),a.auto&&n.set.auto(),e.isWindow(P)||(n.debug("Attaching tab activation events to element",k),k.on("click"+x,n.event.click)),n.instantiate()},determineTabs:function(){var t;"parent"===a.context?(k.closest(y.ui).length>0?(t=k.closest(y.ui),n.verbose("Using closest UI element for determining parent",t)):t=k,i=t.parent(),n.verbose("Determined parent element for creating context",i)):a.context?(i=e(a.context),n.verbose("Using selector for tab context",a.context,i)):i=e("body"),a.childrenOnly?(f=i.children(y.tabs),n.debug("Searching tab context children for tabs",i,f)):(f=i.find(y.tabs),n.debug("Searching tab context for tabs",i,f))},initializeHistory:function(){if(a.history){if(n.debug("Initializing page state"),void 0===e.address)return n.error(w.state),!1;if("state"==a.historyType){if(n.debug("Using HTML5 to manage state"),!1===a.path)return n.error(w.path),!1;e.address.history(!0).state(a.path)}e.address.bind("change",n.event.history.change)}},instantiate:function(){n.verbose("Storing instance of module",n),E=n,k.data(C,n)},destroy:function(){n.debug("Destroying tabs",k),k.removeData(C).off(x)},event:{click:function(t){var i=e(this).data(b.tab);void 0!==i?(a.history?(n.verbose("Updating page state",t),e.address.value(i)):(n.verbose("Changing tab",t),n.changeTab(i)),t.preventDefault()):n.debug("No tab specified")},history:{change:function(t){var i=t.pathNames.join("/")||n.get.initialPath(),o=a.templates.determineTitle(i)||!1;n.performance.display(),n.debug("History change event",i,t),g=t,void 0!==i&&n.changeTab(i),o&&e.address.title(o)}}},refresh:function(){p&&(n.debug("Refreshing tab",p),n.changeTab(p))},cache:{read:function(e){return void 0!==e&&_[e]},add:function(e,t){e=e||p,n.debug("Adding cached content for",e),_[e]=t},remove:function(e){e=e||p,n.debug("Removing cached content for",e),delete _[e]}},set:{auto:function(){var t="string"==typeof a.path?a.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";n.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(a.apiSettings)?a.apiSettings.url=t:a.apiSettings={url:t}},state:function(t){e.address.value(t)}},changeTab:function(o){var s=t.history&&t.history.pushState&&a.ignoreFirstLoad&&S,r=a.auto||e.isPlainObject(a.apiSettings),l=r&&!s?n.utilities.pathToArray(o):n.get.defaultPathArray(o);o=n.utilities.arrayToPath(l),e.each(l,function(t,c){var d,u,h,f,v=l.slice(0,t+1),b=n.utilities.arrayToPath(v),y=n.is.tab(b),x=t+1==l.length,C=n.get.tabElement(b);if(n.verbose("Looking for tab",c),y){if(n.verbose("Tab was found",c),p=b,m=n.utilities.filterArray(l,v),x?f=!0:(u=l.slice(0,t+2),h=n.utilities.arrayToPath(u),(f=!n.is.tab(h))&&n.verbose("Tab parameters found",u)),f&&r)return s?(n.debug("Ignoring remote content on first tab load",b),S=!1,n.cache.add(o,C.html()),n.activate.all(b),a.onTabInit.call(C,b,m,g),a.onTabLoad.call(C,b,m,g)):(n.activate.navigation(b),n.content.fetch(b,o)),!1;n.debug("Opened local tab",b),n.activate.all(b),n.cache.read(b)||(n.cache.add(b,!0),n.debug("First time tab loaded calling tab init"),a.onTabInit.call(C,b,m,g)),a.onTabLoad.call(C,b,m,g)}else{if(-1!=o.search("/")||""===o)return n.error(w.missingTab,k,i,b),!1;if(b=(d=e("#"+o+', a[name="'+o+'"]')).closest("[data-tab]").data("tab"),C=n.get.tabElement(b),d&&d.length>0&&b)return n.debug("No tab found, but deep anchor link present, opening parent tab"),n.activate.all(b),n.cache.read(b)||(n.cache.add(b,!0),n.debug("First time tab loaded calling tab init"),a.onTabInit.call(C,b,m,g)),!1}})},content:{fetch:function(t,i){var o,s,r=n.get.tabElement(t),l={dataType:"html",on:"now",onSuccess:function(e){n.cache.add(i,e),n.content.update(t,e),t==p?(n.debug("Content loaded",t),n.activate.tab(t)):n.debug("Content loaded in background",t),a.onTabInit.call(r,t,m,g),a.onTabLoad.call(r,t,m,g)},urlData:{tab:i}},c=r.api("get request")||!1,d=c&&"pending"===c.state();i=i||t,s=n.cache.read(i),n.activate.tab(t),a.cache&&s?(n.debug("Showing existing content",i),n.content.update(t,s),a.onTabLoad.call(r,t,m,g)):d?(n.debug("Content is already loading",i),r.addClass(v.loading)):void 0!==e.api?(o=e.extend(!0,{headers:{"X-Remote":!0}},a.apiSettings,l),n.debug("Retrieving remote content",i,o),r.api(o)):n.error(w.api)},update:function(e,t){n.debug("Updating html for",e),n.get.tabElement(e).html(t)}},activate:{all:function(e){n.activate.tab(e),n.activate.navigation(e)},tab:function(e){var t=n.get.tabElement(e);n.verbose("Showing tab content for",t),t.addClass(v.active).siblings(f).removeClass(v.active+" "+v.loading)},navigation:function(e){var t=n.get.navElement(e);n.verbose("Activating tab navigation for",t,e),t.addClass(v.active).siblings(s).removeClass(v.active+" "+v.loading)}},deactivate:{all:function(){n.deactivate.navigation(),n.deactivate.tabs()},navigation:function(){s.removeClass(v.active)},tabs:function(){f.removeClass(v.active+" "+v.loading)}},is:{tab:function(e){return void 0!==e&&n.get.tabElement(e).length>0}},get:{initialPath:function(){return s.eq(0).data(b.tab)||f.eq(0).data(b.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return n.utilities.pathToArray(n.get.defaultPath(e))},defaultPath:function(e){var t=s.filter("[data-"+b.tab+'^="'+e+'/"]').eq(0).data(b.tab)||!1;if(t){if(n.debug("Found default tab",t),T<a.maxDepth)return T++,n.get.defaultPath(t);n.error(w.recursion)}else n.debug("No default tabs found for",e,f);return T=0,e},navElement:function(e){return e=e||p,s.filter("[data-"+b.tab+'="'+e+'"]')},tabElement:function(e){var t,i,o,s;return e=e||p,o=n.utilities.pathToArray(e),s=n.utilities.last(o),t=f.filter("[data-"+b.tab+'="'+s+'"]'),i=f.filter("[data-"+b.tab+'="'+e+'"]'),t.length>0?t:i},tab:function(){return p}},utilities:{filterArray:function(t,i){return e.grep(t,function(t){return-1==e.inArray(t,i)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return void 0===e&&(e=p),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,i){if(n.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,a,t);else{if(void 0===i)return a[t];a[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(void 0===i)return n[t];n[t]=i}},debug:function(){a.debug&&(a.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,a.name+":"),n.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,a.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i;a.performance&&(i=(t=(new Date).getTime())-(l||t),l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=a.name+":",i=0;l=!1,clearTimeout(n.performance.timer),e.each(c,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,i,s){var a,r,l,c=E;return i=i||h,s=P||s,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,o){var s=i!=a?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[s])&&i!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[o])||i==a)return void 0!==c[o]?(r=c[o],!1):(n.error(w.method,t),!1);c=c[o]}})),e.isFunction(r)?l=r.apply(s,i):void 0!==r&&(l=r),e.isArray(o)?o.push(l):void 0!==o?o=[o,l]:void 0!==l&&(o=l),r}},u?(void 0===E&&n.initialize(),n.invoke(d)):(void 0!==E&&E.invoke("destroy"),n.initialize())}),n&&!u&&n.initializeHistory(),void 0!==o?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(e,t,i){},onTabLoad:function(e,t,i){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.transition=function(){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),u="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(t){var h,f,p,m,g,v,b,y,w,x,C=e(this),k=this;(x={initialize:function(){h=x.get.settings.apply(k,l),m=h.className,p=h.error,g=h.metadata,w="."+h.namespace,y="module-"+h.namespace,f=C.data(y)||x,v=x.get.animationEndEvent(),b=x.get.animationName(),x.get.animationStartEvent(),u&&(u=x.invoke(c)),!1===u&&(x.verbose("Converted arguments into settings object",h),h.interval?x.delay(h.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),f=x,C.data(y,f)},destroy:function(){x.verbose("Destroying previous module for",k),C.removeData(y)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.length?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element");k.offsetWidth},delay:function(e){var i,n=!0===h.reverse,s="auto"==h.reverse&&x.get.direction()==m.outward;e=void 0!==typeof e?e:h.interval,i=n||s?(o.length-t)*h.interval:t*h.interval,x.debug("Delaying animation by",i),setTimeout(x.animate,i)},animate:function(e){if(h=e||h,!x.is.supported())return x.error(p.support),!1;if(x.debug("Preparing animation",h.animation),x.is.animating()){if(h.queue)return!h.allowRepeats&&x.has.direction()&&x.is.occurring()&&!0!==x.queuing?x.debug("Animation is currently occurring, preventing queueing same animation",h.animation):x.queue(h.animation),!1;if(!h.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;x.debug("New animation started, completing previous early",h.animation),x.complete()}x.can.animate()?x.set.animating(h.animation):x.error(p.noAnimation,h.animation,k)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,C.one(v+".queue"+w,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,h)})},complete:function(e){x.debug("Animation complete",h.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide(),h.onHide.call(this)):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show(),h.onShow.call(this)):x.restore.conditions(),x.remove.animation(),x.remove.animating()),h.onComplete.call(this)},has:{direction:function(t){var i=!1;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==m.inward&&t!==m.outward||(i=!0)})),i},inlineDisplay:function(){var t=C.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){e=e||h.animation,x.is.animating()||x.save.conditions(),x.remove.direction(),x.remove.completeCallback(),x.can.transition()&&!x.has.direction()&&x.set.direction(),x.remove.hidden(),x.set.display(),C.addClass(m.animating+" "+m.transition+" "+e).addClass(e).one(v+".complete"+w,x.complete),h.useFailSafe&&x.add.failSafe(),x.set.duration(h.duration),h.onStart.call(this),x.debug("Starting tween",e,C.attr("class"))},duration:function(e,t){((t="number"==typeof(t=t||h.duration)?t+"ms":t)||0===t)&&(x.verbose("Setting animation duration",t),C.css({"-webkit-animation-duration":t,"-moz-animation-duration":t,"-ms-animation-duration":t,"-o-animation-duration":t,"animation-duration":t}))},display:function(){var e=x.get.style(),t=x.get.displayType(),i=e+"display: "+t+" !important;";C.css("display",""),x.refresh(),C.css("display")!==t&&(x.verbose("Setting inline visibility to",t),C.attr("style",i))},direction:function(){C.is(":visible")&&!x.is.hidden()?(x.debug("Automatically determining the direction of animation","Outward"),C.removeClass(m.inward).addClass(m.outward)):(x.debug("Automatically determining the direction of animation","Inward"),C.removeClass(m.outward).addClass(m.inward))},looping:function(){x.debug("Transition set to loop"),C.addClass(m.looping)},hidden:function(){x.is.hidden()||C.addClass(m.transition).addClass(m.hidden),"none"!==C.css("display")&&(x.verbose("Overriding default display to hide element"),C.css("display","none"))},visible:function(){C.addClass(m.transition).addClass(m.visible)}},save:{displayType:function(e){C.data(g.displayType,e)},transitionExists:function(t,i){e.fn.transition.exists[t]=i,x.verbose("Saving existence of transition",t,i)},conditions:function(){C.attr("class"),C.attr("style");C.removeClass(h.animation),x.remove.direction(),x.cache={className:C.attr("class"),style:x.get.style()},x.verbose("Saving original attributes",x.cache)}},restore:{conditions:function(){if(void 0===x.cache)return!1;x.cache.className?C.attr("class",x.cache.className):C.removeAttr("class"),x.cache.style?(x.verbose("Restoring original style attribute",x.cache.style),C.attr("style",x.cache.style)):(x.verbose("Clearing style attribute"),C.removeAttr("style")),x.verbose("Restoring original attributes",x.cache)}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){C.trigger(v)},e+h.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){C.removeClass(m.animating)},animation:function(){C.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){C.off(".queue"+w)},completeCallback:function(){C.off(".complete"+w)},display:function(){C.css("display","")},direction:function(){C.removeClass(m.inward).removeClass(m.outward)},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){C.removeClass(m.hidden)},visible:function(){C.removeClass(m.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),C.removeClass(m.looping))},transition:function(){C.removeClass(m.visible).removeClass(m.hidden)}},get:{settings:function(t,i,n){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n,duration:i}):"string"==typeof i||"number"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,duration:i}):"object"==typeof i?e.extend({},e.fn.transition.settings,i,{animation:t}):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i}):e.extend({},e.fn.transition.settings,{animation:t})},direction:function(t){return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){return t===m.inward?m.inward:t===m.outward?m.outward:void 0})),x.can.transition()?C.is(":visible")&&!x.is.hidden()?m.outward:m.inward:"static"},duration:function(e){return!1===(e=e||h.duration)&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return h.displayType?h.displayType:(void 0===C.data(g.displayType)&&x.can.transition(!0),C.data(g.displayType))},style:function(){return(C.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e,t=i.createElement("div"),n={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in n)if(void 0!==t.style[e])return n[e];return!1},animationStartEvent:function(){var e,t=i.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in n)if(void 0!==t.style[e])return n[e];return!1},animationEndEvent:function(){var e,t=i.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e];return!1}},can:{transition:function(t){var i,n,o,s,a,r=C.attr("class"),l=C.prop("tagName"),c=h.animation,d=x.get.transitionExists(c);if(void 0===d||t){if(x.verbose("Determining whether animation exists"),n=(i=e("<"+l+" />").addClass(r).insertAfter(C)).addClass(c).removeClass(m.inward).removeClass(m.outward).addClass(m.animating).addClass(m.transition).css(b),o=i.addClass(m.inward).css(b),a=i.attr("class",r).removeAttr("style").removeClass(m.hidden).removeClass(m.visible).show().css("display"),x.verbose("Determining final display state",a),x.save.displayType(a),i.remove(),n!=o)x.debug("Direction exists for animation",c),s=!0;else{if("none"==n||!n)return void x.debug("No animation defined in css",c);x.debug("Static animation found",c,a),s=!1}x.save.transitionExists(c,s)}return void 0!==d?d:s},animate:function(){return void 0!==x.can.transition()}},is:{animating:function(){return C.hasClass(m.animating)},inward:function(){return C.hasClass(m.inward)},outward:function(){return C.hasClass(m.outward)},looping:function(){return C.hasClass(m.looping)},occurring:function(e){return e="."+(e=e||h.animation).replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return!1!==b&&!1!==v}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.repaint()},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.set.display(),x.repaint()},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),C.trigger(v)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),C.trigger(v)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),C.removeClass(m.disabled)},disable:function(){x.debug("Stopping animation"),C.addClass(m.disabled)},setting:function(t,i){if(x.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===i)return x[t];x[t]=i}},debug:function(){h.debug&&(h.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,h.name+":"),x.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,h.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(x.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=f;return i=i||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),void 0!==a&&a}}).initialize()}),void 0!==n?n:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.video=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(){var u,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.video.settings,i):e.extend({},e.fn.video.settings),f=h.selector,p=h.className,m=h.error,g=h.metadata,v=h.namespace,b=h.templates,y="."+v,w="module-"+v,x=(e(t),e(this)),C=x.find(f.placeholder),k=x.find(f.playButton),_=x.find(f.embed),S=this,T=x.data(w);u={initialize:function(){u.debug("Initializing video"),u.create(),C.on("click"+y,u.play),k.on("click"+y,u.play),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),T=u,x.data(w,u)},create:function(){var e=x.data(g.image),t=b.video(e);x.html(t),u.refresh(),e||u.play(),u.debug("Creating html for video element",t)},destroy:function(){u.verbose("Destroying previous instance of video"),u.reset(),x.removeData(w).off(y),C.off(y),k.off(y)},refresh:function(){u.verbose("Refreshing selector cache"),C=x.find(f.placeholder),k=x.find(f.playButton),_=x.find(f.embed)},change:function(e,t,i){u.debug("Changing video to ",e,t,i),x.data(g.source,e).data(g.id,t).data(g.url,i),h.onChange()},reset:function(){u.debug("Clearing video embed and showing placeholder"),x.removeClass(p.active),_.html(" "),C.show(),h.onReset()},play:function(){u.debug("Playing video");var e=x.data(g.source)||!1,t=x.data(g.url)||!1,i=x.data(g.id)||!1;_.html(u.generate.html(e,i,t)),x.addClass(p.active),h.onPlay()},get:{source:function(e){return"string"==typeof e&&(-1!==e.search("youtube.com")?"youtube":-1!==e.search("vimeo.com")&&"vimeo")},id:function(e){return e.match(h.regExp.youtube)?e.match(h.regExp.youtube)[1]:!!e.match(h.regExp.vimeo)&&e.match(h.regExp.vimeo)[2]}},generate:{html:function(e,t,i){var n;return u.debug("Generating embed html"),e=e||h.source,t=t||h.id,e&&t||i?(e&&t||(e=u.get.source(i),t=u.get.id(i)),"vimeo"==e?n='<iframe src="//player.vimeo.com/video/'+t+"?="+u.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(n='<iframe src="//www.youtube.com/embed/'+t+"?="+u.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):u.error(m.noVideo),n},url:function(e){var t=h.api?1:0,i="auto"===h.autoplay?void 0!==x.data("image"):h.autoplay,n=h.hd?1:0,o=h.showUI?1:0,s=h.showUI?0:1,a="";return"vimeo"==e&&(a="api="+t+"&amp;title="+o+"&amp;byline="+o+"&amp;portrait="+o+"&amp;autoplay="+i,h.color&&(a+="&amp;color="+h.color)),"ustream"==e?(a="autoplay="+i,h.color&&(a+="&amp;color="+h.color)):"youtube"==e&&(a="enablejsapi="+t+"&amp;autoplay="+i+"&amp;autohide="+s+"&amp;hq="+n+"&amp;modestbranding=1",h.color&&(a+="&amp;color="+h.color)),a}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=T;return i=i||d,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(m.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===T&&u.initialize(),u.invoke(l)):(void 0!==T&&T.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},e.fn.video.settings.templates={video:function(e){var t="";return e&&(t+='<i class="video play icon"></i><img class="placeholder" src="'+e+'">'),t+='<div class="embed"></div>'}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.api=e.fn.api=function(i){var n,o=e.isFunction(this)?e(t):e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var t,o,u,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.api.settings,i):e.extend({},e.fn.api.settings),f=h.namespace,p=h.metadata,m=h.selector,g=h.error,v=h.className,b="."+f,y="module-"+f,w=e(this),x=w.closest(m.form),C=h.stateContext?e(h.stateContext):w,k=this,_=C.get(),S=w.data(y);u={initialize:function(){var e=u.get.event();c||(e?(u.debug("Attaching API events to element",e),w.on(e+b,u.event.trigger)):"now"==h.on&&(u.debug("Querying API now",e),u.query())),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),S=u,w.data(y,S)},destroy:function(){u.verbose("Destroying previous module for",k),w.removeData(y).off(b)},query:function(){if(u.is.disabled())u.debug("Element is disabled API request aborted");else if(u.is.loading()&&0===h.throttle)u.debug("Cancelling request, previous request is still pending");else{if(h.defaultData&&e.extend(!0,h.urlData,u.get.defaultData()),(!1!==h.serializeForm||C.is("form"))&&("json"==h.serializeForm?e.extend(!0,h.data,u.get.formData()):h.data=u.get.formData()),!1===u.get.settings())return u.cancelled=!0,void u.error(g.beforeSend);if(u.cancelled=!1,h.url?(u.debug("Using specified url",o),o=u.add.urlData(h.url)):(o=u.add.urlData(u.get.templateURL()),u.debug("Added URL Data to url",o)),!o){if(!u.is.form())return void u.error(g.missingURL,h.action);o=w.attr("action")||"",u.debug("No url or action specified, defaulting to form action",o)}u.set.loading(),t=e.extend(!0,{},h,{type:h.method||h.type,data:void 0,url:h.base+o,beforeSend:h.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),u.debug("Querying URL",t.url),u.debug("Sending data",void 0,t.method),u.verbose("Using AJAX settings",t),u.is.loading()?u.timer=setTimeout(function(){u.request=u.create.request(),u.xhr=u.create.xhr(),h.onRequest.call(_,u.request,u.xhr)},h.throttle):(u.request=u.create.request(),u.xhr=u.create.xhr(),h.onRequest.call(_,u.request,u.xhr))}},is:{disabled:function(){return w.filter(h.filter).length>0},form:function(){return w.is("form")},input:function(){return w.is("input")},loading:function(){return u.request&&"pending"==u.request.state()}},was:{cancelled:function(){return u.cancelled||!1},succesful:function(){return u.request&&"resolved"==u.request.state()},failure:function(){return u.request&&"rejected"==u.request.state()},complete:function(){return u.request&&("resolved"==u.request.state()||"rejected"==u.request.state())}},add:{urlData:function(t,i){var n,o;return t&&(n=t.match(h.regExp.required),o=t.match(h.regExp.optional),i=i||h.urlData,n&&(u.debug("Looking for required URL variables",n),e.each(n,function(n,o){var s=-1!==o.indexOf("$")?o.substr(2,o.length-3):o.substr(1,o.length-2),a=e.isPlainObject(i)&&void 0!==i[s]?i[s]:void 0!==w.data(s)?w.data(s):void 0!==C.data(s)?C.data(s):i[s];if(void 0===a)return u.error(g.requiredParameter,s,t),t=!1,!1;u.verbose("Found required variable",s,a),t=t.replace(o,a)})),o&&(u.debug("Looking for optional URL variables",n),e.each(o,function(n,o){var s=-1!==o.indexOf("$")?o.substr(3,o.length-4):o.substr(2,o.length-3),a=e.isPlainObject(i)&&void 0!==i[s]?i[s]:void 0!==w.data(s)?w.data(s):void 0!==C.data(s)?C.data(s):i[s];void 0!==a?(u.verbose("Optional variable Found",s,a),t=t.replace(o,a)):(u.verbose("Optional variable not found",s),t=-1!==t.indexOf("/"+o)?t.replace("/"+o,""):t.replace(o,""))}))),t}},event:{trigger:function(e){u.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(e){var t=this,i=(new Date).getTime()-a,n=h.loadingDuration-i;n=n>0?n:0,setTimeout(function(){u.request.resolveWith(t,[e])},n)},fail:function(e,t,i){var n=this,o=(new Date).getTime()-a,s=h.loadingDuration-o;s=s>0?s:0,setTimeout(function(){"abort"!==t?u.request.rejectWith(n,[e,t,i]):u.reset()},s)}},request:{complete:function(e){u.remove.loading(),h.onComplete.call(_,e,w)},done:function(t){u.debug("API Response Received",t),"json"==h.dataType&&e.isFunction(h.successTest)?(u.debug("Checking JSON returned success",h.successTest,t),h.successTest(t)?h.onSuccess.call(_,t,w):(u.debug("JSON test specified by user and response failed",t),h.onFailure.call(_,t,w))):h.onSuccess.call(_,t,w)},error:function(i,n,o){var s,a=void 0!==h.error[n]?h.error[n]:o;if(void 0!==i)if(void 0!==i.readyState&&4==i.readyState){if(200!=i.status&&void 0!==o&&""!==o)u.error(g.statusMessage+o,t.url);else if("error"==n&&"json"==h.dataType)try{(s=e.parseJSON(i.responseText))&&void 0!==s.error&&(a=s.error)}catch(e){u.error(g.JSONParse)}u.remove.loading(),u.set.error(),h.errorDuration&&setTimeout(u.remove.error,h.errorDuration),u.debug("API Request error:",a),h.onError.call(_,a,w)}else h.onAbort.call(_,a,w),u.debug("Request Aborted (Most likely caused by page change or CORS Policy)",n,o)}}},create:{request:function(){return e.Deferred().always(u.event.request.complete).done(u.event.request.done).fail(u.event.request.error)},xhr:function(){return e.ajax(t).always(u.event.xhr.always).done(u.event.xhr.done).fail(u.event.xhr.fail)}},set:{error:function(){u.verbose("Adding error state to element",C),C.addClass(v.error)},loading:function(){u.verbose("Adding loading state to element",C),C.addClass(v.loading)}},remove:{error:function(){u.verbose("Removing error state from element",C),C.removeClass(v.error)},loading:function(){u.verbose("Removing loading state from element",C),C.removeClass(v.loading)}},get:{request:function(){return u.request||!1},xhr:function(){return u.xhr||!1},settings:function(){var e;return(e=h.beforeSend.call(w,h))&&(void 0!==e.success&&(u.debug("Legacy success callback detected",e),u.error(g.legacyParameters,e.success),e.onSuccess=e.success),void 0!==e.failure&&(u.debug("Legacy failure callback detected",e),u.error(g.legacyParameters,e.failure),e.onFailure=e.failure),void 0!==e.complete&&(u.debug("Legacy complete callback detected",e),u.error(g.legacyParameters,e.complete),e.onComplete=e.complete)),void 0===e&&u.error(g.noReturnedValue),void 0!==e?e:h},defaultData:function(){var t={};return e.isWindow(k)||(u.is.input()?t.value=w.val():u.is.form()&&(t.text=w.text())),t},event:function(){return e.isWindow(k)||"now"==h.on?(u.debug("API called without element, no events attached"),!1):"auto"==h.on?w.is("input")?void 0!==k.oninput?"input":void 0!==k.onpropertychange?"propertychange":"keyup":w.is("form")?"submit":"click":h.on},formData:function(){var e;return void 0!==w.serializeObject?e=x.serializeObject():(u.error(g.missingSerialize),e=x.serialize()),u.debug("Retrieved form data",e),e},templateURL:function(e){var t;return(e=e||w.data(p.action)||h.action||!1)&&(u.debug("Looking up url for action",e,h.api),void 0!==h.api[e]?(t=h.api[e],u.debug("Found template url",t)):u.is.form()||u.error(g.missingAction,h.action,h.api)),t}},abort:function(){var e=u.get.xhr();e&&"resolved"!==e.state()&&(u.debug("Cancelling API request"),e.abort(),u.request.rejectWith(h.apiSettings))},reset:function(){u.remove.error(),u.remove.loading()},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=S;return i=i||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===S&&u.initialize(),u.invoke(l)):(void 0!==S&&S.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:"get",data:{},dataType:"json",beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},e.api.settings.api={}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.state=function(t){var n,o=e(this),s=o.selector||"",a=(i.documentElement,(new Date).getTime()),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var i,u=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),h=u.error,f=u.metadata,p=u.className,m=u.namespace,g=u.states,v=u.text,b="."+m,y=m+"-module",w=e(this),x=this,C=w.data(y);i={initialize:function(){i.verbose("Initializing module"),u.automatic&&i.add.defaults(),u.context&&""!==s?e(u.context).on(s,"mouseenter"+b,i.change.text).on(s,"mouseleave"+b,i.reset.text).on(s,"click"+b,i.toggle.state):w.on("mouseenter"+b,i.change.text).on("mouseleave"+b,i.reset.text).on("click"+b,i.toggle.state),i.instantiate()},instantiate:function(){i.verbose("Storing instance of module",i),C=i,w.data(y,i)},destroy:function(){i.verbose("Destroying previous module",C),w.off(b).removeData(y)},refresh:function(){i.verbose("Refreshing selector cache"),w=e(x)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(u.defaults,function(t,o){void 0!==i.is[t]&&i.is[t]()&&(i.verbose("Adding default states",t,x),e.extend(u.states,o,n))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},state:function(e){return void 0!==p[e]&&w.hasClass(p[e])},enabled:function(){return!w.is(u.filter.active)},disabled:function(){return w.is(u.filter.active)},textEnabled:function(){return!w.is(u.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(e){i.debug("Now allowing state",e),g[e]=!0},disallow:function(e){i.debug("No longer allowing",e),g[e]=!1},allows:function(e){return g[e]||!1},enable:function(){w.removeClass(p.disabled)},disable:function(){w.addClass(p.disabled)},setState:function(e){i.allows(e)&&w.addClass(p[e])},removeState:function(e){i.allows(e)&&w.removeClass(p[e])},toggle:{state:function(){var t;if(i.allows("active")&&i.is.enabled()){if(i.refresh(),void 0!==e.fn.api)if(t=w.api("get request"),w.api("was cancelled"))i.debug("API Request cancelled by beforesend"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1};else if(t)return void i.listenTo(t);i.change.state()}}},listenTo:function(t){i.debug("API request detected, waiting for state signal",t),t&&(v.loading&&i.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(i.debug("API request succeeded"),u.activateTest=function(){return!0},u.deactivateTest=function(){return!0}):(i.debug("API request failed"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1}),i.change.state()}))},change:{state:function(){i.debug("Determining state change direction"),i.is.inactive()?i.activate():i.deactivate(),u.sync&&i.sync(),u.onChange.call(x)},text:function(){i.is.textEnabled()&&(i.is.disabled()?(i.verbose("Changing text to disabled text",v.hover),i.update.text(v.disabled)):i.is.active()?v.hover?(i.verbose("Changing text to hover text",v.hover),i.update.text(v.hover)):v.deactivate&&(i.verbose("Changing text to deactivating text",v.deactivate),i.update.text(v.deactivate)):v.hover?(i.verbose("Changing text to hover text",v.hover),i.update.text(v.hover)):v.activate&&(i.verbose("Changing text to activating text",v.activate),i.update.text(v.activate)))}},activate:function(){u.activateTest.call(x)&&(i.debug("Setting state to active"),w.addClass(p.active),i.update.text(v.active),u.onActivate.call(x))},deactivate:function(){u.deactivateTest.call(x)&&(i.debug("Setting state to inactive"),w.removeClass(p.active),i.update.text(v.inactive),u.onDeactivate.call(x))},sync:function(){i.verbose("Syncing other buttons to current state"),i.is.active()?o.not(w).state("activate"):o.not(w).state("deactivate")},get:{text:function(){return u.selector.text?w.find(u.selector.text).text():w.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t,n){var o=i.get.text();i.debug("Flashing text message",e,t),e=e||u.text.flash,t=t||u.flashDuration,n=n||function(){},i.update.text(e),setTimeout(function(){i.update.text(o),n.call(x)},t)}},reset:{text:function(){var e=v.active||w.data(f.storedText),t=v.inactive||w.data(f.storedText);i.is.textEnabled()&&(i.is.active()&&e?(i.verbose("Resetting active text",e),i.update.text(e)):t&&(i.verbose("Resetting inactive text",e),i.update.text(t)))}},update:{text:function(e){var t=i.get.text();e&&e!==t?(i.debug("Updating text",e),u.selector.text?w.data(f.storedText,e).find(u.selector.text).text(e):w.data(f.storedText,e).html(e)):i.debug("Text is already set, ignoring update",e)}},setting:function(t,n){if(i.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===n)return u[t];u[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,i,t);else{if(void 0===n)return i[t];i[t]=n}},debug:function(){u.debug&&(u.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,u.name+":"),i.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,u.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,100)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(i.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,o,s){var a,r,l,c=C;return o=o||d,s=x||s,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var s=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[s])&&n!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[o])||n==a)return void 0!==c[o]?(r=c[o],!1):(i.error(h.method,t),!1);c=c[o]}})),e.isFunction(r)?l=r.apply(s,o):void 0!==r&&(l=r),e.isArray(n)?n.push(l):void 0!==n?n=[n,l]:void 0!==l&&(n=l),r}},c?(void 0===C&&i.initialize(),i.invoke(l)):(void 0!==C&&C.invoke("destroy"),i.initialize())}),void 0!==n?n:this},e.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,i,n){"use strict";e.fn.visibility=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return s.each(function(){var s,h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.visibility.settings,n):e.extend({},e.fn.visibility.settings),p=f.className,m=f.namespace,g=f.error,v="."+m,b="module-"+m,y=e(t),w=e(this),x=e(f.context),C=(w.selector,w.data(b)),k=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},_=this;h={initialize:function(){h.debug("Initializing",f),h.setup.cache(),h.save.position(),h.should.trackChanges()&&(h.bind.events(),"image"==f.type&&h.setup.image(),"fixed"==f.type&&h.setup.fixed(),f.observeChanges&&h.observeChanges(),h.is.visible()||h.error(g.visible,w)),f.initialCheck&&h.checkVisibility(),h.instantiate()},instantiate:function(){h.debug("Storing instance",h),w.data(b,h),C=h},destroy:function(){h.verbose("Destroying previous module"),s&&s.disconnect(),y.off("load"+v,h.event.load).off("resize"+v,h.event.resize),x.off("scrollchange"+v,h.event.scrollchange),w.off(v).removeData(b)},observeChanges:function(){x[0];"MutationObserver"in t&&((s=new MutationObserver(function(e){h.verbose("DOM tree modified, updating visibility calculations"),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)})).observe(_,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",s))},bind:{events:function(){h.verbose("Binding visibility events to scroll and resize"),y.on("load"+v,h.event.load).on("resize"+v,h.event.resize),x.off("scroll"+v).on("scroll"+v,h.event.scroll).on("scrollchange"+v,h.event.scrollchange)},imageLoad:function(){var t=w.find("img"),n=t.length,o=n,s=0,a=[],r=[],l=i.createElement("img"),c=function(){++s>=n&&(h.debug("Images finished loading inside element, refreshing position"),h.refresh())};if(n>0)for(t.each(function(){a.push(e(this).attr("src"))});o--;)(l=i.createElement("img")).onload=c,l.onerror=c,l.src=a[o],r.push(l)}},event:{resize:function(){h.debug("Window resized"),k(h.refresh)},load:function(){h.debug("Page finished loading"),k(h.refresh)},scroll:function(){f.throttle?(clearTimeout(h.timer),h.timer=setTimeout(function(){x.trigger("scrollchange"+v,[x.scrollTop()])},f.throttle)):k(function(){x.trigger("scrollchange"+v,[x.scrollTop()])})},scrollchange:function(e,t){h.checkVisibility(t)}},precache:function(t,n){t instanceof Array||(t=[t]);for(var o=t.length,s=0,a=[],r=i.createElement("img"),l=function(){++s>=t.length&&e.isFunction(n)&&n()};o--;)(r=i.createElement("img")).onload=l,r.onerror=l,r.src=t[o],a.push(r)},should:{trackChanges:function(){return d?(h.debug("One time query, no need to bind events"),!1):(h.debug("Callbacks being attached"),!0)}},setup:{cache:function(){h.cache={occurred:{},screen:{},element:{}}},image:function(){var e=w.data("src");e&&(h.verbose("Lazy loading image",e),f.observeChanges=!1,h.topVisible(function(){h.debug("Image top visible",_),h.precache(e,function(){h.set.image(e),f.onTopVisible=!1})}))},fixed:function(){h.verbose("Setting up fixed on element pass"),f.once=!1,f.onTopPassed=function(){w.addClass(p.fixed).css({top:f.offset+"px"}),f.transition&&void 0!==e.fn.transition&&w.transition(f.transition,f.duration)},f.onTopPassedReverse=function(){w.removeClass(p.fixed).css({position:"",top:""})}}},set:{image:function(t){var i=h.cache.screen.bottom<h.cache.element.top;w.attr("src",t),i?(h.verbose("Image outside browser, no show animation"),w.show()):f.transition?void 0!==e.fn.transition?w.transition(f.transition,f.duration):w.fadeIn(f.duration):w.show()}},is:{visible:function(){return!(!h.cache||!h.cache.element)&&h.cache.element.width>0}},refresh:function(){h.debug("Refreshing constants (width/height)"),h.reset(),h.save.position(),h.checkVisibility(),f.onRefresh.call(_)},reset:function(){h.verbose("Reseting all cached values"),e.isPlainObject(h.cache)&&(h.cache.screen={},h.cache.element={})},checkVisibility:function(e){h.verbose("Checking visibility of element",h.cache.element),h.is.visible()&&(h.save.scroll(e),h.save.calculations(),h.passed(),h.passingReverse(),h.topVisibleReverse(),h.bottomVisibleReverse(),h.topPassedReverse(),h.bottomPassedReverse(),h.passing(),h.topVisible(),h.bottomVisible(),h.topPassed(),h.bottomPassed(),f.onUpdate&&f.onUpdate.call(_,h.get.elementCalculations()))},passed:function(t,i){var n=h.get.elementCalculations();if(void 0!==t&&void 0!==i)f.onPassed[t]=i;else{if(void 0!==t)return h.get.pixelsPassed(t)>n.pixelsPassed;n.passing&&e.each(f.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>h.get.pixelsPassed(e)?h.execute(t,e):f.once||h.remove.occurred(t)})}},passing:function(e){var t=h.get.elementCalculations(),i=e||f.onPassing;if(e&&(h.debug("Adding callback for passing",e),f.onPassing=e),t.passing?h.execute(i,"passing"):f.once||h.remove.occurred("passing"),void 0!==e)return t.passing},topVisible:function(e){var t=h.get.elementCalculations(),i=e||f.onTopVisible;if(e&&(h.debug("Adding callback for top visible",e),f.onTopVisible=e),t.topVisible?h.execute(i,"topVisible"):f.once||h.remove.occurred("topVisible"),void 0===e)return t.topVisible},bottomVisible:function(e){var t=h.get.elementCalculations(),i=e||f.onBottomVisible;if(e&&(h.debug("Adding callback for bottom visible",e),f.onBottomVisible=e),t.bottomVisible?h.execute(i,"bottomVisible"):f.once||h.remove.occurred("bottomVisible"),void 0===e)return t.bottomVisible},topPassed:function(e){var t=h.get.elementCalculations(),i=e||f.onTopPassed;if(e&&(h.debug("Adding callback for top passed",e),f.onTopPassed=e),t.topPassed?h.execute(i,"topPassed"):f.once||h.remove.occurred("topPassed"),void 0===e)return t.topPassed},bottomPassed:function(e){var t=h.get.elementCalculations(),i=e||f.onBottomPassed;if(e&&(h.debug("Adding callback for bottom passed",e),f.onBottomPassed=e),t.bottomPassed?h.execute(i,"bottomPassed"):f.once||h.remove.occurred("bottomPassed"),void 0===e)return t.bottomPassed},passingReverse:function(e){var t=h.get.elementCalculations(),i=e||f.onPassingReverse;if(e&&(h.debug("Adding callback for passing reverse",e),f.onPassingReverse=e),t.passing?f.once||h.remove.occurred("passingReverse"):h.get.occurred("passing")&&h.execute(i,"passingReverse"),void 0!==e)return!t.passing},topVisibleReverse:function(e){var t=h.get.elementCalculations(),i=e||f.onTopVisibleReverse;if(e&&(h.debug("Adding callback for top visible reverse",e),f.onTopVisibleReverse=e),t.topVisible?f.once||h.remove.occurred("topVisibleReverse"):h.get.occurred("topVisible")&&h.execute(i,"topVisibleReverse"),void 0===e)return!t.topVisible},bottomVisibleReverse:function(e){var t=h.get.elementCalculations(),i=e||f.onBottomVisibleReverse;if(e&&(h.debug("Adding callback for bottom visible reverse",e),f.onBottomVisibleReverse=e),t.bottomVisible?f.once||h.remove.occurred("bottomVisibleReverse"):h.get.occurred("bottomVisible")&&h.execute(i,"bottomVisibleReverse"),void 0===e)return!t.bottomVisible},topPassedReverse:function(e){var t=h.get.elementCalculations(),i=e||f.onTopPassedReverse;if(e&&(h.debug("Adding callback for top passed reverse",e),f.onTopPassedReverse=e),t.topPassed?f.once||h.remove.occurred("topPassedReverse"):h.get.occurred("topPassed")&&h.execute(i,"topPassedReverse"),void 0===e)return!t.onTopPassed},bottomPassedReverse:function(e){var t=h.get.elementCalculations(),i=e||f.onBottomPassedReverse;if(e&&(h.debug("Adding callback for bottom passed reverse",e),f.onBottomPassedReverse=e),t.bottomPassed?f.once||h.remove.occurred("bottomPassedReverse"):h.get.occurred("bottomPassed")&&h.execute(i,"bottomPassedReverse"),void 0===e)return!t.bottomPassed},execute:function(e,t){var i=h.get.elementCalculations(),n=h.get.screenCalculations();(e=e||!1)&&(f.continuous?(h.debug("Callback being called continuously",t,i),e.call(_,i,n)):h.get.occurred(t)||(h.debug("Conditions met",t,i),e.call(_,i,n))),h.save.occurred(t)},remove:{occurred:function(e){e?void 0!==h.cache.occurred[e]&&!0===h.cache.occurred[e]&&(h.debug("Callback can now be called again",e),h.cache.occurred[e]=!1):h.cache.occurred={}}},save:{calculations:function(){h.verbose("Saving all calculations necessary to determine positioning"),h.save.direction(),h.save.screenCalculations(),h.save.elementCalculations()},occurred:function(e){e&&(void 0!==h.cache.occurred[e]&&!0===h.cache.occurred[e]||(h.verbose("Saving callback occurred",e),h.cache.occurred[e]=!0))},scroll:function(e){e=e+f.offset||x.scrollTop()+f.offset,h.cache.scroll=e},direction:function(){var e,t=h.get.scroll(),i=h.get.lastScroll();return e=t>i&&i?"down":t<i&&i?"up":"static",h.cache.direction=e,h.cache.direction},elementPosition:function(){var e=h.cache.element,t=h.get.screenSize();return h.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=w.offset(),e.width=w.outerWidth(),e.height=w.outerHeight(),h.cache.element=e,e},elementCalculations:function(){var e=h.get.screenCalculations(),t=h.get.elementPosition();return f.includeMargin?(t.margin={},t.margin.top=parseInt(w.css("margin-top"),10),t.margin.bottom=parseInt(w.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.visible=t.topVisible||t.bottomVisible,t.passing=t.topPassed&&!t.bottomPassed,t.hidden=!t.topVisible&&!t.bottomVisible,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),h.cache.element=t,h.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=h.get.scroll();return h.save.direction(),h.cache.screen.top=e,h.cache.screen.bottom=e+h.cache.screen.height,h.cache.screen},screenSize:function(){h.verbose("Saving window position"),h.cache.screen={height:x.height()}},position:function(){h.save.screenSize(),h.save.elementPosition()}},get:{pixelsPassed:function(e){var t=h.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==h.cache.occurred&&h.cache.occurred[e]||!1},direction:function(){return void 0===h.cache.direction&&h.save.direction(),h.cache.direction},elementPosition:function(){return void 0===h.cache.element&&h.save.elementPosition(),h.cache.element},elementCalculations:function(){return void 0===h.cache.element&&h.save.elementCalculations(),h.cache.element},screenCalculations:function(){return void 0===h.cache.screen&&h.save.screenCalculations(),h.cache.screen},screenSize:function(){return void 0===h.cache.screen&&h.save.screenSize(),h.cache.screen},scroll:function(){return void 0===h.cache.scroll&&h.save.scroll(),h.cache.scroll},lastScroll:function(){return void 0===h.cache.screen?(h.debug("First scroll event, no last scroll could be found"),!1):h.cache.screen.top}},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,i;f.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",i=0;r=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=C;return i=i||u,n=_||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(h.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===C&&h.initialize(),h.invoke(c)):(void 0!==C&&C.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:"fixed"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),window.SidebarMenuEffects=function(){var e,t,i,n,o,s,a,r;i=document.getElementById("st-container"),n=document.getElementById("body"),t=!1,e=navigator.userAgent||navigator.vendor||window.opera,(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),o=t?"touchstart":"click",s=function(){classie.remove(i,"st-menu-open"),classie.remove(n,"overflow-hidden")},a=function(e){(function e(t,i){return t!==document&&(!!classie.has(t,i)||t.parentNode&&e(t.parentNode,i))})(e.target,"st-menu")||(s(),document.removeEventListener(o,a))},r=function(e){e.stopPropagation(),e.preventDefault();var t=$(this).data("effect");i.className="st-container",classie.add(i,t),setTimeout(function(){classie.add(i,"st-menu-open"),classie.add(n,"overflow-hidden")},25),document.addEventListener(o,a)},$(".js-st-trigger-effects").each(function(e,t){$(t).off(o,r).on(o,r)}),$(".st-menu-content").off("click","#st-apply, #st-cancel",s).on("click","#st-apply, #st-cancel",s)},SidebarMenuEffects(),function(e){var t=function(t,i){this.element=e(t),this.picker=e('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||i.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var n=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}switch(this.min=this.element.data("slider-min")||i.min,this.max=this.element.data("slider-max")||i.max,this.step=this.element.data("slider-step")||i.step,this.value=this.element.data("slider-value")||i.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||i.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style,this.element.data("slider-handle")||i.handle){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.layout(),this.touchCapable?this.picker.on({touchstart:e.proxy(this.mousedown,this)}):this.picker.on({mousedown:e.proxy(this.mousedown,this)}),"show"===n?this.picker.on({mouseenter:e.proxy(this.showTooltip,this),mouseleave:e.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){!1===this.inDrag&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var i=this.getPercentage(t);if(this.range){var n=Math.abs(this.percentage[0]-i),o=Math.abs(this.percentage[1]-i);this.dragged=n<o?0:1}else this.dragged=0;this.percentage[this.dragged]=i,this.layout(),this.touchCapable?e(document).on({touchmove:e.proxy(this.mousemove,this),touchend:e.proxy(this.mouseup,this)}):e(document).on({mousemove:e.proxy(this.mousemove,this),mouseup:e.proxy(this.mouseup,this)}),this.inDrag=!0;var s=this.calculateValue();return this.element.trigger({type:"slideStart",value:s}).trigger({type:"slide",value:s}),!1},mousemove:function(e){this.touchCapable&&"touchmove"===e.type&&(e=e.originalEvent);var t=this.getPercentage(e);this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout();var i=this.calculateValue();return this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(t){this.touchCapable?e(document).off({touchmove:this.mousemove,touchend:this.mouseup}):e(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var i=this.calculateValue();return this.element.trigger({type:"slideStop",value:i}).data("value",i).prop("value",i),!1},calculateValue:function(){var e;return this.range?(e=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=e):(e=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[e,this.value[1]]),e},getPercentage:function(e){this.touchCapable&&(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(e){this.value=e,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},e.fn.slider=function(i,n){return this.each(function(){var o=e(this),s=o.data("slider"),a="object"==typeof i&&i;s||o.data("slider",s=new t(this,e.extend({},e.fn.slider.defaults,a))),"string"==typeof i&&s[i](n)})},e.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(e){return e}},e.fn.slider.Constructor=t}(window.jQuery),function(e,t,i,n){"use strict";e.fn.dropdown=function(n){var o,s=e(this),a=e(i),r=s.selector||"",l="ontouchstart"in i.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],h="string"==typeof u,f=[].slice.call(arguments,1);return s.each(function(){var p,m,g,v,b=e.isPlainObject(n)?e.extend(!0,{},e.fn.dropdown.settings,n):e.extend({},e.fn.dropdown.settings),y=b.className,w=b.metadata,x=b.namespace,C=b.selector,k=b.error,_="."+x,S="module-"+x,T=e(this),P=T.find(C.text),E=T.find(C.search),A=T.find(C.input),F=T.prev().find(C.text).length>0?T.prev().find(C.text):T.prev(),O=T.children(C.menu),M=O.find(C.item),D=!1,R=!1,I=this,z=T.data(S);v={initialize:function(){v.debug("Initializing dropdown",b),v.is.alreadySetup()?v.setup.reference():(v.setup.layout(),v.save.defaults(),v.set.selected(),v.create.id(),l&&v.bind.touchEvents(),v.bind.mouseEvents(),v.bind.keyboardEvents(),v.observeChanges(),v.instantiate())},instantiate:function(){v.verbose("Storing instance of dropdown",v),z=v,T.data(S,v)},destroy:function(){v.verbose("Destroying previous dropdown for",T),v.remove.tabbable(),T.off(_).removeData(S),O.off(_),a.off(p)},observeChanges:function(){"MutationObserver"in t&&((g=new MutationObserver(function(e){v.is.selectMutation(e)?(v.debug("<select> modified, recreating menu"),v.setup.select()):(v.debug("DOM tree modified, updating selector cache"),v.refresh())})).observe(I,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",g))},create:{id:function(){m=(Math.random().toString(16)+"000000000").substr(2,8),p="."+m,v.verbose("Creating unique id for element",m)}},search:function(){var e;e=E.val(),v.verbose("Searching for query",e),v.filter(e),v.is.searchSelection()&&v.can.show()&&v.show()},setup:{layout:function(){T.is("select")&&v.setup.select(),v.is.search()&&!v.is.searchable()&&(E=e("<input />").addClass(y.search).insertBefore(P)),b.allowTab&&v.set.tabbable()},select:function(){var t=v.get.selectValues();v.debug("Dropdown initialized on a select",t),T.is("select")&&(A=T),A.parent(C.dropdown).length>0?(v.debug("UI dropdown already exists. Creating dropdown menu only"),T=A.closest(C.dropdown),0===(O=T.children(C.menu)).length&&(O=e("<div />").addClass(y.menu).appendTo(T)),O.html(b.templates.menu(t))):(v.debug("Creating entire dropdown from select"),T=e("<div />").attr("class",A.attr("class")).addClass(y.selection).addClass(y.dropdown).html(b.templates.dropdown(t)).insertBefore(A),A.removeAttr("class").prependTo(T)),v.refresh()},reference:function(){var e,t,i=s.index(T);v.debug("Dropdown behavior was called on select, replacing with closest dropdown"),T=T.parent(C.dropdown),v.refresh(),e=s.slice(0,i),t=s.slice(i+1),s=e.add(T).add(t),h&&(z=v,v.invoke(u))}},refresh:function(){v.verbose("Refreshing selector cache"),P=T.find(C.text),E=T.find(C.search),A=T.find(C.input),F=T.prev().find(C.text).length>0?T.prev().find(C.text):T.prev(),O=T.children(C.menu),M=O.find(C.item)},toggle:function(){v.verbose("Toggling menu visibility"),v.is.active()?v.hide():v.show()},show:function(t){t=e.isFunction(t)?t:function(){},v.is.searchSelection()&&v.is.allFiltered()||v.can.show()&&!v.is.active()&&(v.debug("Showing dropdown"),v.animate.show(function(){v.can.click()&&v.bind.intent(),v.fixOffset(),v.set.visible(),t.call(I)}),b.onShow.call(I))},hide:function(t){t=e.isFunction(t)?t:function(){},v.is.active()&&(v.debug("Hiding dropdown"),v.animate.hide(function(){v.remove.visible(),t.call(I)}),b.onHide.call(I))},hideOthers:function(){v.verbose("Finding other dropdowns to hide"),s.not(T).has(C.menu+":visible:not(."+y.animating+")").dropdown("hide")},hideSubMenus:function(){O.find(C.menu).transition("hide")},bind:{keyboardEvents:function(){v.debug("Binding keyboard events"),T.on("keydown"+_,v.event.keydown),v.is.searchable()&&T.on(v.get.inputEvent(),C.search,v.event.input)},touchEvents:function(){v.debug("Touch device detected binding additional touch events"),v.is.searchSelection()||T.on("touchstart"+_,v.event.test.toggle),O.on("touchstart"+_,C.item,v.event.item.mouseenter)},mouseEvents:function(){v.verbose("Mouse detected binding mouse events"),v.is.searchSelection()?T.on("mousedown"+_,C.menu,v.event.menu.activate).on("mouseup"+_,C.menu,v.event.menu.deactivate).on("click"+_,C.search,v.show).on("focus"+_,C.search,v.event.searchFocus).on("blur"+_,C.search,v.event.searchBlur).on("click"+_,C.text,v.event.searchTextFocus):("click"==b.on?T.on("click"+_,v.event.test.toggle):"hover"==b.on?T.on("mouseenter"+_,v.delay.show).on("mouseleave"+_,v.delay.hide):T.on(b.on+_,v.toggle),T.on("mousedown"+_,v.event.mousedown).on("mouseup"+_,v.event.mouseup).on("focus"+_,v.event.focus).on("blur"+_,v.event.blur)),O.on("mouseenter"+_,C.item,v.event.item.mouseenter).on("mouseleave"+_,C.item,v.event.item.mouseleave).on("click"+_,C.item,v.event.item.click)},intent:function(){v.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+p,v.event.test.touch).on("touchmove"+p,v.event.test.touch),a.on("click"+p,v.event.test.hide)}},unbind:{intent:function(){v.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+p).off("touchmove"+p),a.off("click"+p)}},filter:function(t){var i=e(),n=v.escape.regExp(t),o=new RegExp("^"+n,"igm"),s=new RegExp(n,"ig");v.verbose("Searching for matching values"),M.each(function(){var t=e(this),n=String(v.get.choiceText(t,!1)),a=String(v.get.choiceValue(t,n));n.match(o)||a.match(o)?i=i.add(t):b.fullTextSearch&&(n.match(s)||a.match(s))&&(i=i.add(t))}),v.debug("Setting filter",t),v.remove.filteredItem(),M.not(i).addClass(y.filtered),v.verbose("Selecting first non-filtered element"),v.remove.selectedItem(),M.not("."+y.filtered).eq(0).addClass(y.selected),v.is.allFiltered()&&(v.debug("All items filtered, hiding dropdown",t),v.is.searchSelection()&&v.hide(),b.onNoResults.call(I,t))},focusSearch:function(){v.is.search()&&E.focus()},forceSelection:function(){var e=M.not(y.filtered).filter("."+y.selected).eq(0),t=M.filter("."+y.active).eq(0),i=e.length>0?e:t;i.size()>0?(v.event.item.click.call(i),v.remove.filteredItem()):v.hide()},event:{mousedown:function(){D=!0},mouseup:function(){D=!1},focus:function(){!D&&v.is.hidden()&&v.show()},blur:function(e){var t=i.activeElement===this;D||t||v.hide()},searchFocus:function(){D=!0,v.show()},searchBlur:function(e){var t=i.activeElement===this;R||t||(b.forceSelection?v.forceSelection():v.hide())},searchTextFocus:function(e){D=!0,E.focus()},input:function(e){v.is.searchSelection()&&v.set.filtered(),clearTimeout(v.timer),v.timer=setTimeout(v.search,b.delay.search)},keydown:function(e){var t,i=M.not(y.filtered).filter("."+y.selected).eq(0),n=O.children("."+y.active).eq(0),o=i.length>0?i:n,s=o.length>0?o.siblings(":not(."+y.filtered+")").andSelf():O.children(":not(."+y.filtered+")"),a=o.children(C.menu),r=o.closest(C.menu),l=r[0]!==O[0],c=r.is(":visible"),d=e.which,u=13,h=27,f=37,p=38,m=39,g=40,w=a.length>0,x=o.length>0;s.size();if(v.is.visible()){if(d==u&&x&&(w&&!b.allowCategorySelection?(v.verbose("Pressed enter on unselectable category, opening sub menu"),d=m):(v.verbose("Enter key pressed, choosing selected item"),v.event.item.click.call(o,e))),d==f&&(l&&(v.verbose("Left key pressed, closing sub-menu"),v.animate.hide(!1,r),o.removeClass(y.selected),r.closest(C.item).addClass(y.selected)),e.preventDefault()),d==m&&(w&&(v.verbose("Right key pressed, opening sub-menu"),v.animate.show(!1,a),o.removeClass(y.selected),a.find(C.item).eq(0).addClass(y.selected)),e.preventDefault()),d==p){if(t=x&&c?o.prevAll(C.item+":not(."+y.filtered+")").eq(0):M.eq(0),s.index(t)<0)return void v.verbose("Up key pressed but reached top of current menu");v.verbose("Up key pressed, changing active item"),o.removeClass(y.selected),t.addClass(y.selected),v.set.scrollPosition(t),e.preventDefault()}if(d==g){if(0===(t=x&&c?t=o.nextAll(C.item+":not(."+y.filtered+")").eq(0):M.eq(0)).length)return void v.verbose("Down key pressed but reached bottom of current menu");v.verbose("Down key pressed, changing active item"),M.removeClass(y.selected),t.addClass(y.selected),v.set.scrollPosition(t),e.preventDefault()}}else d==u&&(v.verbose("Enter key pressed, showing dropdown"),v.show()),d==h&&(v.verbose("Escape key pressed, closing dropdown"),v.hide()),d==g&&(v.verbose("Down key pressed, showing dropdown"),v.show())},test:{toggle:function(e){v.determine.eventInMenu(e,v.toggle)&&e.preventDefault()},touch:function(e){v.determine.eventInMenu(e,function(){"touchstart"==e.type?v.timer=setTimeout(v.hide,b.delay.touch):"touchmove"==e.type&&clearTimeout(v.timer)}),e.stopPropagation()},hide:function(e){v.determine.eventInModule(e,v.hide)}},menu:{activate:function(){R=!0},deactivate:function(){R=!1}},item:{mouseenter:function(t){var i=e(this).children(C.menu),n=e(this).siblings(C.item).children(C.menu);i.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Showing sub-menu",i),e.each(n,function(){v.animate.hide(!1,e(this))}),v.animate.show(!1,i)},b.delay.show),t.preventDefault())},mouseleave:function(t){var i=e(this).children(C.menu);i.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Hiding sub-menu",i),v.animate.hide(!1,i)},b.delay.hide))},click:function(t){var i=e(this),n=e(t?t.target:""),o=i.find(C.menu),s=v.get.choiceText(i),a=v.get.choiceValue(i,s),r=o.length>0;o.find(n).length>0||r&&!b.allowCategorySelection||(v.remove.searchTerm(),v.determine.selectAction(s,a))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,i){v.verbose("Determining action",b.action),e.isFunction(v.action[b.action])?(v.verbose("Triggering preset action",b.action,t,i),v.action[b.action](t,i)):e.isFunction(b.action)?(v.verbose("Triggering user action",b.action,t,i),b.action(t,i)):v.error(k.action,b.action)},eventInModule:function(t,i){return i=e.isFunction(i)?i:function(){},0===e(t.target).closest(T).length?(v.verbose("Triggering event",i),i(),!0):(v.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,i){return i=e.isFunction(i)?i:function(){},0===e(t.target).closest(O).length?(v.verbose("Triggering event",i),i(),!0):(v.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},select:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},combo:function(e,t){t=void 0!==t?t:e,v.set.selected(t),v.hide(function(){v.remove.filteredItem()})},hide:function(){v.hide(function(){v.remove.filteredItem()})}},get:{id:function(){return m},text:function(){return P.text()},value:function(){return A.length>0?A.val():T.data(w.value)},choiceText:function(e,t){if(t=void 0!==t?t:b.preserveHTML,void 0!==e)return e.find(C.menu).length>0&&(v.verbose("Retreiving text of element with sub-menu"),(e=e.clone()).find(C.menu).remove(),e.find(C.menuIcon).remove()),void 0!==e.data(w.text)?e.data(w.text):t?e.html().trim():e.text().trim()},choiceValue:function(e,t){return t=t||v.get.choiceText(e),void 0!==e.data(w.value)?e.data(w.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=E[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=b.sortSelect?{}:[],T.find("option").each(function(){var i=e(this).html(),n=void 0!==e(this).attr("value")?e(this).attr("value"):i;""===n?t.placeholder=i:b.sortSelect?t.values[n]={name:i,value:n}:t.values.push({name:i,value:n})}),b.sortSelect?v.debug("Retrieved and sorted values from select",t):v.debug("Retreived values from select",t),t},activeItem:function(){return M.filter("."+y.active)},item:function(t,i){var n=!1;return t=void 0!==t?t:void 0!==v.get.value()?v.get.value():v.get.text(),i=""===t||0===t||(i||!1),void 0!==t?M.each(function(){var o=e(this),s=v.get.choiceText(o),a=v.get.choiceValue(o,s);if(i){if(v.verbose("Ambiguous dropdown value using strict type check",o,t),a===t)return n=e(this),!0;if(!n&&s===t)return n=e(this),!0}else{if(a==t)return v.verbose("Found select item by value",a,t),n=e(this),!0;if(!n&&s==t)return v.verbose("Found select item by text",s,t),n=e(this),!0}}):t=v.get.text(),n||!1}},restore:{defaults:function(){v.restore.defaultText(),v.restore.defaultValue()},defaultText:function(){var e=T.data(w.defaultText);v.debug("Restoring default text",e),v.set.text(e),P.addClass(y.placeholder)},defaultValue:function(){var e=T.data(w.defaultValue);void 0!==e&&(v.debug("Restoring default value",e),e.length?v.set.selected(e):(v.remove.activeItem(),v.remove.selectedItem()))}},save:{defaults:function(){v.save.defaultText(),v.save.placeholderText(),v.save.defaultValue()},defaultValue:function(){T.data(w.defaultValue,v.get.value())},defaultText:function(){T.data(w.defaultText,P.text())},placeholderText:function(){P.hasClass(y.placeholder)&&T.data(w.placeholderText,P.text())}},clear:function(){var e=T.data(w.placeholderText);v.set.text(e),v.set.value(""),v.remove.activeItem(),v.remove.selectedItem(),P.addClass(y.placeholder)},set:{filtered:function(){var e=E.val();"string"==typeof e&&e.length>0?P.addClass(y.filtered):P.removeClass(y.filtered)},tabbable:function(){v.is.searchable()?(v.debug("Searchable dropdown initialized"),E.val("").attr("tabindex",0),O.attr("tabindex","-1")):(v.debug("Simple selection dropdown initialized"),T.attr("tabindex")||(T.attr("tabindex",0),O.attr("tabindex","-1")))},scrollPosition:function(e,t){var i,n,o,s,a,r;i=(e=e||v.get.activeItem())&&e.length>0,t=void 0!==t&&t,e&&i&&(O.hasClass(y.visible)||O.addClass(y.loading),s=O.height(),e.height(),r=(o=O.scrollTop())+s<(n=o-O.offset().top+e.offset().top)+5,a=n-5<o,v.debug("Scrolling to active item",n),(a||r||t)&&O.scrollTop(n).removeClass(y.loading))},text:function(e){"combo"==b.action?(v.debug("Changing combo button text",e,F),b.preserveHTML?F.html(e):F.text(e)):"select"!==b.action&&(v.debug("Changing text",e,P),P.removeClass(y.filtered).removeClass(y.placeholder),b.preserveHTML?P.html(e):P.text(e))},value:function(e){v.debug("Adding selected value to hidden input",e,A),A.length>0?A.val(e).trigger("change"):T.data(w.value,e)},active:function(){T.addClass(y.active)},visible:function(){T.addClass(y.visible)},selected:function(e){var t,i,n=v.get.item(e);n&&!n.hasClass(y.active)&&(v.debug("Setting selected menu item to",n),v.remove.activeItem(),v.remove.selectedItem(),n.addClass(y.active).addClass(y.selected),t=v.get.choiceText(n),i=v.get.choiceValue(n,t),v.set.text(t),v.set.value(i),b.onChange.call(I,e,t,n))}},remove:{active:function(){T.removeClass(y.active)},visible:function(){T.removeClass(y.visible)},activeItem:function(){M.removeClass(y.active)},filteredItem:function(){M.removeClass(y.filtered)},searchTerm:function(){E.val("")},selectedItem:function(){M.removeClass(y.selected)},tabbable:function(){v.is.searchable()?(v.debug("Searchable dropdown initialized"),E.attr("tabindex","-1"),O.attr("tabindex","-1")):(v.debug("Simple selection dropdown initialized"),T.attr("tabindex","-1"),O.attr("tabindex","-1"))}},is:{active:function(){return T.hasClass(y.active)},alreadySetup:function(){return T.is("select")&&T.parent(C.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):O.is(":animated")||O.transition&&O.transition("is animating")},allFiltered:function(){return M.filter("."+y.filtered).length===M.length},hidden:function(e){return e?e.is(":hidden"):O.is(":hidden")},selectMutation:function(t){var i=!1;return e.each(t,function(t,n){if(n.target&&e(n.target).is("select"))return i=!0,!0}),i},search:function(){return T.hasClass(y.search)},searchable:function(){return E.length>0},searchSelection:function(){return v.is.searchable()&&E.parent().is(T)},selection:function(){return T.hasClass(y.selection)},upward:function(){return T.hasClass(y.upward)},visible:function(e){return e?e.is(":visible"):O.is(":visible")}},can:{click:function(){return l||"click"==b.on},show:function(){return!T.hasClass(y.disabled)}},animate:{show:function(t,i){var n=i||O,o=i?function(){v.fixOffset()}:function(){v.hideSubMenus(),v.hideOthers(),v.set.active(),v.fixOffset()};t=e.isFunction(t)?t:function(){},v.set.scrollPosition(v.get.activeItem(),!0),v.verbose("Doing menu show animation",n),(v.is.hidden(n)||v.is.animating(n))&&("auto"==b.transition&&(b.transition=v.is.upward()?"slide up":"slide down",v.verbose("Automatically determining animation based on animation direction",b.transition)),"none"==b.transition?t.call(I):void 0!==e.fn.transition&&T.transition("is supported")?n.transition({animation:b.transition+" in",debug:b.debug,verbose:b.verbose,duration:b.duration,queue:!0,onStart:o,onComplete:function(){t.call(I)}}):"slide down"==b.transition?(o(),n.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},b.duration,"easeOutQuad",v.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){v.event.resetStyle.call(this),t.call(I)})):"fade"==b.transition?(o(),n.hide().clearQueue().fadeIn(b.duration,function(){v.event.resetStyle.call(this),t.call(I)})):v.error(k.transition,b.transition))},hide:function(t,i){var n=i||O,o=(i?b.duration:b.duration,i?function(){}:function(){v.can.click()&&v.unbind.intent(),v.focusSearch(),v.remove.active()});t=e.isFunction(t)?t:function(){},(v.is.visible(n)||v.is.animating(n))&&(v.verbose("Doing menu hide animation",n),"auto"==b.transition&&(b.transition=v.is.upward()?"slide up":"slide down"),A.trigger("blur"),"none"==b.transition?t.call(I):void 0!==e.fn.transition&&T.transition("is supported")?n.transition({animation:b.transition+" out",duration:b.duration,debug:b.debug,verbose:b.verbose,queue:!0,onStart:o,onComplete:function(){t.call(I)}}):"slide down"==b.transition?(o(),n.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",v.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){v.event.resetStyle.call(this),t.call(I)})):"fade"==b.transition?(o(),n.show().clearQueue().fadeOut(150,function(){v.event.resetStyle.call(this),t.call(I)})):v.error(k.transition))}},delay:{show:function(){v.verbose("Delaying show event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.show,b.delay.show)},hide:function(){v.verbose("Delaying hide event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.hide,b.delay.hide)}},escape:{regExp:function(e){return(e=String(e)).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,i){if(v.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===i)return b[t];b[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===i)return v[t];v[t]=i}},debug:function(){b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},fixOffset:function(){var i=e(t).width()-(O.offset().left+O.outerWidth()+8);i<0&&O.css("left",i+"px")},verbose:function(){b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,i;b.performance&&(i=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":i})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=b.name+":",i=0;c=!1,clearTimeout(v.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,n){var s,a,r,l=z;return i=i||f,n=I||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(v.error(k.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},h?(void 0===z&&v.initialize(),v.invoke(u)):(void 0!==z&&z.invoke("destroy"),v.initialize())}),void 0!==o?o:s},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(e){},onChange:function(e,t){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){t.placeholder,t.values;var i="";return e.each(t.values,function(e,t){i+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i},dropdown:function(t){var i=t.placeholder||!1,n=(t.values,"");return n+='<i class="dropdown icon"></i>',t.placeholder?n+='<div class="default text">'+i+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',e.each(t.values,function(e,t){n+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e){var t=document.createElement("div"),i=t.getElementsByTagName("i"),n=e(document.documentElement);t.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",i[0]&&n.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(n.addClass("tablesaw-enhanced"),e(function(){e(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort by"}}),Tablesaw.config||(Tablesaw.config={}),function(e){var t="tablesaw-bar",i="tablesawcreate",n="tablesawdestroy",o="tablesawrefresh",s=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=e(t),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};s.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id","table-"+Math.round(1e4*Math.random())),this.createToolbar();var e=this._initCells();this.$table.trigger(i,[this,e])},s.prototype._initCells=function(){var t,i=this.table.querySelectorAll("thead tr"),n=this;return e(i).each(function(){var o=0;e(this).children().each(function(){var s=parseInt(this.getAttribute("colspan"),10),a=":nth-child("+(o+1)+")";if(t=o+1,s)for(var r=0;r<s-1;r++)a+=", :nth-child("+(++o+1)+")";this.cells=n.$table.find("tr").not(e(i).eq(0)).not(this).children(a),o++})}),t},s.prototype.refresh=function(){this._initCells(),this.$table.trigger(o)},s.prototype.createToolbar=function(){var i=this.$table.prev("."+t);i.length||(i=e("<div>").addClass(t).insertBefore(this.$table)),this.$toolbar=i,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},s.prototype.destroy=function(){this.$table.prev("."+t).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var i=this.$table.attr("id");e(document).unbind("."+i),e(window).unbind("."+i),this.$table.trigger(n,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData("table")},e.fn.table=function(){return this.each(function(){var t=e(this);if(!t.data("table")){var i=new s(this);t.data("table",i)}})},e(document).on("enhance.tablesaw",function(t){e(t.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]").table()})}(jQuery),function(e,t,i){var n="tablesaw-stack",o="tablesaw-cell-label",s="tablesaw-cell-content",a="tablesaw-stack",r="data-tablesaw-no-labels",l="data-tablesaw-hide-empty",c=function(e){this.$table=t(e),this.labelless=this.$table.is("["+r+"]"),this.hideempty=this.$table.is("["+l+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(a,this)};c.prototype.init=function(e){if(this.$table.addClass(n),!this.labelless){var i=t(this.allHeaders),a=this.hideempty;i.each(function(){var i=t(this),n=t(this.cells).filter(function(){return!(t(this).parent().is("["+r+"]")||a&&t(this).is(":empty"))}),l=n.not(this).filter("thead th").length&&" tablesaw-cell-label-top",c=i.find(".tablesaw-sortable-btn"),d=c.length?c.html():i.html();if(""!==d)if(l){var u=parseInt(t(this).attr("colspan"),10),h="";u&&(h="td:nth-child("+u+"n + "+e+")"),n.filter(h).prepend("<b class='"+o+l+"'>"+d+"</b>")}else n.wrapInner("<span class='"+s+"'></span>"),n.prepend("<b class='"+o+"'>"+d+"</b>")})}},c.prototype.destroy=function(){this.$table.removeClass(n),this.$table.find("."+o).remove(),this.$table.find("."+s).each(function(){t(this).replaceWith(this.childNodes)})},t(document).on("tablesawcreate",function(e,t,i){"stack"===t.mode&&new c(t.table).init(i)}),t(document).on("tablesawdestroy",function(e,i){"stack"===i.mode&&t(i.table).data(a).destroy()})}(0,jQuery),function(e){var t={_create:function(){return e(this).each(function(){e(this).trigger("beforecreate.tablesawbtn").tablesawbtn("_init").trigger("create.tablesawbtn")})},_init:function(){var t=e(this),i=this.getElementsByTagName("select")[0];return i&&e(this).addClass("btn-select").tablesawbtn("_select",i),t},_select:function(t){var i=function(t,i){var n,o,s,a=e(i).find("option");if(a.each(function(){this.selected&&(n=document.createTextNode(this.text))}),s=t.childNodes,a.length>0)for(var r=0,l=s.length;r<l;r++)(o=s[r])&&3===o.nodeType&&t.replaceChild(n,o)};i(this,t),e(this).bind("change refresh",function(){i(this,t)})}};e.fn.tablesawbtn=function(t,i,n,o){return this.each(function(){return t&&"string"==typeof t?e.fn.tablesawbtn.prototype[t].call(this,i,n,o):e(this).data("tablesawbtnactive")?e(this):(e(this).data("tablesawbtnactive",!0),void e.fn.tablesawbtn.prototype._create.call(this))})},e.extend(e.fn.tablesawbtn.prototype,t),e(document).on("enhance",function(t){e(".btn",t.target).tablesawbtn()})}(jQuery),function(e,t,i){var n=function(e){this.$table=t(e),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};n.prototype.init=function(){var e,i,n,o,s,a,r=this;this.$table.addClass(this.classes.columnToggleTable),i=(e=this.$table.attr("id"))+"-popup",a=t("<div class='"+this.classes.columnBtnContain+"'></div>"),n=t("<a href='#"+i+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+Tablesaw.i18n.columnBtnText+"</span></a>"),o=t("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+i+"'></div>"),s=t("<div class='btn-group'></div>");var l,c=!1;function d(i){i&&t(i.target).closest("."+r.classes.popup).length||(t(document).unbind("click."+e),n.removeClass("up").addClass("down"),a.removeClass("visible"))}t(this.headers).not("td").each(function(){var e=t(this),i=e.attr("data-tablesaw-priority"),n=e.add(this.cells);i&&"persist"!==i&&(n.addClass(r.classes.priorityPrefix+i),t("<label><input type='checkbox' checked>"+e.text()+"</label>").appendTo(s).children(0).data("cells",n),c=!0)}),c||s.append("<label>"+Tablesaw.i18n.columnsDialogError+"</label>"),s.appendTo(o),s.find('input[type="checkbox"]').on("change",function(e){var i=e.target.checked;t(e.target).data("cells").toggleClass("tablesaw-cell-hidden",!i).toggleClass("tablesaw-cell-visible",i),r.$table.trigger("tablesawcolumns")}),n.appendTo(a),a.appendTo(this.$table.prev("."+this.classes.toolbar)),n.on("click.tablesaw",function(i){i.preventDefault(),a.is(".visible")?d():(a.addClass("visible"),n.removeClass("down").addClass("up"),t(document).unbind("click."+e,d),window.clearTimeout(l),l=window.setTimeout(function(){t(document).one("click."+e,d)},15))}),o.appendTo(a),this.$menu=s,t(window).on("resize."+e,function(){r.refreshToggle()}),this.refreshToggle()},n.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var e=t(this);this.checked="table-cell"===e.data("cells").eq(0).css("display")})},n.prototype.refreshPriority=function(){var e=this;t(this.headers).not("td").each(function(){var i=t(this),n=i.attr("data-tablesaw-priority"),o=i.add(this.cells);n&&"persist"!==n&&o.addClass(e.classes.priorityPrefix+n)})},n.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){t(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},t(document).on("tablesawcreate",function(e,t){"columntoggle"===t.mode&&new n(t.table).init()}),t(document).on("tablesawdestroy",function(e,i){"columntoggle"===i.mode&&t(i.table).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function(e,t,i){function n(i){var n=t("<div class='tablesaw-advance'></div>"),o=t("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(n),s=t("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(n),a="tablesaw-fix-persist",r=i.find("thead th"),l=r.not('[data-tablesaw-priority="persist"]'),c=[],d=t(document.head||"head"),u=i.attr("id"),h=t("html").is(".ie-lte8");if(!r.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function f(e){return t(e.cells).add(e)}function p(e){f(e).removeClass("tablesaw-cell-hidden")}function m(e){f(e).addClass("tablesaw-cell-hidden")}function g(){var e,n="#"+u+".tablesaw-swipe ",o=[],s=i.width(),l=[];r.each(function(e){var i;t(this).is('[data-tablesaw-priority="persist"]')&&(i=t(this).outerWidth())<.75*s&&(l.push(e+"-"+i),o.push(n+" .tablesaw-cell-persist:nth-child("+(e+1)+") { width: "+i+"px; }"))}),e=l.join("_"),i.addClass(a);var c=t("#"+u+"-persist");c.length&&c.data("hash")===e||(c.remove(),o.length&&t("<style>"+o.join("\n")+"</style>").attr("id",u+"-persist").data("hash",e).appendTo(d))}function v(){var e,i=[];return l.each(function(n){var o=t(this),s="none"===o.css("display")||o.is(".tablesaw-cell-hidden");if(s||e){if(s&&e)return i[1]=n,!1}else e=!0,i[0]=n}),i}function b(){var e=v();return[e[1]-1,e[0]-1]}function y(e){return e[1]>-1&&e[1]<l.length}function w(){if(!(n=i.attr("data-tablesaw-swipe-media"))||"matchMedia"in e&&e.matchMedia(n).matches){var n,o=i.parent().width(),s=[],l=0,d=[],g=r.length;r.each(function(e){var i=t(this).is('[data-tablesaw-priority="persist"]');s.push(i),l+=c[e]+(i?0:20),d.push(l),(i||l>o)&&g--});var v=0===g;r.each(function(e){s[e]?f(this).addClass("tablesaw-cell-persist"):d[e]<=o||v?(v=!1,p(this)):m(this)}),h||(i.removeClass(a),t("#"+u+"-persist").remove()),i.trigger("tablesawcolumns")}}function x(e){var t=function(e){return e?v():b()}(e);y(t)&&(isNaN(t[0])&&(t[0]=e?0:l.length-1),h||g(),m(l.get(t[0])),p(l.get(t[1])),i.trigger("tablesawcolumns"))}function C(e,t){return(e.touches||e.originalEvent.touches)[0][t]}i.css("width","auto"),r.each(function(){c.push(t(this).outerWidth())}),i.css("width",""),n.appendTo(i.prev(".tablesaw-bar")),i.addClass("tablesaw-swipe"),u||(u="tableswipe-"+Math.round(1e4*Math.random()),i.attr("id",u)),o.add(s).click(function(e){x(!!t(e.target).closest(s).length),e.preventDefault()}),i.bind("touchstart.swipetoggle",function(i){var n,o,s=C(i,"pageX"),a=C(i,"pageY");t(e).off("resize",w),t(this).bind("touchmove",function(e){n=C(e,"pageX"),o=C(e,"pageY");var t=Tablesaw.config.swipe;Math.abs(n-s)>t.horizontalThreshold&&Math.abs(o-a)<t.verticalThreshold&&e.preventDefault()}).bind("touchend.swipetoggle",function(){var i=Tablesaw.config.swipe;Math.abs(o-a)<i.verticalThreshold&&(n-s<-1*i.horizontalThreshold&&x(!0),n-s>i.horizontalThreshold&&x(!1)),window.setTimeout(function(){t(e).on("resize",w)},300),t(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){o[y(b())?"removeClass":"addClass"]("disabled"),s[y(v())?"removeClass":"addClass"]("disabled")}).bind("tablesawnext.swipetoggle",function(){x(!0)}).bind("tablesawprev.swipetoggle",function(){x(!1)}).bind("tablesawdestroy.swipetoggle",function(){var i=t(this);i.removeClass("tablesaw-swipe"),i.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),t(e).off("resize",w),i.unbind(".swipetoggle")}),w(),t(e).on("resize",w)}t.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}}),t(document).on("tablesawcreate",function(e,t){"swipe"===t.mode&&n(t.$table)})}(this,jQuery),function(e){function t(t){return e.map(t.childNodes,function(t){var i=e(t);return i.is("input, select")?i.val():i.hasClass("tablesaw-cell-label")?void 0:e.trim(i.text())}).join("")}var i="tablesaw-sortable",n="data-tablesaw-sortable-default-col",o={head:i+"-head",ascend:i+"-ascending",descend:i+"-descending",switcher:i+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:i+"-btn"},s={_create:function(t){return e(this).each(function(){if(e(this).data("init"+i))return!1;e(this).data("init"+i,!0).trigger("beforecreate."+i)[i]("_init",t).trigger("create."+i)})},_init:function(){var s,a,r,l=e(this),c=function(t){e.each(t,function(t,i){var s=e(i);s.removeAttr(n),s.removeClass(o.ascend),s.removeClass(o.descend)})};l.addClass(i),s=l.find("thead th[data-"+i+"-col]"),r=s,e.each(r,function(t,i){e(i).addClass(o.head)}),function(t,i){e.each(t,function(t,n){var s=e("<button class='"+o.sortButton+"'/>");s.bind("click",{col:n},i),e(n).wrapInner(s)})}(s,function(t){if(!e(t.target).is("a[href]")){t.stopPropagation();var n=e(this).parent(),r=t.data.col,d=s.index(n);c(n.siblings()),n.hasClass(o.descend)?(l[i]("sortBy",r,!0),d+="_asc"):(l[i]("sortBy",r),d+="_desc"),a&&a.find("select").val(d).trigger("refresh"),t.preventDefault()}}),function(t){e.each(t,function(t,i){var s=e(i);s.is("["+n+"]")&&(s.hasClass(o.descend)||s.addClass(o.ascend))})}(s),l.is("[data-tablesaw-sortable-switch]")&&function(s){a=e("<div>").addClass(o.switcher).addClass(o.tableToolbar).html(function(){var i=["<label>"+Tablesaw.i18n.sort+":"];return i.push('<span class="btn btn-small">&#160;<select>'),s.each(function(s){var a=e(this),r=a.is("["+n+"]"),l=a.hasClass(o.descend),c=!1;e(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(t(this),10)))return c=!0,!1}),i.push("<option"+(r&&!l?" selected":"")+' value="'+s+'_asc">'+a.text()+" "+(c?"":"(A-Z)")+"</option>"),i.push("<option"+(r&&l?" selected":"")+' value="'+s+'_desc">'+a.text()+" "+(c?"":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),i.join("")});var r=l.prev(".tablesaw-bar"),d=r.children().eq(0);d.length?a.insertBefore(d):a.appendTo(r),a.find(".btn").tablesawbtn(),a.find("select").on("change",function(){var t=e(this).val().split("_"),n=s.eq(t[0]);c(n.siblings()),l[i]("sortBy",n.get(0),"asc"===t[1])})}(s,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return e(t).prevAll().length},getTableRows:function(){return e(this).find("tbody tr")},sortRows:function(i,n,o,s){var a,r;a=function(i){var o=[];return e.each(i,function(i,s){o.push({cell:t(e(s).children().get(n)),rowNum:i})}),o}(i);var l=e(s).data("tablesaw-sort");return r=!(!l||"function"!=typeof l)&&l(o)||function(e,t){var i=/[^\-\+\d\.]/g;return e?function(e,n){return t||!isNaN(parseFloat(e.cell))?parseFloat(e.cell.replace(i,""))-parseFloat(n.cell.replace(i,"")):e.cell.toLowerCase()>n.cell.toLowerCase()?1:-1}:function(e,n){return t||!isNaN(parseFloat(e.cell))?parseFloat(n.cell.replace(i,""))-parseFloat(e.cell.replace(i,"")):e.cell.toLowerCase()<n.cell.toLowerCase()?1:-1}}(o,e(s).is("[data-sortable-numeric]")),i=function(e,t){var i,n,o,s=[];for(i=0,n=e.length;i<n;i++)o=e[i].rowNum,s.push(t[o]);return s}(a.sort(r),i)},replaceTableRows:function(t){e(this).find("tbody").html(t)},makeColDefault:function(t,i){var s=e(t);s.attr(n,"true"),i?(s.removeClass(o.descend),s.addClass(o.ascend)):(s.removeClass(o.ascend),s.addClass(o.descend))},sortBy:function(t,n){var o,s,a=e(this);o=a[i]("getColumnNumber",t),s=a[i]("getTableRows"),s=a[i]("sortRows",s,o,n,t),a[i]("replaceTableRows",s),a[i]("makeColDefault",t,n)}};e.fn[i]=function(t){var n,o=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(n=e.fn[i].prototype[t].apply(this[0],o))?n:e(this):(e(this).data(i+"data")||(e(this).data(i+"active",!0),e.fn[i].prototype._create.call(this,t)),e(this))},e.extend(e.fn[i].prototype,s),e(document).on("tablesawcreate",function(e,t){t.$table.is("table[data-tablesaw-sortable]")&&t.$table[i]()})}(jQuery),function(e,t,i){var n={attr:{init:"data-tablesaw-minimap"}};function o(i){var o=t('<div class="tablesaw-advance minimap">'),s=t('<ul class="tablesaw-advance-dots">').appendTo(o),a="tablesaw-advance-dots-hide";function r(){if(function(t){var i=t.attr(n.attr.init);return!i||e.matchMedia&&e.matchMedia(i).matches}(i)){o.show();var r=s.find("li").removeClass(a);i.find("thead th").each(function(e){"none"===t(this).css("display")&&r.eq(e).addClass(a)})}else o.hide()}i.find("thead th").each(function(){s.append("<li><i></i></li>")}),o.appendTo(i.prev(".tablesaw-bar")),r(),t(e).on("resize",r),i.bind("tablesawcolumns.minimap",function(){r()}).bind("tablesawdestroy.minimap",function(){var i=t(this);i.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),t(e).off("resize",r),i.unbind(".minimap")})}t(document).on("tablesawcreate",function(e,t){"swipe"!==t.mode&&"columntoggle"!==t.mode||!t.$table.is("[ "+n.attr.init+"]")||o(t.$table)})}(this,jQuery),function(e,t){var i={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(e){var n=t(e),o=n.attr(i.attributes.excludeMode),s=n.prev(".tablesaw-bar"),a=t("<div>").addClass(i.classes.main+" "+i.classes.toolbar).html(function(){var e,t=["<label>"+Tablesaw.i18n.columns+":"],s=n.attr("data-tablesaw-mode");t.push('<span class="btn btn-small">&#160;<select>');for(var a=0,r=i.modes.length;a<r;a++)o&&o.toLowerCase()===i.modes[a]||((e=s===i.modes[a])&&i.modes[a],t.push("<option"+(e?" selected":"")+' value="'+i.modes[a]+'">'+Tablesaw.i18n.modes[a]+"</option>"));return t.push("</select></span></label>"),t.join("")}),r=s.find(".tablesaw-advance").eq(0);r.length?a.insertBefore(r):a.appendTo(s),a.find(".btn").tablesawbtn(),a.find("select").bind("change",i.onModeChange)},onModeChange:function(){var e=t(this),n=e.closest("."+i.classes.main),o=e.closest(".tablesaw-bar").nextUntil(o).eq(0),s=e.val();n.remove(),o.data("table").destroy(),o.attr("data-tablesaw-mode",s),o.table()}};t(e.document).on("tablesawcreate",function(e,t){t.$table.is(i.selectors.init)&&i.init(t.table)})}(this,jQuery);;
/* Minification failed for ~/Scripts/build/pro.min.js, line number 1: missing name after . operator */
!function e(t,r,a){function i(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var p=r[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return i(r||e)},p,p.exports,e,t,r,a)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,r){function a(e){this.message=e}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,s=0,o=0,l="";n=t.charAt(o++);~n&&(r=s%4?64*r+n:n,s++%4)?l+=String.fromCharCode(255&r>>(-2*s&6)):0)n=i.indexOf(n);return l}},{}],2:[function(e,t,r){var a=e("./atob");t.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return a(t)}}},{"./atob":1}],3:[function(e,t,r){"use strict";function a(e){this.message=e}var i=e("./base64_url_decode");a.prototype=new Error,a.prototype.name="InvalidTokenError",t.exports=function(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[r]))}catch(e){throw new a("Invalid token specified: "+e.message)}},t.exports.InvalidTokenError=a},{"./base64_url_decode":2}],4:[function(e,t,r){(function(t){var r=e("./lib/index");"function"==typeof t.window.define&&t.window.define.amd?t.window.define("jwt_decode",function(){return r}):t.window&&(t.window.jwt_decode=r)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/index":3}]},{},[4]),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):e.bodymovin=t(e)}(window||{},function(window){function ProjectInterface(){return{}}function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function roundTo2Decimals(e){return Math.round(1e4*e)/1e4}function roundTo3Decimals(e){return Math.round(100*e)/100}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(e){e.style.userSelect="none",e.style.MozUserSelect="none",e.style.webkitUserSelect="none",e.style.oUserSelect="none"}function BMEnterFrameEvent(e,t,r,a){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=0>a?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=0>t?-1:1}function BMCompleteLoopEvent(e,t,r,a){this.type=e,this.currentLoop=t,this.totalLoops=r,this.direction=0>a?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function _addEventListener(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)}function _removeEventListener(e,t){if(t){if(this._cbs[e]){for(var r=0,a=this._cbs[e].length;a>r;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,a-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}function _triggerEvent(e,t){if(this._cbs[e])for(var r=this._cbs[e].length,a=0;r>a;a++)this._cbs[e][a](t)}function randomString(e,t){void 0===t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var r,a="";for(r=e;r>0;--r)a+=t[Math.round(Math.random()*(t.length-1))];return a}function HSVtoRGB(e,t,r){var a,i,n,s,o,l,h,p;switch(1===arguments.length&&(t=e.s,r=e.v,e=e.h),l=r*(1-t),h=r*(1-(o=6*e-(s=Math.floor(6*e)))*t),p=r*(1-(1-o)*t),s%6){case 0:a=r,i=p,n=l;break;case 1:a=h,i=r,n=l;break;case 2:a=l,i=r,n=p;break;case 3:a=l,i=h,n=r;break;case 4:a=p,i=l,n=r;break;case 5:a=r,i=l,n=h}return[a,i,n]}function RGBtoHSV(e,t,r){1===arguments.length&&(t=e.g,r=e.b,e=e.r);var a,i=Math.max(e,t,r),n=Math.min(e,t,r),s=i-n,o=0===i?0:s/i,l=i/255;switch(i){case n:a=0;break;case e:a=t-r+s*(r>t?6:0),a/=6*s;break;case t:a=r-e+2*s,a/=6*s;break;case r:a=e-t+4*s,a/=6*s}return[a,o,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function fillToRgba(e,t){if(!cachedColors[e]){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);cachedColors[e]=parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)}return"rgba("+cachedColors[e]+","+t+")"}function RenderedFrame(e,t){this.tr=e,this.o=t}function iterateDynamicProperties(e){var t,r=this.dynamicProperties;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(e)}function reversePath(e){var t,r,a=[],i=[],n=[],s={},o=0;e.c&&(a[0]=e.o[0],i[0]=e.i[0],n[0]=e.v[0],o=1);var l=(r=e.i.length)-1;for(t=o;r>t;t+=1)a.push(e.o[l]),i.push(e.i[l]),n.push(e.v[l]),l-=1;return s.i=a,s.o=i,s.v=n,s}function Matrix(){}function createElement(e,t,r){if(!t){var a=Object.create(e.prototype,r);return a&&"[object Function]"==={}.toString.call(a.init)&&a.init(),a}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._parent=e.prototype}function extendPrototype(e,t){for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&(t.prototype[r]=e.prototype[r])}function bezFunction(){function e(e,t,r,a,i,n){var s=e*a+t*i+r*n-i*a-n*e-r*t;return s>-1e-4&&1e-4>s}function t(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}function a(e,t){var r=t.segments,a=r.length,i=bm_floor((a-1)*e),n=e*t.addedLength,s=0;if(n==r[i].l)return r[i].p;for(var o=r[i].l>n?-1:1,l=!0;l;)r[i].l<=n&&r[i+1].l>n?(s=(n-r[i].l)/(r[i+1].l-r[i].l),l=!1):i+=o,(0>i||i>=a-1)&&(l=!1);return r[i].p+(r[i+1].p-r[i].p)*s}function i(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}var n=(Math,function(){function e(e,t){this.l=e,this.p=t}return function(t,r,a,i){var n,s,o,l,h,p,c=defaultCurveSegments,d=0,f=[],m=[],u={addedLength:0,segments:[]};for(o=a.length,n=0;c>n;n+=1){for(h=n/(c-1),p=0,s=0;o>s;s+=1)l=bm_pow(1-h,3)*t[s]+3*bm_pow(1-h,2)*h*a[s]+3*(1-h)*bm_pow(h,2)*i[s]+bm_pow(h,3)*r[s],f[s]=l,null!==m[s]&&(p+=bm_pow(f[s]-m[s],2)),m[s]=f[s];p&&(d+=p=bm_sqrt(p)),u.segments.push(new e(d,h))}return u.addedLength=d,u}}()),s=function(){var a={};return function(i){var n=i.s,s=i.e,o=i.to,l=i.ti,h=(n.join("_")+"_"+s.join("_")+"_"+o.join("_")+"_"+l.join("_")).replace(/\./g,"p");if(a[h])i.bezierData=a[h];else{var p,c,d,f,m,u,g,y=defaultCurveSegments,v=0,b=null;2===n.length&&(n[0]!=s[0]||n[1]!=s[1])&&e(n[0],n[1],s[0],s[1],n[0]+o[0],n[1]+o[1])&&e(n[0],n[1],s[0],s[1],s[0]+l[0],s[1]+l[1])&&(y=2);var C=new t(y);for(d=o.length,p=0;y>p;p+=1){for(g=new Array(d),m=p/(y-1),u=0,c=0;d>c;c+=1)f=bm_pow(1-m,3)*n[c]+3*bm_pow(1-m,2)*m*(n[c]+o[c])+3*(1-m)*bm_pow(m,2)*(s[c]+l[c])+bm_pow(m,3)*s[c],g[c]=f,null!==b&&(u+=bm_pow(g[c]-b[c],2));v+=u=bm_sqrt(u),C.points[p]=new r(u,g),b=g}C.segmentLength=v,i.bezierData=C,a[h]=C}}}();return{getBezierLength:n,getSegmentsLength:function(e){var t,r=e.c,a=e.v,i=e.o,s=e.i,o=e._length,l=[],h=0;for(t=0;o-1>t;t+=1)l[t]=n(a[t],a[t+1],i[t],s[t+1]),h+=l[t].addedLength;return r&&(l[t]=n(a[t],a[0],i[t],s[0]),h+=l[t].addedLength),{lengths:l,totalLength:h}},getNewSegment:function(e,t,r,n,s,o,l){var h,p=new i,c=a(s=0>s?0:s>1?1:s,l),d=a(o=o>1?1:o,l),f=e.length,m=1-c,u=1-d;for(h=0;f>h;h+=1)p.pt1[h]=Math.round(1e3*(m*m*m*e[h]+(c*m*m+m*c*m+m*m*c)*r[h]+(c*c*m+m*c*c+c*m*c)*n[h]+c*c*c*t[h]))/1e3,p.pt3[h]=Math.round(1e3*(m*m*u*e[h]+(c*m*u+m*c*u+m*m*d)*r[h]+(c*c*u+m*c*d+c*m*d)*n[h]+c*c*d*t[h]))/1e3,p.pt4[h]=Math.round(1e3*(m*u*u*e[h]+(c*u*u+m*d*u+m*u*d)*r[h]+(c*d*u+m*d*d+c*u*d)*n[h]+c*d*d*t[h]))/1e3,p.pt2[h]=Math.round(1e3*(u*u*u*e[h]+(d*u*u+u*d*u+u*u*d)*r[h]+(d*d*u+u*d*d+d*u*d)*n[h]+d*d*d*t[h]))/1e3;return p},getPointInSegment:function(e,t,r,i,n,s){var o=a(n,s),l=1-o;return[Math.round(1e3*(l*l*l*e[0]+(o*l*l+l*o*l+l*l*o)*r[0]+(o*o*l+l*o*o+o*l*o)*i[0]+o*o*o*t[0]))/1e3,Math.round(1e3*(l*l*l*e[1]+(o*l*l+l*o*l+l*l*o)*r[1]+(o*o*l+l*o*o+o*l*o)*i[1]+o*o*o*t[1]))/1e3]},buildBezierData:s,pointOnLine2D:e,pointOnLine3D:function(t,r,a,i,n,s,o,l,h){if(0===a&&0===s&&0===h)return e(t,r,i,n,o,l);var p,c=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-r,2)+Math.pow(s-a,2)),d=Math.sqrt(Math.pow(o-t,2)+Math.pow(l-r,2)+Math.pow(h-a,2)),f=Math.sqrt(Math.pow(o-i,2)+Math.pow(l-n,2)+Math.pow(h-s,2));return(p=c>d?c>f?c-d-f:f-d-c:f>d?f-d-c:d-c-f)>-1e-4&&1e-4>p}}}function dataFunctionManager(){function e(i,s,o){var l,h,p,c,d,f,m=i.length;for(h=0;m>h;h+=1)if("ks"in(l=i[h])&&!l.completed){if(l.completed=!0,l.tt&&(i[h-1].td=l.tt),[],-1,l.hasMask){var u=l.masksProperties;for(c=u.length,p=0;c>p;p+=1)if(u[p].pt.k.i)a(u[p].pt.k);else for(f=u[p].pt.k.length,d=0;f>d;d+=1)u[p].pt.k[d].s&&a(u[p].pt.k[d].s[0]),u[p].pt.k[d].e&&a(u[p].pt.k[d].e[0])}0===l.ty?(l.layers=t(l.refId,s),e(l.layers,s,o)):4===l.ty?r(l.shapes):5==l.ty&&n(l,o)}}function t(e,t){for(var r=0,a=t.length;a>r;){if(t[r].id===e)return t[r].layers.__used?JSON.parse(JSON.stringify(t[r].layers)):(t[r].layers.__used=!0,t[r].layers);r+=1}}function r(e){var t,i,n;for(t=e.length-1;t>=0;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)a(e[t].ks.k);else for(n=e[t].ks.k.length,i=0;n>i;i+=1)e[t].ks.k[i].s&&a(e[t].ks.k[i].s[0]),e[t].ks.k[i].e&&a(e[t].ks.k[i].e[0]);!0}else"gr"==e[t].ty&&r(e[t].it)}function a(e){var t,r=e.i.length;for(t=0;r>t;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function i(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&void 0))}function n(e,t){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var s=function(){function e(e){var t=e.t.d;e.t.d={k:[{s:t,t:0}]}}function t(t){var r,a=t.length;for(r=0;a>r;r+=1)5===t[r].ty&&e(t[r])}var r=[4,4,14];return function(e){if(i(r,e.v)&&(t(e.layers),e.assets)){var a,n=e.assets.length;for(a=0;n>a;a+=1)e.assets[a].layers&&t(e.assets[a].layers)}}}(),o=function(){var e=[4,7,99];return function(t){if(t.chars&&!i(e,t.v)){var r,n,s,o,l,h=t.chars.length;for(r=0;h>r;r+=1)if(t.chars[r].data&&t.chars[r].data.shapes)for(s=(l=t.chars[r].data.shapes[0].it).length,n=0;s>n;n+=1)(o=l[n].ks.k).__converted||(a(l[n].ks.k),o.__converted=!0)}}}(),l=function(){function e(t){var r,a,i,n=t.length;for(r=0;n>r;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,a=0;i>a;a+=1)t[r].c.k[a].s&&(t[r].c.k[a].s[0]/=255,t[r].c.k[a].s[1]/=255,t[r].c.k[a].s[2]/=255,t[r].c.k[a].s[3]/=255),t[r].c.k[a].e&&(t[r].c.k[a].e[0]/=255,t[r].c.k[a].e[1]/=255,t[r].c.k[a].e[2]/=255,t[r].c.k[a].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function t(t){var r,a=t.length;for(r=0;a>r;r+=1)4===t[r].ty&&e(t[r].shapes)}var r=[4,1,9];return function(e){if(i(r,e.v)&&(t(e.layers),e.assets)){var a,n=e.assets.length;for(a=0;n>a;a+=1)e.assets[a].layers&&t(e.assets[a].layers)}}}(),h=function(){function e(t){var r,a,i;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty){if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,a=0;i>a;a+=1)t[r].ks.k[a].s&&(t[r].ks.k[a].s[0].c=t[r].closed),t[r].ks.k[a].e&&(t[r].ks.k[a].e[0].c=t[r].closed);!0}else"gr"==t[r].ty&&e(t[r].it)}function t(t){var r,a,i,n,s,o,l=t.length;for(a=0;l>a;a+=1){if((r=t[a]).hasMask){var h=r.masksProperties;for(n=h.length,i=0;n>i;i+=1)if(h[i].pt.k.i)h[i].pt.k.c=h[i].cl;else for(o=h[i].pt.k.length,s=0;o>s;s+=1)h[i].pt.k[s].s&&(h[i].pt.k[s].s[0].c=h[i].cl),h[i].pt.k[s].e&&(h[i].pt.k[s].e[0].c=h[i].cl)}4===r.ty&&e(r.shapes)}}var r=[4,4,18];return function(e){if(i(r,e.v)&&(t(e.layers),e.assets)){var a,n=e.assets.length;for(a=0;n>a;a+=1)e.assets[a].layers&&t(e.assets[a].layers)}}}(),p={completeData:function(t,r){t.__complete||(l(t),s(t),o(t),h(t),e(t.layers,t.assets,r),t.__complete=!0)}};return p}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=Array.apply(null,{length:this._maxLength}),this.o=Array.apply(null,{length:this._maxLength}),this.i=Array.apply(null,{length:this._maxLength})}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=Array.apply(null,{length:this._maxLength})}function TextAnimatorProperty(e,t,r){this.mdf=!1,this._firstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._dynamicProperties=[],this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=Array.apply(null,{length:this._textData.a.length}),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1}function LetterProps(e,t,r,a,i,n){this.o=e,this.sw=t,this.sc=r,this.fc=a,this.m=i,this.p=n,this.mdf={o:!0,sw:!!t,sc:!!r,fc:!!a,m:!0,p:!0}}function TextProperty(e,t,r){this._frameId=-99999,this.pv="",this.v="",this.kf=!1,this.firstFrame=!0,this.mdf=!0,this.data=t,this.elem=e,this.keysIndex=-1,this.currentData={ascent:0,boxWidth:[0,0],f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,__complete:!1},this.searchProperty()?r.push(this):this.getValue(!0)}function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,className:t&&t.className||""},this.globalData.renderConfig=this.renderConfig,this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(e,t,r){this.dynamicProperties=[],this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length}),this.maskElement=null,this.firstFrame=!0;var a,i,n,s,o,l,h,p,c=this.globalData.defs,d=this.masksProperties.length,f=this.masksProperties,m=0,u=[],g=randomString(10),y="clipPath",v="clip-path";for(a=0;d>a;a++)if(("a"!==f[a].mode&&"n"!==f[a].mode||f[a].inv||100!==f[a].o.k)&&(y="mask",v="mask"),"s"!=f[a].mode&&"i"!=f[a].mode||0!=m?o=null:((o=document.createElementNS(svgNS,"rect")).setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w),o.setAttribute("height",this.element.comp.data.h),u.push(o)),i=document.createElementNS(svgNS,"path"),"n"!=f[a].mode){if(m+=1,"s"==f[a].mode?i.setAttribute("fill","#000000"):i.setAttribute("fill","#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==f[a].x.k){y="mask",v="mask",p=PropertyFactory.getProp(this.element,f[a].x,0,null,this.dynamicProperties);var b="fi_"+randomString(10);(l=document.createElementNS(svgNS,"filter")).setAttribute("id",b),(h=document.createElementNS(svgNS,"feMorphology")).setAttribute("operator","dilate"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),l.appendChild(h),c.appendChild(l),"s"==f[a].mode?i.setAttribute("stroke","#000000"):i.setAttribute("stroke","#ffffff")}else h=null,p=null;if(this.storedData[a]={elem:i,x:p,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==f[a].mode){s=u.length;var C=document.createElementNS(svgNS,"g");for(n=0;s>n;n+=1)C.appendChild(u[n]);var S=document.createElementNS(svgNS,"mask");S.setAttribute("mask-type","alpha"),S.setAttribute("id",g+"_"+m),S.appendChild(i),c.appendChild(S),C.setAttribute("mask","url("+locationHref+"#"+g+"_"+m+")"),u.length=0,u.push(C)}else u.push(i);f[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,f[a].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,f[a],3,this.dynamicProperties,null)},o&&(this.viewData[a].invRect=o),this.viewData[a].prop.k||this.drawPath(f[a],this.viewData[a].prop.v,this.viewData[a])}else this.viewData[a]={op:PropertyFactory.getProp(this.element,f[a].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,f[a],3,this.dynamicProperties,null),elem:i},c.appendChild(i);for(this.maskElement=document.createElementNS(svgNS,y),d=u.length,a=0;d>a;a+=1)this.maskElement.appendChild(u[a]);this.maskElement.setAttribute("id",g),m>0&&this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+g+")"),c.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(e,t,r,a,i){this.globalData=r,this.comp=a,this.data=e,this.matteElement=null,this.transformedElement=null,this.isTransparent=!1,this.parentContainer=t,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this._sizeChanged=!1,this.init()}function IShapeElement(e,t,r,a,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,r,a,i)}function ITextElement(e,t,r,a){}function SVGTextElement(e,t,r,a,i){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,e,t,r,a,i)}function SVGTintFilter(e,t){this.filterManager=t;var r=document.createElementNS(svgNS,"feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r),(r=document.createElementNS(svgNS,"feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),e.appendChild(r),this.matrixFilter=r,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var a,i=document.createElementNS(svgNS,"feMerge");e.appendChild(i),(a=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(a),(a=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","f2"),i.appendChild(a)}}function SVGFillFilter(e,t){this.filterManager=t;var r=document.createElementNS(svgNS,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var r=document.createElementNS(svgNS,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r);var a=document.createElementNS(svgNS,"feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),this.matrixFilter=a;var i=document.createElementNS(svgNS,"feFuncR");i.setAttribute("type","table"),a.appendChild(i),this.feFuncR=i;var n=document.createElementNS(svgNS,"feFuncG");n.setAttribute("type","table"),a.appendChild(n),this.feFuncG=n;var s=document.createElementNS(svgNS,"feFuncB");s.setAttribute("type","table"),a.appendChild(s),this.feFuncB=s}function SVGProLevelsFilter(e,t){this.filterManager=t;var r=this.filterManager.effectElements,a=document.createElementNS(svgNS,"feComponentTransfer");(r[9].p.k||0!==r[9].p.v||r[10].p.k||1!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||0!==r[12].p.v||r[13].p.k||1!==r[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(r[16].p.k||0!==r[16].p.v||r[17].p.k||1!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||0!==r[19].p.v||r[20].p.k||1!==r[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(r[23].p.k||0!==r[23].p.v||r[24].p.k||1!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||0!==r[26].p.v||r[27].p.k||1!==r[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(r[30].p.k||0!==r[30].p.v||r[31].p.k||1!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||0!==r[33].p.v||r[34].p.k||1!==r[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),a=document.createElementNS(svgNS,"feComponentTransfer")),(r[2].p.k||0!==r[2].p.v||r[3].p.k||1!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||0!==r[5].p.v||r[6].p.k||1!==r[6].p.v)&&(a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}function SVGDropShadowEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var r=document.createElementNS(svgNS,"feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,e.appendChild(r);var a=document.createElementNS(svgNS,"feOffset");a.setAttribute("dx","25"),a.setAttribute("dy","0"),a.setAttribute("in","drop_shadow_1"),a.setAttribute("result","drop_shadow_2"),this.feOffset=a,e.appendChild(a);var i=document.createElementNS(svgNS,"feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,e.appendChild(i);var n=document.createElementNS(svgNS,"feComposite");n.setAttribute("in","drop_shadow_3"),n.setAttribute("in2","drop_shadow_2"),n.setAttribute("operator","in"),n.setAttribute("result","drop_shadow_4"),e.appendChild(n);var s,o=document.createElementNS(svgNS,"feMerge");e.appendChild(o),s=document.createElementNS(svgNS,"feMergeNode"),o.appendChild(s),(s=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=o,this.originalNodeAdded=!1,o.appendChild(s)}function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=document.createElementNS(svgNS,"g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(e){var t,r,a=e.data.ef.length,i=randomString(10),n=filtersFactory.createFilter(i),s=0;for(this.filters=[],t=0;a>t;t+=1)20===e.data.ef[t].ty?(s+=1,r=new SVGTintFilter(n,e.effects.effectElements[t]),this.filters.push(r)):21===e.data.ef[t].ty?(s+=1,r=new SVGFillFilter(n,e.effects.effectElements[t]),this.filters.push(r)):22===e.data.ef[t].ty?(r=new SVGStrokeEffect(e,e.effects.effectElements[t]),this.filters.push(r)):23===e.data.ef[t].ty?(s+=1,r=new SVGTritoneFilter(n,e.effects.effectElements[t]),this.filters.push(r)):24===e.data.ef[t].ty?(s+=1,r=new SVGProLevelsFilter(n,e.effects.effectElements[t]),this.filters.push(r)):25===e.data.ef[t].ty?(s+=1,r=new SVGDropShadowEffect(n,e.effects.effectElements[t]),this.filters.push(r)):28===e.data.ef[t].ty&&(r=new SVGMatte3Effect(n,e.effects.effectElements[t],e),this.filters.push(r));s&&(e.globalData.defs.appendChild(n),e.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")"))}function ICompElement(e,t,r,a,i){this._parent.constructor.call(this,e,t,r,a,i),this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):r.progressiveLoad||this.buildAllItems()}function IImageElement(e,t,r,a,i){this.assetData=r.getAssetData(e.refId),this._parent.constructor.call(this,e,t,r,a,i)}function ISolidElement(e,t,r,a,i){this._parent.constructor.call(this,e,t,r,a,i)}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",className:t&&t.className||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var r;for(r=0;15>r;r+=1)this.contextData.saved[r]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={className:t&&t.className||""},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(e,t,r){this.globalData=r,this.data=e,this.comp=t,this.canvasContext=r.canvasContext,this.init()}function CVCompElement(e,t,r){this._parent.constructor.call(this,e,t,r);var a={};for(var i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);a.renderer=this,a.compHeight=this.data.h,a.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var n;for(n=0;15>n;n+=1)this.contextData.saved[n]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var s=document.createElement("canvas");a.canvasContext=s.getContext("2d"),this.canvasContext=a.canvasContext,s.width=this.data.w,s.height=this.data.h,this.canvas=s,this.globalData=a,this.layers=e.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),(this.data.xt||!r.progressiveLoad)&&this.buildAllItems()}function CVImageElement(e,t,r){this.assetData=r.getAssetData(e.refId),this._parent.constructor.call(this,e,t,r),this.globalData.addPendingElement()}function CVMaskElement(e,t){this.data=e,this.element=t,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length});var r,a=this.masksProperties.length;for(r=0;a>r;r++)this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3,this.dynamicProperties,null)}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,r)}function CVSolidElement(e,t,r){this._parent.constructor.call(this,e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,e,t,r)}function HBaseElement(e,t,r,a,i){this.globalData=r,this.comp=a,this.data=e,this.matteElement=null,this.parentContainer=t,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this.init()}function HSolidElement(e,t,r,a,i){this._parent.constructor.call(this,e,t,r,a,i)}function HCompElement(e,t,r,a,i){this._parent.constructor.call(this,e,t,r,a,i),this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(e,t,r,a,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,r,a,i),this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r,a,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,e,t,r,a,i)}function HImageElement(e,t,r,a,i){this.assetData=r.getAssetData(e.refId),this._parent.constructor.call(this,e,t,r,a,i)}function HCameraElement(e,t,r,a,i){this._parent.constructor.call(this,e,t,r,a,i);var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this.dynamicProperties),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this.dynamicProperties),this.py=n(this,e.ks.p.y,1,0,this.dynamicProperties),this.pz=n(this,e.ks.p.z,1,0,this.dynamicProperties)):this.p=n(this,e.ks.p,1,0,this.dynamicProperties),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this.dynamicProperties)),e.ks.or.k.length&&e.ks.or.k[0].to){var s,o=e.ks.or.k.length;for(s=0;o>s;s+=1)e.ks.or.k[s].to=null,e.ks.or.k[s].ti=null}this.or=n(this,e.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this.dynamicProperties),this.ry=n(this,e.ks.ry,0,degToRads,this.dynamicProperties),this.rz=n(this,e.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t,r){var a=e.ef;this.effectElements=[];var i,n,s=a.length;for(i=0;s>i;i++)n=new GroupEffect(a[i],t,r),this.effectElements.push(n)}function GroupEffect(e,t,r){this.dynamicProperties=[],this.init(e,t,this.dynamicProperties),this.dynamicProperties.length&&r.push(this)}function setLocationHref(e){locationHref=e}function play(e){animationManager.play(e)}function pause(e){animationManager.pause(e)}function togglePause(e){animationManager.togglePause(e)}function setSpeed(e,t){animationManager.setSpeed(e,t)}function setDirection(e,t){animationManager.setDirection(e,t)}function stop(e){animationManager.stop(e)}function moveFrame(e){animationManager.moveFrame(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(e){return animationManager.registerAnimation(e)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(e,t,r){animationManager.goToAndStop(e,t,r)}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function destroy(e){return animationManager.destroy(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r++){var a=t[r].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var e,t=Object.getOwnPropertyNames(Math),r=t.length;for(e=0;r>e;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===typeof e&&e.length){var t,r=Array.apply(null,{length:e.length}),a=e.length;for(t=0;a>t;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var e,t,r=[];for(e=0;256>e;e+=1)t=e.toString(16),r[e]=1==t.length?"0"+t:t;return function(e,t,a){return 0>e&&(e=0),0>t&&(t=0),0>a&&(a=0),"#"+r[e]+r[t]+r[a]}}(),fillColorToString=(t=[],function(e,r){return void 0!==r&&(e[3]=r),t[e[0]]||(t[e[0]]={}),t[e[0]][e[1]]||(t[e[0]][e[1]]={}),t[e[0]][e[1]][e[2]]||(t[e[0]][e[1]][e[2]]={}),t[e[0]][e[1]][e[2]][e[3]]||(t[e[0]][e[1]][e[2]][e[3]]="rgba("+e.join(",")+")"),t[e[0]][e[1]][e[2]][e[3]]}),Matrix=function(){function e(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function t(e){if(0===e)return this;var t=Math.cos(e),r=Math.sin(e);return this._t(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function r(e){if(0===e)return this;var t=Math.cos(e),r=Math.sin(e);return this._t(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1)}function a(e){if(0===e)return this;var t=Math.cos(e),r=Math.sin(e);return this._t(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1)}function i(e){if(0===e)return this;var t=Math.cos(e),r=Math.sin(e);return this._t(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function n(e,t){return this._t(1,t,e,1,0,0)}function s(e,t){return this.shear(Math.tan(e),Math.tan(t))}function o(e,t){var r=Math.cos(t),a=Math.sin(t);return this._t(r,a,0,0,-a,r,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)._t(r,-a,0,0,a,r,0,0,0,0,1,0,0,0,0,1)}function l(e,t,r){return r=isNaN(r)?1:r,1==e&&1==t&&1==r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function h(e,t,r,a,i,n,s,o,l,h,p,c,d,f,m,u){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=a,this.props[4]=i,this.props[5]=n,this.props[6]=s,this.props[7]=o,this.props[8]=l,this.props[9]=h,this.props[10]=p,this.props[11]=c,this.props[12]=d,this.props[13]=f,this.props[14]=m,this.props[15]=u,this}function p(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function c(e,t,r,a,i,n,s,o,l,h,p,c,d,f,m,u){if(1===e&&0===t&&0===r&&0===a&&0===i&&1===n&&0===s&&0===o&&0===l&&0===h&&1===p&&0===c)return(0!==d||0!==f||0!==m)&&(this.props[12]=this.props[12]*e+this.props[13]*i+this.props[14]*l+this.props[15]*d,this.props[13]=this.props[12]*t+this.props[13]*n+this.props[14]*h+this.props[15]*f,this.props[14]=this.props[12]*r+this.props[13]*s+this.props[14]*p+this.props[15]*m,this.props[15]=this.props[12]*a+this.props[13]*o+this.props[14]*c+this.props[15]*u),this._identityCalculated=!1,this;var g=this.props[0],y=this.props[1],v=this.props[2],b=this.props[3],C=this.props[4],S=this.props[5],w=this.props[6],k=this.props[7],E=this.props[8],P=this.props[9],I=this.props[10],x=this.props[11],M=this.props[12],D=this.props[13],N=this.props[14],A=this.props[15];return this.props[0]=g*e+y*i+v*l+b*d,this.props[1]=g*t+y*n+v*h+b*f,this.props[2]=g*r+y*s+v*p+b*m,this.props[3]=g*a+y*o+v*c+b*u,this.props[4]=C*e+S*i+w*l+k*d,this.props[5]=C*t+S*n+w*h+k*f,this.props[6]=C*r+S*s+w*p+k*m,this.props[7]=C*a+S*o+w*c+k*u,this.props[8]=E*e+P*i+I*l+x*d,this.props[9]=E*t+P*n+I*h+x*f,this.props[10]=E*r+P*s+I*p+x*m,this.props[11]=E*a+P*o+I*c+x*u,this.props[12]=M*e+D*i+N*l+A*d,this.props[13]=M*t+D*n+N*h+A*f,this.props[14]=M*r+D*s+N*p+A*m,this.props[15]=M*a+D*o+N*c+A*u,this._identityCalculated=!1,this}function d(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function f(e){var t;for(t=0;16>t;t+=1)e.props[t]=this.props[t]}function m(e){var t;for(t=0;16>t;t+=1)this.props[t]=e[t]}function u(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function g(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function y(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function v(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function b(e){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/t,a=-this.props[1]/t,i=-this.props[4]/t,n=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t;return[e[0]*r+e[1]*i+s,e[0]*a+e[1]*n+o,0]}function C(e){var t,r=e.length,a=[];for(t=0;r>t;t+=1)a[t]=b(e[t]);return a}function S(e,t,r,a){if(a&&2===a){var i=point_pool.newPoint();return i[0]=e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],i[1]=e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],i}return[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function w(e,t){return this.isIdentity()?e+","+t:bm_rnd(e*this.props[0]+t*this.props[4]+this.props[12])+","+bm_rnd(e*this.props[1]+t*this.props[5]+this.props[13])}function k(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function E(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function P(){return"matrix("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+")"}function I(){return""+this.toArray()}return function(){this.reset=e,this.rotate=t,this.rotateX=r,this.rotateY=a,this.rotateZ=i,this.skew=s,this.skewFromAxis=o,this.shear=n,this.scale=l,this.setTransform=h,this.translate=p,this.transform=c,this.applyToPoint=u,this.applyToX=g,this.applyToY=y,this.applyToZ=v,this.applyToPointArray=S,this.applyToPointStringified=w,this.toArray=k,this.toCSS=E,this.to2dCSS=P,this.toString=I,this.clone=f,this.cloneFromProps=m,this.inversePoints=C,this.inversePoint=b,this._t=this.transform,this.isIdentity=d,this._identity=!0,this._identityCalculated=!1,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}(),t;!function(e,t){function r(e){var t,r=e.length,a=this,i=0,n=a.i=a.j=0,s=a.S=[];for(r||(e=[r++]);h>i;)s[i]=i++;for(i=0;h>i;i++)s[i]=s[n=u&n+e[i%r]+(t=s[i])],s[n]=t;(a.g=function(e){for(var t,r=0,i=a.i,n=a.j,s=a.S;e--;)t=s[i=u&i+1],r=r*h+s[u&(s[i]=s[n=u&n+t])+(s[n]=t)];return a.i=i,a.j=n,r})(h)}function a(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function i(e,t){for(var r,a=e+"",i=0;i<a.length;)t[u&i]=u&(r^=19*t[u&i])+a.charCodeAt(i++);return s(t)}function n(){try{if(o)return s(o.randomBytes(h));var t=new Uint8Array(h);return(l.crypto||l.msCrypto).getRandomValues(t),s(t)}catch(t){var r=l.navigator,a=r&&r.plugins;return[+new Date,l,a,l.screen,s(e)]}}function s(e){return String.fromCharCode.apply(0,e)}var o,l=this,h=256,p=6,c="random",d=t.pow(h,p),f=t.pow(2,52),m=2*f,u=h-1;t["seed"+c]=function(o,l,u){var g=[],y=i(function e(t,r){var a,i=[],n=typeof t;if(r&&"object"==n)for(a in t)try{i.push(e(t[a],r-1))}catch(e){}return i.length?i:"string"==n?t:t+"\0"}((l=1==l?{entropy:!0}:l||{}).entropy?[o,s(e)]:null==o?n():o,3),g),v=new r(g),b=function(){for(var e=v.g(p),t=d,r=0;f>e;)e=(e+r)*h,t*=h,r=v.g(1);for(;e>=m;)e/=2,t/=2,r>>>=1;return(e+r)/t};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/4294967296},b.double=b,i(s(v.S),e),(l.pass||u||function(e,r,i,n){return n&&(n.S&&a(n,v),e.state=function(){return a(v,{})}),i?(t[c]=e,r):e})(b,y,"global"in l?l.global:this==t,l.state)},i(t.random(),e)}([],BMMath);var BezierFactory=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function r(e){return 3*e}function a(a,i,n){return((e(i,n)*a+t(i,n))*a+r(i))*a}function i(a,i,n){return 3*e(i,n)*a*a+2*t(i,n)*a+r(i)}function n(e,t,r,i,n){var s,o,l=0;do{(s=a(o=t+(r-t)/2,i,n)-e)>0?r=o:t=o}while(Math.abs(s)>c&&++l<d);return o}function s(e,t,r,n){for(var s=0;p>s;++s){var o=i(t,r,n);if(0===o)return t;t-=(a(t,r,n)-e)/o}return t}function o(e){this._p=e,this._mSampleValues=u?new Float32Array(f):new Array(f),this._precomputed=!1,this.get=this.get.bind(this)}var l={getBezierEasing:function(e,t,r,a,i){var n=i||("bez_"+e+"_"+t+"_"+r+"_"+a).replace(/\./g,"p");if(h[n])return h[n];var s=new o([e,t,r,a]);return h[n]=s,s}},h={},p=4,c=1e-7,d=10,f=11,m=1/(f-1),u="function"==typeof Float32Array;return o.prototype={get:function(e){var t=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),t===r&&i===n?e:0===e?0:1===e?1:a(this._getTForX(e),r,n)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],a=this._p[3];this._precomputed=!0,(e!==t||r!==a)&&this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],r=0;f>r;++r)this._mSampleValues[r]=a(r*m,e,t)},_getTForX:function(e){for(var t=this._p[0],r=this._p[2],a=this._mSampleValues,o=0,l=1,h=f-1;l!==h&&a[l]<=e;++l)o+=m;var p=o+(e-a[--l])/(a[l+1]-a[l])*m,c=i(p,t,r);return c>=.001?s(e,p,t,r):0===c?p:n(e,o,o+m,t,r)}},l}();!function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,r){var a=(new Date).getTime(),i=Math.max(0,16-(a-e)),n=setTimeout(function(){t(a+i)},i);return e=a+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function e(e,t){var r=document.createElement("span");r.style.fontFamily=t;var a=document.createElement("span");a.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(a),document.body.appendChild(r);var i=a.offsetWidth;return a.style.fontFamily=e+", "+t,{node:a,w:i,parent:r}}function t(){var e,r,i,n=this.fonts.length,s=n;for(e=0;n>e;e+=1)if(this.fonts[e].loaded)s-=1;else if("t"===this.fonts[e].fOrigin||2===this.fonts[e].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(e){}}2===this.typekitLoaded&&(this.fonts[e].loaded=!0)}else"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(r=this.fonts[e].monoCase.node,i=this.fonts[e].monoCase.w,r.offsetWidth!==i?(s-=1,this.fonts[e].loaded=!0):(r=this.fonts[e].sansCase.node,i=this.fonts[e].sansCase.w,r.offsetWidth!==i&&(s-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==s&&Date.now()-this.initTime<a?setTimeout(t.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function r(e,t){var r=document.createElementNS(svgNS,"text");r.style.fontSize="100px",r.style.fontFamily=t.fFamily,r.textContent="1",t.fClass?(r.style.fontFamily="inherit",r.className=t.fClass):r.style.fontFamily=t.fFamily,e.appendChild(r);var a=document.createElement("canvas").getContext("2d");return a.font="100px "+t.fFamily,a}var a=5e3,i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return i.prototype.addChars=function(e){if(e){this.chars||(this.chars=[]);var t,r,a,i=e.length,n=this.chars.length;for(t=0;i>t;t+=1){for(r=0,a=!1;n>r;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(a=!0),r+=1;a||(this.chars.push(e[t]),n+=1)}}},i.prototype.addFonts=function(a,i){if(a){if(this.chars)return this.loaded=!0,void(this.fonts=a.list);var n,s=a.list,o=s.length;for(n=0;o>n;n+=1){if(s[n].loaded=!1,s[n].monoCase=e(s[n].fFamily,"monospace"),s[n].sansCase=e(s[n].fFamily,"sans-serif"),s[n].fPath){if("p"===s[n].fOrigin||3===s[n].origin){var l=document.createElement("style");l.type="text/css",l.innerHTML="@font-face {font-family: "+s[n].fFamily+"; font-style: normal; src: url('"+s[n].fPath+"');}",i.appendChild(l)}else if("g"===s[n].fOrigin||1===s[n].origin){var h=document.createElement("link");h.type="text/css",h.rel="stylesheet",h.href=s[n].fPath,i.appendChild(h)}else if("t"===s[n].fOrigin||2===s[n].origin){var p=document.createElement("script");p.setAttribute("src",s[n].fPath),i.appendChild(p)}}else s[n].loaded=!0;s[n].helper=r(i,s[n]),this.fonts.push(s[n])}t.bind(this)()}else this.loaded=!0},i.prototype.getCharData=function(e,t,r){for(var a=0,i=this.chars.length;i>a;){if(this.chars[a].ch===e&&this.chars[a].style===t&&this.chars[a].fFamily===r)return this.chars[a];a+=1}},i.prototype.getFontByName=function(e){for(var t=0,r=this.fonts.length;r>t;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return"sans-serif"},i.prototype.measureText=function(e,t,r){return this.getFontByName(t).helper.measureText(e).width*r/100},i}(),PropertyFactory=function(){function e(e,t,r,a){var i,n,s,o,l,h,p,c=this.offsetTime;r.constructor===Array&&(i=Array.apply(null,{length:r.length}));for(var d,f,m=t,u=this.keyframes.length-1,g=!0;g;){if(d=this.keyframes[m],f=this.keyframes[m+1],m==u-1&&e>=f.t-c){d.h&&(d=f),t=0;break}if(f.t-c>e){t=m;break}u-1>m?m+=1:(t=0,g=!1)}if(d.to){d.bezierData||bez.buildBezierData(d);var y=d.bezierData;if(e>=f.t-c||e<d.t-c){var v=e>=f.t-c?y.points.length-1:0;for(s=y.points[v].point.length,n=0;s>n;n+=1)i[n]=y.points[v].point[n];a._lastBezierData=null}else{d.__fnct?p=d.__fnct:(p=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y,d.n).get,d.__fnct=p),o=p((e-(d.t-c))/(f.t-c-(d.t-c)));var b,C=y.segmentLength*o,S=a.lastFrame<e&&a._lastBezierData===y?a._lastAddedLength:0;for(h=a.lastFrame<e&&a._lastBezierData===y?a._lastPoint:0,g=!0,l=y.points.length;g;){if(S+=y.points[h].partialLength,0===C||0===o||h==y.points.length-1){for(s=y.points[h].point.length,n=0;s>n;n+=1)i[n]=y.points[h].point[n];break}if(C>=S&&C<S+y.points[h+1].partialLength){for(b=(C-S)/y.points[h+1].partialLength,s=y.points[h].point.length,n=0;s>n;n+=1)i[n]=y.points[h].point[n]+(y.points[h+1].point[n]-y.points[h].point[n])*b;break}l-1>h?h+=1:g=!1}a._lastPoint=h,a._lastAddedLength=S-y.points[h].partialLength,a._lastBezierData=y}}else{var w,k,E,P,I;for(u=d.s.length,m=0;u>m;m+=1){if(1!==d.h&&(e>=f.t-c?o=1:e<d.t-c?o=0:(d.o.x.constructor===Array?(d.__fnct||(d.__fnct=[]),d.__fnct[m]?p=d.__fnct[m]:(w=d.o.x[m]||d.o.x[0],k=d.o.y[m]||d.o.y[0],E=d.i.x[m]||d.i.x[0],P=d.i.y[m]||d.i.y[0],p=BezierFactory.getBezierEasing(w,k,E,P).get,d.__fnct[m]=p)):d.__fnct?p=d.__fnct:(w=d.o.x,k=d.o.y,E=d.i.x,P=d.i.y,p=BezierFactory.getBezierEasing(w,k,E,P).get,d.__fnct=p),o=p((e-(d.t-c))/(f.t-c-(d.t-c))))),this.sh&&1!==d.h){var x=d.s[m],M=d.e[m];-180>x-M?x+=360:x-M>180&&(x-=360),I=x+(M-x)*o}else I=1===d.h?d.s[m]:d.s[m]+(d.e[m]-d.s[m])*o;1===u?i=I:i[m]=I}}return{value:i,iterationIndex:t}}function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==l&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&t>e))){var a=this._caching.lastFrame<e?this._caching.lastIndex:0,i=this.interpolateValue(e,a,this.pv,this._caching);if(this._caching.lastIndex=i.iterationIndex,this.pv.constructor===Array)for(a=0;a<this.v.length;)this.pv[a]=i.value[a],this.v[a]=this.mult?this.pv[a]*this.mult:this.pv[a],this.lastPValue[a]!==this.pv[a]&&(this.mdf=!0,this.lastPValue[a]=this.pv[a]),a+=1;else this.pv=i.value,this.v=this.mult?this.pv*this.mult:this.pv,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)}this._caching.lastFrame=e,this.frameId=this.elem.globalData.frameId}}function r(){}function a(e,t,a){this.mult=a,this.v=a?t.k*a:t.k,this.pv=t.k,this.mdf=!1,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=r}function i(e,t,a){this.mult=a,this.data=t,this.mdf=!1,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=Array.apply(null,{length:t.k.length}),this.pv=Array.apply(null,{length:t.k.length}),this.lastValue=Array.apply(null,{length:t.k.length});var i=Array.apply(null,{length:t.k.length});this.vel=i.map(function(){return 0});var n,s=t.k.length;for(n=0;s>n;n+=1)this.v[n]=a?t.k[n]*a:t.k[n],this.pv[n]=t.k[n];this.getValue=r}function n(r,a,i){this.keyframes=a.k,this.offsetTime=r.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this._caching={lastFrame:l,lastIndex:0},this.k=!0,this.kf=!0,this.data=a,this.mult=i,this.elem=r,this.comp=r.comp,this.v=i?a.k[0].s[0]*i:a.k[0].s[0],this.pv=a.k[0].s[0],this.getValue=t,this.interpolateValue=e}function s(r,a,i){var n,s,o,h,p,c=a.k.length;for(n=0;c-1>n;n+=1)a.k[n].to&&a.k[n].s&&a.k[n].e&&(s=a.k[n].s,o=a.k[n].e,h=a.k[n].to,p=a.k[n].ti,(2===s.length&&(s[0]!==o[0]||s[1]!==o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+h[0],s[1]+h[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+p[0],o[1]+p[1])||3===s.length&&(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+h[0],s[1]+h[1],s[2]+h[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+p[0],o[1]+p[1],o[2]+p[2]))&&(a.k[n].to=null,a.k[n].ti=null));this.keyframes=a.k,this.offsetTime=r.data.st,this.k=!0,this.kf=!0,this.mult=i,this.elem=r,this.comp=r.comp,this._caching={lastFrame:l,lastIndex:0},this.getValue=t,this.interpolateValue=e,this.frameId=-1,this.v=Array.apply(null,{length:a.k[0].s.length}),this.pv=Array.apply(null,{length:a.k[0].s.length}),this.lastValue=Array.apply(null,{length:a.k[0].s.length}),this.lastPValue=Array.apply(null,{length:a.k[0].s.length})}function o(e,t,r,o,l){var p;if(2===r)p=new h(e,t,l);else if(0===t.a)p=0===r?new a(e,t,o):new i(e,t,o);else if(1===t.a)p=0===r?new n(e,t,o):new s(e,t,o);else if(t.k.length)if("number"==typeof t.k[0])p=new i(e,t,o);else switch(r){case 0:p=new n(e,t,o);break;case 1:p=new s(e,t,o)}else p=new a(e,t,o);return p.k&&l.push(p),p}var l=-999999,h=function(){function e(){return this.p?ExpressionValue(this.p):[this.px.v,this.py.v,this.pz?this.pz.v:0]}function t(){return ExpressionValue(this.px)}function r(){return ExpressionValue(this.py)}function a(){return ExpressionValue(this.a)}function i(){return ExpressionValue(this.or)}function n(){return this.r?ExpressionValue(this.r,1/degToRads):ExpressionValue(this.rz,1/degToRads)}function s(){return ExpressionValue(this.s,100)}function o(){return ExpressionValue(this.o,100)}function l(){return ExpressionValue(this.sk)}function h(){return ExpressionValue(this.sa)}function p(e){var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function c(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;t>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf){var r,a;if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/this.elem.globalData.frameRate,0),a=this.p.getValueAtTime(this.p.keyframes[0].t/this.elem.globalData.frameRate,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/this.elem.globalData.frameRate,0),a=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/this.elem.globalData.frameRate,0)):(r=this.p.pv,a=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/this.elem.globalData.frameRate,this.p.offsetTime)),this.v.rotate(-Math.atan2(r[1]-a[1],r[0]-a[0]));this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function d(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function f(){}return function(m,u,g){this.elem=m,this.frameId=-1,this.type="transform",this.dynamicProperties=[],this.mdf=!1,this.data=u,this.getValue=c,this.applyToMatrix=p,this.setInverted=d,this.autoOrient=f,this.v=new Matrix,u.p.s?(this.px=PropertyFactory.getProp(m,u.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(m,u.p.y,0,0,this.dynamicProperties),u.p.z&&(this.pz=PropertyFactory.getProp(m,u.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(m,u.p,1,0,this.dynamicProperties),u.r?this.r=PropertyFactory.getProp(m,u.r,0,degToRads,this.dynamicProperties):u.rx&&(this.rx=PropertyFactory.getProp(m,u.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(m,u.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(m,u.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(m,u.or,1,degToRads,this.dynamicProperties),this.or.sh=!0),u.sk&&(this.sk=PropertyFactory.getProp(m,u.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(m,u.sa,0,degToRads,this.dynamicProperties)),u.a&&(this.a=PropertyFactory.getProp(m,u.a,1,0,this.dynamicProperties)),u.s&&(this.s=PropertyFactory.getProp(m,u.s,1,.01,this.dynamicProperties)),this.o=u.o?PropertyFactory.getProp(m,u.o,0,.01,this.dynamicProperties):{mdf:!1,v:1},this.dynamicProperties.length?g.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?u.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:e}),Object.defineProperty(this,"xPosition",{get:t}),Object.defineProperty(this,"yPosition",{get:r}),Object.defineProperty(this,"orientation",{get:i}),Object.defineProperty(this,"anchorPoint",{get:a}),Object.defineProperty(this,"rotation",{get:n}),Object.defineProperty(this,"scale",{get:s}),Object.defineProperty(this,"opacity",{get:o}),Object.defineProperty(this,"skew",{get:l}),Object.defineProperty(this,"skewAxis",{get:h})}}(),p=function(){function e(e){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||e){var t,r,a,i=4*this.data.p;for(t=0;i>t;t+=1)r=t%4==0?100:255,a=Math.round(this.prop.v[t]*r),this.c[t]!==a&&(this.c[t]=a,this.cmdf=!0);if(this.o.length)for(i=this.prop.v.length,t=4*this.data.p;i>t;t+=1)r=t%2==0?100:1,a=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==a&&(this.o[t-4*this.data.p]=a,this.omdf=!0)}}function t(t,r,a){this.prop=o(t,r.k,1,null,[]),this.data=r,this.k=this.prop.k,this.c=Array.apply(null,{length:4*r.p});var i=r.k.k[0].s?r.k.k[0].s.length-4*r.p:r.k.k.length-4*r.p;this.o=Array.apply(null,{length:i}),this.cmdf=!1,this.omdf=!1,this.getValue=e,this.prop.k&&a.push(this),this.getValue(!0)}return function(e,r,a){return new t(e,r,a)}}(),c=function(){function e(e){var t=0,r=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||e){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;r>t;){if(this.dataProps[t].p.mdf){this.mdf=!0;break}t+=1}if(this.mdf||e)for("svg"===this.renderer&&(this.dasharray=""),t=0;r>t;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[t].p.v:this.dasharray[t]=this.dataProps[t].p.v:this.dashoffset=this.dataProps[t].p.v}}return function(t,r,a,i){this.elem=t,this.frameId=-1,this.dataProps=new Array(r.length),this.renderer=a,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(r.length-1),this.dashoffset=0;var n,s,o=r.length;for(n=0;o>n;n+=1)s=PropertyFactory.getProp(t,r[n].v,0,0,i),this.k=!!s.k||this.k,this.dataProps[n]={n:r[n].n,p:s};this.getValue=e,this.k?i.push(this):this.getValue(!0)}}(),d=function(){function e(e){if(this.mdf=e||!1,this.dynamicProperties.length){var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}var a=this.elem.textProperty.currentData?this.elem.textProperty.currentData.l.length:0;e&&2===this.data.r&&(this.e.v=a);var i=2===this.data.r?1:100/a,n=this.o.v/i,s=this.s.v/i+n,o=this.e.v/i+n;if(s>o){var l=s;s=o,o=l}this.finalS=s,this.finalE=o}function t(e){var t=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,n=0,s=this.finalS,o=this.finalE,l=this.data.sh;if(2==l)n=t(n=o===s?e>=o?1:0:r(0,a(.5/(o-s)+(e-s)/(o-s),1)));else if(3==l)n=t(n=o===s?e>=o?0:1:1-r(0,a(.5/(o-s)+(e-s)/(o-s),1)));else if(4==l)o===s?n=0:.5>(n=r(0,a(.5/(o-s)+(e-s)/(o-s),1)))?n*=2:n=1-2*(n-.5),n=t(n);else if(5==l){if(o===s)n=0;else{var h=o-s,p=-h/2+(e=a(r(0,e+.5-s),o-s)),c=h/2;n=Math.sqrt(1-p*p/(c*c))}n=t(n)}else 6==l?(o===s?n=0:(e=a(r(0,e+.5-s),o-s),n=(1+Math.cos(Math.PI+2*Math.PI*e/(o-s)))/2),n=t(n)):(e>=i(s)&&(n=0>e-s?1-(s-e):r(0,a(o-e,1))),n=t(n));return n*this.a.v}var r=Math.max,a=Math.min,i=Math.floor;return function(r,a,i){this.mdf=!1,this.k=!1,this.data=a,this.dynamicProperties=[],this.getValue=e,this.getMult=t,this.elem=r,this.comp=r.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(r,a.s||{k:0},0,0,this.dynamicProperties),this.e="e"in a?PropertyFactory.getProp(r,a.e,0,0,this.dynamicProperties):{v:100},this.o=PropertyFactory.getProp(r,a.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(r,a.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(r,a.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(r,a.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?i.push(this):this.getValue()}}();return{getProp:o,getDashProp:function(e,t,r,a){return new c(e,t,r,a)},getTextSelectorProp:function(e,t,r){return new d(e,t,r)},getGradientProp:p}}();ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;t>r;)this.v[r]=point_pool.newPoint(),this.o[r]=point_pool.newPoint(),this.i[r]=point_pool.newPoint(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(Array.apply(null,{length:this._maxLength})),this.i=this.i.concat(Array.apply(null,{length:this._maxLength})),this.o=this.o.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,a,i){var n;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o}(!n[a]||n[a]&&!i)&&(n[a]=point_pool.newPoint()),n[a][0]=e,n[a][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,a,i,n,s,o){this.setXYAt(e,t,"v",s,o),this.setXYAt(r,a,"o",s,o),this.setXYAt(i,n,"i",s,o)};var ShapePropertyFactory=function(){function e(e,t,r,a){var i,n,s;if(e<this.keyframes[0].t-this.offsetTime)i=this.keyframes[0].s[0],s=!0,t=0;else if(e>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)i=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],s=!0;else{for(var o,l,h,p,c,d,f=t,m=this.keyframes.length-1,u=!0;u&&(o=this.keyframes[f],!((l=this.keyframes[f+1]).t-this.offsetTime>e));)m-1>f?f+=1:u=!1;var g;if(t=f,!(s=1===o.h)){if(e>=l.t-this.offsetTime)g=1;else if(e<o.t-this.offsetTime)g=0;else{var y;o.__fnct?y=o.__fnct:(y=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=y),g=y((e-(o.t-this.offsetTime))/(l.t-this.offsetTime-(o.t-this.offsetTime)))}n=o.e[0]}i=o.s[0]}p=r._length,d=i.i[0].length;var v,b=!1;for(h=0;p>h;h+=1)for(c=0;d>c;c+=1)s?(v=i.i[h][c],r.i[h][c]!==v&&(r.i[h][c]=v,a&&(this.pv.i[h][c]=v),b=!0),v=i.o[h][c],r.o[h][c]!==v&&(r.o[h][c]=v,a&&(this.pv.o[h][c]=v),b=!0),v=i.v[h][c],r.v[h][c]!==v&&(r.v[h][c]=v,a&&(this.pv.v[h][c]=v),b=!0)):(v=i.i[h][c]+(n.i[h][c]-i.i[h][c])*g,r.i[h][c]!==v&&(r.i[h][c]=v,a&&(this.pv.i[h][c]=v),b=!0),v=i.o[h][c]+(n.o[h][c]-i.o[h][c])*g,r.o[h][c]!==v&&(r.o[h][c]=v,a&&(this.pv.o[h][c]=v),b=!0),v=i.v[h][c]+(n.v[h][c]-i.v[h][c])*g,r.v[h][c]!==v&&(r.v[h][c]=v,a&&(this.pv.v[h][c]=v),b=!0));return b&&(r.c=i.c),{iterationIndex:t,hasModified:b}}function t(){this.paths=this.localShapeCollection,this.k||(this.mdf=!1)}function r(e,r,a){this.__shapeObject=1,this.comp=e.comp,this.k=!1,this.mdf=!1;var i=3===a?r.pt.k:r.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=t}function a(e,r,a){this.__shapeObject=1,this.comp=e.comp,this.elem=e,this.offsetTime=e.data.st,this._lastIndex=0,this.keyframes=3===a?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var n=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newShape(),this.v.setPathData(this.keyframes[0].s[0].c,n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=i,this.reset=t}var i=-999999;r.prototype.interpolateShape=e,r.prototype.getValue=function(){return this.v},a.prototype.getValue=function(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(this.lastFrame===i||!(this.lastFrame<t&&t>e||this.lastFrame>r&&e>r)){var a=this.lastFrame<e?this._lastIndex:0,n=this.interpolateShape(e,a,this.v,!0);this._lastIndex=n.iterationIndex,this.mdf=n.hasModified,n.hasModified&&(this.paths=this.localShapeCollection)}this.lastFrame=e,this.frameId=this.elem.globalData.frameId}},a.prototype.interpolateShape=e;var n=function(){function e(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2;3!==this.d?(this.v.v[0][0]=e,this.v.v[0][1]=t-i,this.v.v[1][0]=e+r,this.v.v[1][1]=t,this.v.v[2][0]=e,this.v.v[2][1]=t+i,this.v.v[3][0]=e-r,this.v.v[3][1]=t,this.v.i[0][0]=e-r*a,this.v.i[0][1]=t-i,this.v.i[1][0]=e+r,this.v.i[1][1]=t-i*a,this.v.i[2][0]=e+r*a,this.v.i[2][1]=t+i,this.v.i[3][0]=e-r,this.v.i[3][1]=t+i*a,this.v.o[0][0]=e+r*a,this.v.o[0][1]=t-i,this.v.o[1][0]=e+r,this.v.o[1][1]=t+i*a,this.v.o[2][0]=e-r*a,this.v.o[2][1]=t+i,this.v.o[3][0]=e-r,this.v.o[3][1]=t-i*a):(this.v.v[0][0]=e,this.v.v[0][1]=t-i,this.v.v[1][0]=e-r,this.v.v[1][1]=t,this.v.v[2][0]=e,this.v.v[2][1]=t+i,this.v.v[3][0]=e+r,this.v.v[3][1]=t,this.v.i[0][0]=e+r*a,this.v.i[0][1]=t-i,this.v.i[1][0]=e-r,this.v.i[1][1]=t-i*a,this.v.i[2][0]=e-r*a,this.v.i[2][1]=t+i,this.v.i[3][0]=e+r,this.v.i[3][1]=t+i*a,this.v.o[0][0]=e-r*a,this.v.o[0][1]=t-i,this.v.o[1][0]=e-r,this.v.o[1][1]=t+i*a,this.v.o[2][0]=e+r*a,this.v.o[2][1]=t+i,this.v.o[3][0]=e+r,this.v.o[3][1]=t-i*a)}function r(e){var t,r=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,t=0;r>t;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertEllToPath()}}var a=roundCorner;return function(a,i){this.v=shape_pool.newShape(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=i.d,this.dynamicProperties=[],this.elem=a,this.comp=a.comp,this.frameId=-1,this.mdf=!1,this.getValue=r,this.convertEllToPath=e,this.reset=t,this.p=PropertyFactory.getProp(a,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(a,i.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),s=function(){function e(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,a=this.or.v,i=this.os.v,n=2*Math.PI*a/(4*t),s=-Math.PI/2,o=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;t>e;e+=1){var l=a*Math.cos(s),h=a*Math.sin(s),p=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),c=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-p*n*i*o,h-c*n*i*o,l+p*n*i*o,h+c*n*i*o,e,!0),s+=r*o}this.paths.length=0,this.paths[0]=this.v}function r(){var e,t,r,a,i=2*Math.floor(this.pt.v),n=2*Math.PI/i,s=!0,o=this.or.v,l=this.ir.v,h=this.os.v,p=this.is.v,c=2*Math.PI*o/(2*i),d=2*Math.PI*l/(2*i),f=-Math.PI/2;f+=this.r.v;var m=3===this.data.d?-1:1;for(this.v._length=0,e=0;i>e;e+=1){r=s?h:p,a=s?c:d;var u=(t=s?o:l)*Math.cos(f),g=t*Math.sin(f),y=0===u&&0===g?0:g/Math.sqrt(u*u+g*g),v=0===u&&0===g?0:-u/Math.sqrt(u*u+g*g);u+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(u,g,u-y*a*r*m,g-v*a*r*m,u+y*a*r*m,g+v*a*r*m,e,!0),s=!s,f+=n*m}}function a(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,t=this.dynamicProperties.length;for(e=0;t>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(i,n){this.v=shape_pool.newShape(),this.v.setPathData(!0,0),this.elem=i,this.comp=i.comp,this.data=n,this.frameId=-1,this.d=n.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=a,this.reset=t,1===n.sy?(this.ir=PropertyFactory.getProp(i,n.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(i,n.is,0,.01,this.dynamicProperties),this.convertToPath=r):this.convertToPath=e,this.pt=PropertyFactory.getProp(i,n.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(i,n.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(i,n.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(i,n.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(i,n.os,0,.01,this.dynamicProperties),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),o=function(){function e(e){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function r(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,a=this.s.v[1]/2,i=bm_min(r,a,this.r.v),n=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-a+i,e+r,t-a+i,e+r,t-a+n,0,!0),this.v.setTripleAt(e+r,t+a-i,e+r,t+a-n,e+r,t+a-i,1,!0),0!==i?(this.v.setTripleAt(e+r-i,t+a,e+r-i,t+a,e+r-n,t+a,2,!0),this.v.setTripleAt(e-r+i,t+a,e-r+n,t+a,e-r+i,t+a,3,!0),this.v.setTripleAt(e-r,t+a-i,e-r,t+a-i,e-r,t+a-n,4,!0),this.v.setTripleAt(e-r,t-a+i,e-r,t-a+n,e-r,t-a+i,5,!0),this.v.setTripleAt(e-r+i,t-a,e-r+i,t-a,e-r+n,t-a,6,!0),this.v.setTripleAt(e+r-i,t-a,e+r-n,t-a,e+r-i,t-a,7,!0)):(this.v.setTripleAt(e-r,t+a,e-r+n,t+a,e-r,t+a,2),this.v.setTripleAt(e-r,t-a,e-r,t-a+n,e-r,t-a,3))):(this.v.setTripleAt(e+r,t-a+i,e+r,t-a+n,e+r,t-a+i,0,!0),0!==i?(this.v.setTripleAt(e+r-i,t-a,e+r-i,t-a,e+r-n,t-a,1,!0),this.v.setTripleAt(e-r+i,t-a,e-r+n,t-a,e-r+i,t-a,2,!0),this.v.setTripleAt(e-r,t-a+i,e-r,t-a+i,e-r,t-a+n,3,!0),this.v.setTripleAt(e-r,t+a-i,e-r,t+a-n,e-r,t+a-i,4,!0),this.v.setTripleAt(e-r+i,t+a,e-r+i,t+a,e-r+n,t+a,5,!0),this.v.setTripleAt(e+r-i,t+a,e+r-n,t+a,e+r-i,t+a,6,!0),this.v.setTripleAt(e+r,t+a-i,e+r,t+a-i,e+r,t+a-n,7,!0)):(this.v.setTripleAt(e-r,t-a,e-r+n,t-a,e-r,t-a,1,!0),this.v.setTripleAt(e-r,t+a,e-r,t+a-n,e-r,t+a,2,!0),this.v.setTripleAt(e+r,t+a,e+r-n,t+a,e+r,t+a,3,!0)))}return function(a,i){this.v=shape_pool.newShape(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=a,this.comp=a.comp,this.frameId=-1,this.d=i.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=e,this.convertRectToPath=r,this.reset=t,this.p=PropertyFactory.getProp(a,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(a,i.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(a,i.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),l={getShapeProp:function(e,t,i,l){var h;if(3===i||4===i){var p=3===i?t.pt:t.ks,c=p.k;h=1===p.a||c.length?new a(e,t,i):new r(e,t,i)}else 5===i?h=new o(e,t):6===i?h=new n(e,t):7===i&&(h=new s(e,t));return h.k&&l.push(h),h},getConstructorFunction:function(){return r},getKeyframedConstructorFunction:function(){return a}};return l}(),ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,a,i){return new t[e](r,a,i)},e}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){this.closed||(this.shapes.push({shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()}),this.addShapeToModifier(e.sh))},ShapeModifier.prototype.init=function(e,t,r){this.elem=e,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.comp=e.comp,this.initModifierProperties(e,t),this.dynamicProperties.length?(this.k=!0,r.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e,this.frameId=this.elem.globalData.frameId;var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf||e){var a=this.o.v%360/360;0>a&&(a+=1);var i=this.s.v+a,n=this.e.v+a;if(i>n){var s=i;i=n,n=s}this.sValue=i,this.eValue=n,this.oValue=a}}},TrimModifier.prototype.initModifierProperties=function(e,t){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(e,t.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(e,t.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(e,t.o,0,0,this.dynamicProperties),this.m=t.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,a,i){var n=[];1>=t?n.push({s:e,e:t}):e>=1?n.push({s:e-1,e:t-1}):(n.push({s:e,e:1}),n.push({s:0,e:t-1}));var s,o,l=[],h=n.length;for(s=0;h>s;s+=1)if((o=n[s]).e*i<a||o.s*i>a+r);else{var p,c;p=o.s*i<=a?0:(o.s*i-a)/r,c=o.e*i>=a+r?1:(o.e*i-a)/r,l.push([p,c])}return l.length||l.push([0,0]),l},TrimModifier.prototype.processShapes=function(e){var t,r,a,i,n,s=this.shapes.length,o=this.sValue,l=this.eValue,h=0;if(l===o)for(r=0;s>r;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape.mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection;else if(1===l&&0===o||0===l&&1===o){if(this.mdf)for(r=0;s>r;r+=1)this.shapes[r].shape.mdf=!0}else{var p,c,d=[];for(r=0;s>r;r+=1)if((p=this.shapes[r]).shape.mdf||this.mdf||e||2===this.m){if(m=(t=p.shape.paths)._length,n=0,!p.shape.mdf&&p.pathsData)n=p.totalShapeLength;else{for(a=[],f=0;m>f;f+=1)i=bez.getSegmentsLength(t.shapes[f]),a.push(i),n+=i.totalLength;p.totalShapeLength=n,p.pathsData=a}h+=n,p.shape.mdf=!0}else p.shape.paths=p.localShapeCollection;var f,m,u=o,g=l,y=0;for(r=s-1;r>=0;r-=1)if((p=this.shapes[r]).shape.mdf){if((c=p.localShapeCollection).releaseShapes(),2===this.m&&s>1){var v=this.calculateShapeEdges(o,l,p.totalShapeLength,y,h);y+=p.totalShapeLength}else v=[[u,g]];for(m=v.length,f=0;m>f;f+=1){u=v[f][0],g=v[f][1],d.length=0,1>=g?d.push({s:p.totalShapeLength*u,e:p.totalShapeLength*g}):u>=1?d.push({s:p.totalShapeLength*(u-1),e:p.totalShapeLength*(g-1)}):(d.push({s:p.totalShapeLength*u,e:p.totalShapeLength}),d.push({s:0,e:p.totalShapeLength*(g-1)}));var b=this.addShapes(p,d[0]);if(d[0].s!==d[0].e){if(d.length>1)if(p.shape.v.c){var C=b.pop();this.addPaths(b,c),b=this.addShapes(p,d[1],C)}else this.addPaths(b,c),b=this.addShapes(p,d[1]);this.addPaths(b,c)}}p.shape.paths=c}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addPaths=function(e,t){var r,a=e.length;for(r=0;a>r;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,a,i,n,s){i.setXYAt(t[0],t[1],"o",n),i.setXYAt(r[0],r[1],"i",n+1),s&&i.setXYAt(e[0],e[1],"v",n),i.setXYAt(a[0],a[1],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,r){var a,i,n,s,o,l,h,p,c=e.pathsData,d=e.shape.paths.shapes,f=e.shape.paths._length,m=0,u=[],g=!0;for(r?(o=r._length,p=r._length):(r=shape_pool.newShape(),o=0,p=0),u.push(r),a=0;f>a;a+=1){for(l=c[a].lengths,r.c=d[a].c,n=d[a].c?l.length:l.length+1,i=1;n>i;i+=1)if(m+(s=l[i-1]).addedLength<t.s)m+=s.addedLength,r.c=!1;else{if(m>t.e){r.c=!1;break}t.s<=m&&t.e>=m+s.addedLength?(this.addSegment(d[a].v[i-1],d[a].o[i-1],d[a].i[i],d[a].v[i],r,o,g),g=!1):(h=bez.getNewSegment(d[a].v[i-1],d[a].v[i],d[a].o[i-1],d[a].i[i],(t.s-m)/s.addedLength,(t.e-m)/s.addedLength,l[i-1]),this.addSegment(h.pt1,h.pt3,h.pt4,h.pt2,r,o,g),g=!1,r.c=!1),m+=s.addedLength,o+=1}if(d[a].c){if(s=l[i-1],m<=t.e){var y=l[i-1].addedLength;t.s<=m&&t.e>=m+y?(this.addSegment(d[a].v[i-1],d[a].o[i-1],d[a].i[0],d[a].v[0],r,o,g),g=!1):(h=bez.getNewSegment(d[a].v[i-1],d[a].v[0],d[a].o[i-1],d[a].i[0],(t.s-m)/y,(t.e-m)/y,l[i-1]),this.addSegment(h.pt1,h.pt3,h.pt4,h.pt2,r,o,g),g=!1,r.c=!1)}else r.c=!1;m+=s.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[p][0],r.v[p][1],"i",p),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),m>t.e)break;f-1>a&&(r=shape_pool.newShape(),g=!0,u.push(r),o=0)}return u},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e,this.frameId=this.elem.globalData.frameId;var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(e,t){var r=shape_pool.newShape();r.c=e.c;var a,i,n,s,o,l,h,p,c,d,f,m,u,g=e._length,y=0;for(a=0;g>a;a+=1)i=e.v[a],s=e.o[a],n=e.i[a],i[0]===s[0]&&i[1]===s[1]&&i[0]===n[0]&&i[1]===n[1]?0!==a&&a!==g-1||e.c?(o=0===a?e.v[g-1]:e.v[a-1],h=(l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))?Math.min(l/2,t)/l:0,p=m=i[0]+(o[0]-i[0])*h,c=u=i[1]-(i[1]-o[1])*h,d=p-(p-i[0])*roundCorner,f=c-(c-i[1])*roundCorner,r.setTripleAt(p,c,d,f,m,u,y),y+=1,o=a===g-1?e.v[0]:e.v[a+1],h=(l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))?Math.min(l/2,t)/l:0,p=d=i[0]+(o[0]-i[0])*h,c=f=i[1]+(o[1]-i[1])*h,m=p-(p-i[0])*roundCorner,u=c-(c-i[1])*roundCorner,r.setTripleAt(p,c,d,f,m,u,y),y+=1):(r.setTripleAt(i[0],i[1],s[0],s[1],n[0],n[1],y),y+=1):(r.setTripleAt(e.v[a][0],e.v[a][1],e.o[a][0],e.o[a][1],e.i[a][0],e.i[a][1],y),y+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,r,a,i,n,s,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;o>r;r+=1){if((n=this.shapes[r]).shape.paths,s=n.localShapeCollection,n.shape.mdf||this.mdf||e)for(s.releaseShapes(),n.shape.mdf=!0,t=n.shape.paths.shapes,i=n.shape.paths._length,a=0;i>a;a+=1)s.addShape(this.processPath(t[a],l));n.shape.paths=n.localShapeCollection}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),RepeaterModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e;var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}},RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this.dynamicProperties),this.o=PropertyFactory.getProp(e,t.o,0,null,this.dynamicProperties),this.tr=PropertyFactory.getProp(e,t.tr,2,null,this.dynamicProperties),this.data=t,this.dynamicProperties.length||this.getValue(!0),this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,a,i,n){var s=n?-1:1,o=a.s.v[0]+(1-a.s.v[0])*(1-i),l=a.s.v[1]+(1-a.s.v[1])*(1-i);e.translate(a.p.v[0]*s*i,a.p.v[1]*s*i,a.p.v[2]),t.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),t.rotate(-a.r.v*s*i),t.translate(a.a.v[0],a.a.v[1],a.a.v[2]),r.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),r.scale(n?1/o:o,n?1/l:l),r.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,a,i){this.elem=e,this.arr=t,this.pos=r,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.dynamicProperties=[],this.frameId=-1,this.initModifierProperties(e,t[r]);for(;r>0;)r-=1,this._elements.unshift(t[r]),1;this.dynamicProperties.length?(this.k=!0,i.push(this)):this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;r>t;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=(e.length,JSON.parse(JSON.stringify(e)));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,a=e.length;for(r=0;a>r;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){if(this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.dynamicProperties.length||e||(this.mdf=!1),this.mdf)){var t=Math.ceil(this.c.v);if(this._groups.length<t){for(;this._groups.length<t;){var r={it:this.cloneElements(this._elements),ty:"gr"};r.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:0,ix:6,k:0},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,r),this._groups.splice(0,0,r),this._currentCopies+=1}this.elem.reloadShapes()}var a,i,n=0;for(a=0;a<=this._groups.length-1;a+=1)i=t>n,this._groups[a]._render=i,this.changeGroupRender(this._groups[a].it,i),n+=1;this._currentCopies=t,this.elem.firstFrame=!0;var s=this.o.v,o=s%1,l=s>0?Math.floor(s):Math.ceil(s),h=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,c=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var d=0;if(s>0){for(;l>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),d+=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,o,!1),d+=o)}else if(0>s){for(;d>l;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),d-=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-o,!0),d-=o)}a=1===this.data.m?0:this._currentCopies-1;var f=1===this.data.m?1:-1;for(n=this._currentCopies;n;){if(0!==d){(0!==a&&1===f||a!==this._currentCopies-1&&-1===f)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),this.matrix.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]);var m=(y=(g=this.elemsData[a].it)[g.length-1].transform.mProps.v.props).length;for(u=0;m>u;u+=1)y[u]=this.matrix.props[u];this.matrix.reset()}else{this.matrix.reset();var u,g,y;m=(y=(g=this.elemsData[a].it)[g.length-1].transform.mProps.v.props).length;for(u=0;m>u;u+=1)y[u]=this.matrix.props[u]}d+=1,n-=1,a+=f}}},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0};var ImagePreloader=function(){function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&s&&s(null)}function t(e){var t="";if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t}function r(t){var r=document.createElement("img");r.addEventListener("load",e.bind(this),!1),r.addEventListener("error",e.bind(this),!1),r.src=t}function a(e,a){var i;for(s=a,this.totalAssets=e.length,i=0;i<this.totalAssets;i+=1)e[i].layers||(r.bind(this)(t.bind(this)(e[i])),this.totalImages+=1)}function i(e){this.path=e||""}function n(e){this.assetsPath=e||""}var s;return function(){this.loadAssets=a,this.setAssetsPath=n,this.setPath=i,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){var e={createFilter:function(e){var t=document.createElementNS(svgNS,"filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},createAlphaToLuminanceFilter:function(){var e=document.createElementNS(svgNS,"feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}();TextAnimatorProperty.prototype.searchProperties=function(e){var t,r,a,i=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;i>t;t+=1)r={a:{},s:{}},"r"in(a=this._textData.a[t]).a&&(r.a.r=n(this._elem,a.a.r,0,degToRads,this._dynamicProperties)),"rx"in a.a&&(r.a.rx=n(this._elem,a.a.rx,0,degToRads,this._dynamicProperties)),"ry"in a.a&&(r.a.ry=n(this._elem,a.a.ry,0,degToRads,this._dynamicProperties)),"sk"in a.a&&(r.a.sk=n(this._elem,a.a.sk,0,degToRads,this._dynamicProperties)),"sa"in a.a&&(r.a.sa=n(this._elem,a.a.sa,0,degToRads,this._dynamicProperties)),"s"in a.a&&(r.a.s=n(this._elem,a.a.s,1,.01,this._dynamicProperties)),"a"in a.a&&(r.a.a=n(this._elem,a.a.a,1,0,this._dynamicProperties)),"o"in a.a&&(r.a.o=n(this._elem,a.a.o,0,.01,this._dynamicProperties)),"p"in a.a&&(r.a.p=n(this._elem,a.a.p,1,0,this._dynamicProperties)),"sw"in a.a&&(r.a.sw=n(this._elem,a.a.sw,0,0,this._dynamicProperties)),"sc"in a.a&&(r.a.sc=n(this._elem,a.a.sc,1,0,this._dynamicProperties)),"fc"in a.a&&(r.a.fc=n(this._elem,a.a.fc,1,0,this._dynamicProperties)),"fh"in a.a&&(r.a.fh=n(this._elem,a.a.fh,0,0,this._dynamicProperties)),"fs"in a.a&&(r.a.fs=n(this._elem,a.a.fs,0,.01,this._dynamicProperties)),"fb"in a.a&&(r.a.fb=n(this._elem,a.a.fb,0,.01,this._dynamicProperties)),"t"in a.a&&(r.a.t=n(this._elem,a.a.t,0,0,this._dynamicProperties)),r.s=PropertyFactory.getTextSelectorProp(this._elem,a.s,this._dynamicProperties),r.s.t=a.s.t,this._animatorsData[t]=r;this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this._dynamicProperties),l:n(this._elem,this._textData.p.l,0,0,this._dynamicProperties),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this._dynamicProperties),this._dynamicProperties.length&&e.push(this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this.mdf||this._firstFrame||t||this._hasMaskedPath&&this._pathData.m.mdf){this._firstFrame=!1;var r,a,i,n,s=this._moreOptions.alignment.v,o=this._animatorsData,l=this._textData,h=this.mHelper,p=this._renderType,c=this.renderedLetters.length,d=(this.data,e.l);if(this._hasMaskedPath){var f=this._pathData.m;if(!this._pathData.n||this._pathData.mdf){var m=f.v;this._pathData.r&&(m=reversePath(m));var u={tLength:0,segments:[]};n=m._length-1;var g,y=0;for(i=0;n>i;i+=1)g={s:m.v[i],e:m.v[i+1],to:[m.o[i][0]-m.v[i][0],m.o[i][1]-m.v[i][1]],ti:[m.i[i+1][0]-m.v[i+1][0],m.i[i+1][1]-m.v[i+1][1]]},bez.buildBezierData(g),u.tLength+=g.bezierData.segmentLength,u.segments.push(g),y+=g.bezierData.segmentLength;i=n,f.v.c&&(g={s:m.v[i],e:m.v[0],to:[m.o[i][0]-m.v[i][0],m.o[i][1]-m.v[i][1]],ti:[m.i[0][0]-m.v[0][0],m.i[0][1]-m.v[0][1]]},bez.buildBezierData(g),u.tLength+=g.bezierData.segmentLength,u.segments.push(g),y+=g.bezierData.segmentLength),this._pathData.pi=u}u=this._pathData.pi;var v,b,C,S=this._pathData.f.v,w=0,k=1,E=0,P=!0,I=u.segments;if(0>S&&f.v.c)for(u.tLength<Math.abs(S)&&(S=-Math.abs(S)%u.tLength),k=(C=I[w=I.length-1].bezierData.points).length-1;0>S;)S+=C[k].partialLength,0>(k-=1)&&(k=(C=I[w-=1].bezierData.points).length-1);b=(C=I[w].bezierData.points)[k-1];var x,M,D=(v=C[k]).partialLength}n=d.length,r=0,a=0;var N,A,T,F,_=1.2*e.s*.714,R=!0;if(T=o.length,t)for(A=0;T>A;A+=1)o[A].s.getValue(!0);var B,L,$,O,V,j,H,G,z,U,q,W,Y,Q=-1,X=S,J=w,Z=k,K=-1,ee="",te=this.defaultPropsArray;for(i=0;n>i;i+=1){if(h.reset(),V=1,d[i].n)r=0,a+=e.yOffset,a+=R?1:0,S=X,R=!1,0,this._hasMaskedPath&&(k=Z,b=(C=I[w=J].bezierData.points)[k-1],D=(v=C[k]).partialLength,E=0),Y=U=W=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(K!==d[i].line){switch(e.j){case 1:S+=y-e.lineWidths[d[i].line];break;case 2:S+=(y-e.lineWidths[d[i].line])/2}K=d[i].line}Q!==d[i].ind&&(d[Q]&&(S+=d[Q].extra),S+=d[i].an/2,Q=d[i].ind),S+=s[0]*d[i].an/200;var re=0;for(A=0;T>A;A+=1)"p"in(N=o[A].a)&&(re+=(B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars)).length?N.p.v[0]*B[0]:N.p.v[0]*B),"a"in N&&(re+=(B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars)).length?N.a.v[0]*B[0]:N.a.v[0]*B);for(P=!0;P;)E+D>=S+re||!C?(x=(S+re-E)/v.partialLength,$=b.point[0]+(v.point[0]-b.point[0])*x,O=b.point[1]+(v.point[1]-b.point[1])*x,h.translate(-s[0]*d[i].an/200,-s[1]*_/100),P=!1):C&&(E+=v.partialLength,(k+=1)>=C.length&&(k=0,I[w+=1]?C=I[w].bezierData.points:f.v.c?(k=0,C=I[w=0].bezierData.points):(E-=v.partialLength,C=null)),C&&(b=v,D=(v=C[k]).partialLength));L=d[i].an/2-d[i].add,h.translate(-L,0,0)}else L=d[i].an/2-d[i].add,h.translate(-L,0,0),h.translate(-s[0]*d[i].an/200,-s[1]*_/100,0);for(d[i].l/2,A=0;T>A;A+=1)"t"in(N=o[A].a)&&(B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars),this._hasMaskedPath?S+=B.length?N.t*B[0]:N.t*B:r+=B.length?N.t.v*B[0]:N.t.v*B);for(d[i].l/2,e.strokeWidthAnim&&(H=e.sw||0),e.strokeColorAnim&&(j=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),A=0;T>A;A+=1)"a"in(N=o[A].a)&&((B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars)).length?h.translate(-N.a.v[0]*B[0],-N.a.v[1]*B[1],N.a.v[2]*B[2]):h.translate(-N.a.v[0]*B,-N.a.v[1]*B,N.a.v[2]*B));for(A=0;T>A;A+=1)"s"in(N=o[A].a)&&((B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars)).length?h.scale(1+(N.s.v[0]-1)*B[0],1+(N.s.v[1]-1)*B[1],1):h.scale(1+(N.s.v[0]-1)*B,1+(N.s.v[1]-1)*B,1));for(A=0;T>A;A+=1){if(N=o[A].a,B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars),"sk"in N&&(B.length?h.skewFromAxis(-N.sk.v*B[0],N.sa.v*B[1]):h.skewFromAxis(-N.sk.v*B,N.sa.v*B)),"r"in N&&h.rotateZ(B.length?-N.r.v*B[2]:-N.r.v*B),"ry"in N&&h.rotateY(B.length?N.ry.v*B[1]:N.ry.v*B),"rx"in N&&h.rotateX(B.length?N.rx.v*B[0]:N.rx.v*B),"o"in N&&(V+=B.length?(N.o.v*B[0]-V)*B[0]:(N.o.v*B-V)*B),e.strokeWidthAnim&&"sw"in N&&(H+=B.length?N.sw.v*B[0]:N.sw.v*B),e.strokeColorAnim&&"sc"in N)for(z=0;3>z;z+=1)j[z]=B.length?j[z]+(N.sc.v[z]-j[z])*B[0]:j[z]+(N.sc.v[z]-j[z])*B;if(e.fillColorAnim&&e.fc){if("fc"in N)for(z=0;3>z;z+=1)G[z]=B.length?G[z]+(N.fc.v[z]-G[z])*B[0]:G[z]+(N.fc.v[z]-G[z])*B;"fh"in N&&(G=B.length?addHueToRGB(G,N.fh.v*B[0]):addHueToRGB(G,N.fh.v*B)),"fs"in N&&(G=B.length?addSaturationToRGB(G,N.fs.v*B[0]):addSaturationToRGB(G,N.fs.v*B)),"fb"in N&&(G=B.length?addBrightnessToRGB(G,N.fb.v*B[0]):addBrightnessToRGB(G,N.fb.v*B))}}for(A=0;T>A;A+=1)"p"in(N=o[A].a)&&(B=o[A].s.getMult(d[i].anIndexes[A],l.a[A].s.totalChars),this._hasMaskedPath?B.length?h.translate(0,N.p.v[1]*B[0],-N.p.v[2]*B[1]):h.translate(0,N.p.v[1]*B,-N.p.v[2]*B):B.length?h.translate(N.p.v[0]*B[0],N.p.v[1]*B[1],-N.p.v[2]*B[2]):h.translate(N.p.v[0]*B,N.p.v[1]*B,-N.p.v[2]*B));if(e.strokeWidthAnim&&(U=0>H?0:H),e.strokeColorAnim&&(q="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),e.fillColorAnim&&e.fc&&(W="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(h.translate(0,-e.ls),h.translate(0,s[1]*_/100+a,0),l.p.p){M=(v.point[1]-b.point[1])/(v.point[0]-b.point[0]);var ae=180*Math.atan(M)/Math.PI;v.point[0]<b.point[0]&&(ae+=180),h.rotate(-ae*Math.PI/180)}h.translate($,O,0),S-=s[0]*d[i].an/200,d[i+1]&&Q!==d[i+1].ind&&(S+=d[i].an/2,S+=e.tr/1e3*e.s)}else{switch(h.translate(r,a,0),e.ps&&h.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:h.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[d[i].line]),0,0);break;case 2:h.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[d[i].line])/2,0,0)}h.translate(0,-e.ls),h.translate(L,0,0),h.translate(s[0]*d[i].an/200,s[1]*_/100,0),r+=d[i].l+e.tr/1e3*e.s}"html"===p?ee=h.toCSS():"svg"===p?ee=h.to2dCSS():te=[h.props[0],h.props[1],h.props[2],h.props[3],h.props[4],h.props[5],h.props[6],h.props[7],h.props[8],h.props[9],h.props[10],h.props[11],h.props[12],h.props[13],h.props[14],h.props[15]],Y=V}i>=c?(F=new LetterProps(Y,U,q,W,ee,te),this.renderedLetters.push(F),c+=1,this.lettersChangedFlag=!0):(F=this.renderedLetters[i],this.lettersChangedFlag=F.update(Y,U,q,W,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId!==this._frameId){this._frameId=this._elem.globalData.frameId;var e,t=this._dynamicProperties.length;for(this.mdf=!1,e=0;t>e;e+=1)this._dynamicProperties[e].getValue(),this.mdf=this._dynamicProperties[e].mdf||this.mdf}},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],LetterProps.prototype.update=function(e,t,r,a,i,n){this.mdf.o=!1,this.mdf.sw=!1,this.mdf.sc=!1,this.mdf.fc=!1,this.mdf.m=!1,this.mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this.mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this.mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this.mdf.sc=!0,s=!0),this.fc!==a&&(this.fc=a,this.mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this.mdf.m=!0,s=!0),!n.length||this.p[0]===n[0]&&this.p[1]===n[1]&&this.p[4]===n[4]&&this.p[5]===n[5]&&this.p[12]===n[12]&&this.p[13]===n[13]||(this.p=n,this.mdf.p=!0,s=!0),s},TextProperty.prototype.setCurrentData=function(e){var t=this.currentData;t.ascent=e.ascent,t.boxWidth=e.boxWidth?e.boxWidth:t.boxWidth,t.f=e.f,t.fStyle=e.fStyle,t.fWeight=e.fWeight,t.fc=e.fc,t.j=e.j,t.justifyOffset=e.justifyOffset,t.l=e.l,t.lh=e.lh,t.lineWidths=e.lineWidths,t.ls=e.ls,t.of=e.of,t.s=e.s,t.sc=e.sc,t.sw=e.sw,t.t=e.t,t.tr=e.tr,t.fillColorAnim=e.fillColorAnim||t.fillColorAnim,t.strokeColorAnim=e.strokeColorAnim||t.strokeColorAnim,t.strokeWidthAnim=e.strokeWidthAnim||t.strokeWidthAnim,t.yOffset=e.yOffset,t.__complete=!1},TextProperty.prototype.searchProperty=function(){return this.kf=this.data.d.k.length>1,this.kf},TextProperty.prototype.getValue=function(){this.mdf=!1;var e=this.elem.globalData.frameId;if(e!==this._frameId&&this.kf||this.firstFrame){for(var t,r=this.data.d.k,a=0,i=r.length;i-1>=a&&(t=r[a].s,!(a===i-1||r[a+1].t>e));)a+=1;this.keysIndex!==a&&(t.__complete||this.completeTextData(t),this.setCurrentData(t),this.mdf=!this.firstFrame,this.pv=this.v=this.currentData.t,this.keysIndex=a),this._frameId=e}},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,a,i,n,s,o,l=this.elem.globalData.fontManager,h=this.data,p=[],c=0,d=h.m.g,f=0,m=0,u=0,g=[],y=0,v=0,b=l.getFontByName(e.f),C=0,S=b.fStyle.split(" "),w="normal",k="normal";for(r=S.length,t=0;r>t;t+=1)switch(S[t].toLowerCase()){case"italic":k="italic";break;case"bold":w="700";break;case"black":w="900";break;case"medium":w="500";break;case"regular":case"normal":w="400";case"light":case"thin":w="200"}e.fWeight=w,e.fStyle=k,r=e.t.length;var E=e.tr/1e3*e.s;if(e.sz){var P=e.sz[0],I=-1;for(t=0;r>t;t+=1)a=!1," "===e.t.charAt(t)?I=t:13===e.t.charCodeAt(t)&&(y=0,a=!0),l.chars?(o=l.getCharData(e.t.charAt(t),b.fStyle,b.fFamily),C=a?0:o.w*e.s/100):C=l.measureText(e.t.charAt(t),e.f,e.s),y+C>P&&" "!==e.t.charAt(t)?(-1===I?r+=1:t=I,e.t=e.t.substr(0,t)+"\r"+e.t.substr(t===I?t+1:t),I=-1,y=0):(y+=C,y+=E);r=e.t.length}y=-E,C=0;var x,M=0;for(t=0;r>t;t+=1)if(a=!1," "===(x=e.t.charAt(t))?i="":13===x.charCodeAt(0)?(M=0,g.push(y),v=y>v?y:v,y=-2*E,i="",a=!0,u+=1):i=e.t.charAt(t),l.chars?(o=l.getCharData(x,b.fStyle,l.getFontByName(e.f).fFamily),C=a?0:o.w*e.s/100):C=l.measureText(i,e.f,e.s)," "===x?M+=C+E:(y+=C+E+M,M=0),p.push({l:C,an:C,add:f,n:a,anIndexes:[],val:i,line:u}),2==d){if(f+=C,""==i||""==i||t==r-1){for((""==i||""==i)&&(f-=C);t>=m;)p[m].an=f,p[m].ind=c,p[m].extra=C,m+=1;c+=1,f=0}}else if(3==d){if(f+=C,""==i||t==r-1){for(""==i&&(f-=C);t>=m;)p[m].an=f,p[m].ind=c,p[m].extra=C,m+=1;f=0,c+=1}}else p[c].ind=c,p[c].extra=0,c+=1;if(e.l=p,v=y>v?y:v,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var D,N,A=h.a;s=A.length;var T,F,_=[];for(n=0;s>n;n+=1){for((D=A[n]).a.sc&&(e.strokeColorAnim=!0),D.a.sw&&(e.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(e.fillColorAnim=!0),F=0,T=D.s.b,t=0;r>t;t+=1)(N=p[t]).anIndexes[n]=F,(1==T&&""!=N.val||2==T&&""!=N.val&&""!=N.val||3==T&&(N.n||""==N.val||t==r-1)||4==T&&(N.n||t==r-1))&&(1===D.s.rn&&_.push(F),F+=1);h.a[n].s.totalChars=F;var R,B=-1;if(1===D.s.rn)for(t=0;r>t;t+=1)B!=(N=p[t]).anIndexes[n]&&(B=N.anIndexes[n],R=_.splice(Math.floor(Math.random()*_.length),1)[0]),N.anIndexes[n]=R}e.yOffset=e.lh||1.2*e.s,e.ls=e.ls||0,e.ascent=b.ascent*e.s/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.data.d.k[t].s;r.__complete=!1,r.t=e.t,this.keysIndex=-1,this.firstFrame=!0,this.getValue()};var pooling=function(){return{double:function(e){return e.concat(Array.apply(null,{length:e.length}))}}}(),point_pool=function(){var e={newPoint:function(){var e;return e=t?a[t-=1]:[.1,.1],e},release:function(e){t===r&&(a=pooling.double(a),r*=2),a[t]=e,t+=1}},t=0,r=8,a=Array.apply(null,{length:r});return e}(),shape_pool=function(){function e(){var e;return a?e=n[a-=1]:e=new ShapePath,e}function t(e){a===i&&(n=pooling.double(n),i*=2);var t,r=e._length;for(t=0;r>t;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1,n[a]=e,a+=1}var r={clone:function(t,r){var a,i,n=void 0===t._length?t.v.length:t._length,s=e();for(s.setLength(n),s.c=t.c,a=0;n>a;a+=1)r?(i=r.applyToPointArray(t.v[a][0],t.v[a][1],0,2),s.setXYAt(i[0],i[1],"v",a),point_pool.release(i),i=r.applyToPointArray(t.o[a][0],t.o[a][1],0,2),s.setXYAt(i[0],i[1],"o",a),point_pool.release(i),i=r.applyToPointArray(t.i[a][0],t.i[a][1],0,2),s.setXYAt(i[0],i[1],"i",a),point_pool.release(i)):s.setTripleAt(t.v[a][0],t.v[a][1],t.o[a][0],t.o[a][1],t.i[a][0],t.i[a][1],a);return s},newShape:e,release:t,releaseArray:function(e,r){for(;r--;)t(e[r])}},a=0,i=4,n=Array.apply(null,{length:i});return r}(),shapeCollection_pool=function(){function e(e){var t,n=e._length;for(t=0;n>t;t+=1)shape_pool.release(e.shapes[t]);e._length=0,r===a&&(i=pooling.double(i),a*=2),i[r]=e,r+=1}var t={newShapeCollection:function(){var e;return e=r?i[r-=1]:new ShapeCollection,e},release:e,clone:function(t,n){e(t),r===a&&(i=pooling.double(i),a*=2),i[r]=t,r+=1}},r=0,a=4,i=Array.apply(null,{length:a});return t}();BaseRenderer.prototype.checkLayers=function(e){var t,r,a=this.layers.length;for(this.completeLayers=!0,t=a-1;t>=0;t--)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e);case 99:return null}return this.createBase(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;t>e;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,r,a=e.length,i=this.layers.length;for(t=0;a>t;t+=1)for(r=0;i>r;){if(this.layers[r].id==e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){r=r||[];for(var a=this.elements,i=this.layers,n=0,s=i.length;s>n;)i[n].ind==t&&(a[n]&&!0!==a[n]?void 0!==i[n].parent?(r.push(a[n]),a[n]._isParent=!0,this.buildElementParenting(e,i[n].parent,r)):(r.push(a[n]),a[n]._isParent=!0,e.setHierarchy(r)):(this.buildItem(n),this.addPendingElement(e))),n+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(e){return new SVGBaseElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new IShapeElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new ICompElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.layerElement.setAttribute("width",e.w),this.layerElement.setAttribute("height",e.h),this.layerElement.style.width="100%",this.layerElement.style.height="100%"),this.renderConfig.className&&this.layerElement.setAttribute("class",this.renderConfig.className),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.layerElement);var t=document.createElementNS(svgNS,"defs");this.globalData.defs=t,this.layerElement.appendChild(t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h},this.data=e,this.globalData.frameRate=e.fr;var r=document.createElementNS(svgNS,"clipPath"),a=document.createElementNS(svgNS,"rect");a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("x",0),a.setAttribute("y",0);var i="animationMask_"+randomString(10);r.setAttribute("id",i),r.appendChild(a);var n=document.createElementNS(svgNS,"g");n.setAttribute("clip-path","url("+locationHref+"#"+i+")"),this.layerElement.appendChild(n),t.appendChild(r),this.layerElement=n,this.layers=e.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.elements=Array.apply(null,{length:e.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;t>e;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);t[e]=r,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?r.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;r>t;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!=e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e;var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);for(t=r-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var a,i=0;t>i;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(a=this.elements[i].getBaseElement()),i+=1;a?this.layerElement.insertBefore(r,a):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length,a=document.createElementNS(svgNS,"g");for(t=0;r>t;t+=1)if(e[t].xt){var i=this.createComp(e[t],a,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.prepareFrame=function(){var e,t=this.dynamicProperties.length;for(e=0;t>e;e+=1)this.dynamicProperties[e].getValue()},MaskElement.prototype.renderFrame=function(e){var t,r=this.masksProperties.length;for(t=0;r>t;t++)if((this.viewData[t].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op.mdf||this.firstFrame)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[t].invRect.setAttribute("x",-e.props[12]),this.viewData[t].invRect.setAttribute("y",-e.props[13])),this.storedData[t].x&&(this.storedData[t].x.mdf||this.firstFrame))){var a=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),a.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var a,i,n=" M"+t.v[0][0]+","+t.v[0][1];for(i=t._length,a=1;i>a;a+=1)n+=" C"+bm_rnd(t.o[a-1][0])+","+bm_rnd(t.o[a-1][1])+" "+bm_rnd(t.i[a][0])+","+bm_rnd(t.i[a][1])+" "+bm_rnd(t.v[a][0])+","+bm_rnd(t.v[a][1]);t.c&&i>1&&(n+=" C"+bm_rnd(t.o[a-1][0])+","+bm_rnd(t.o[a-1][1])+" "+bm_rnd(t.i[0][0])+","+bm_rnd(t.i[0][1])+" "+bm_rnd(t.v[0][0])+","+bm_rnd(t.v[0][1])),r.lastPath!==n&&(r.elem&&(t.c?e.inv?r.elem.setAttribute("d",this.solidPath+n):r.elem.setAttribute("d",n):r.elem.setAttribute("d","")),r.lastPath=n)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;t>e;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):!1!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)(this.isVisible||this._isParent&&"transform"===this.dynamicProperties[t].type)&&(this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0));return this.data.hasMask&&this.isVisible&&this.maskManager.prepareFrame(e*this.data.sr),this.currentFrameNum=e*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(e){var t=[];t.push(this.finalTransform);for(var r=!0,a=this.comp;r;)a.finalTransform?(a.data.hasMask&&t.splice(0,0,a.finalTransform),a=a.comp):r=!1;var i,n,s=t.length;for(i=0;s>i;i+=1)n=t[i].mat.applyToPointArray(0,0,0),e=[e[0]-n[0],e[1]-n[1],0];return e},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.itemsData,this.layerInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this))},BaseElement.prototype.setBlendMode=function(){var e="";switch(this.data.bm){case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=this.dynamicProperties||[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this._isParent=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(e){this.hierarchy=e},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.sourceRectAtTime=function(){return{top:0,left:0,width:100,height:100}},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement);var e=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var t=document.createElementNS(svgNS,"mask");if(t.setAttribute("id",this.layerId),t.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t),!featureSupport.maskType&&1==this.data.td){t.setAttribute("mask-type","luminance");var r=randomString(10),a=filtersFactory.createFilter(r);this.globalData.defs.appendChild(a),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(l=document.createElementNS(svgNS,"g")).appendChild(this.layerElement),e=l,t.appendChild(l),l.setAttribute("filter","url("+locationHref+"#"+r+")")}}else if(2==this.data.td){var i=document.createElementNS(svgNS,"mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type","alpha");var n=document.createElementNS(svgNS,"g");i.appendChild(n);r=randomString(10),a=filtersFactory.createFilter(r);var s=document.createElementNS(svgNS,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),a.appendChild(s),this.globalData.defs.appendChild(a);var o=document.createElementNS(svgNS,"rect");if(o.setAttribute("width",this.comp.data.w),o.setAttribute("height",this.comp.data.h),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("fill","#ffffff"),o.setAttribute("opacity","0"),n.setAttribute("filter","url("+locationHref+"#"+r+")"),n.appendChild(o),n.appendChild(this.layerElement),e=n,!featureSupport.maskType){i.setAttribute("mask-type","luminance"),a.appendChild(filtersFactory.createAlphaToLuminanceFilter());var l=document.createElementNS(svgNS,"g");n.appendChild(o),l.appendChild(this.layerElement),e=l,n.appendChild(l)}this.globalData.defs.appendChild(i)}}else(this.data.hasMask||this.data.tt)&&this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty){var h=document.createElementNS(svgNS,"clipPath"),p=document.createElementNS(svgNS,"path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var c="cp_"+randomString(8);if(h.setAttribute("id",c),h.appendChild(p),this.globalData.defs.appendChild(h),this.checkMasks()){var d=document.createElementNS(svgNS,"g");d.setAttribute("clip-path","url("+locationHref+"#"+c+")"),d.appendChild(this.layerElement),this.transformedElement=d,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+c+")")}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty||this.data.hd||!this.isVisible)return!1;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.firstFrame||this.finalTransform.op.mdf,this.finalTransform.matMdf=this.firstFrame||this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var t,r=this.finalTransform.mat;if(this.hierarchy){var a=0,i=this.hierarchy.length;if(!this.finalTransform.matMdf)for(;i>a;){if(this.hierarchy[a].finalTransform.mProp.mdf){this.finalTransform.matMdf=!0;break}a+=1}if(this.finalTransform.matMdf)for(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t),a=0;i>a;a+=1)t=this.hierarchy[a].finalTransform.mProp.v.props,r.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else this.isVisible&&(r=this.finalTransform.mProp.v);return this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",r.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&(this.finalTransform.op.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.hidden&&this.isTransparent&&(this.isTransparent=!1,this.show()),this.transformedElement.setAttribute("opacity",this.finalTransform.op.v)),this.data.hasMask&&this.maskManager.renderFrame(r),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(e){this.maskManager=new MaskElement(e,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")},SVGBaseElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGBaseElement.prototype.show=function(){this.isVisible&&!this.isTransparent&&(this.hidden=!1,this.layerElement.style.display="block")},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"square"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(e){for(var t=this.processedElements.length;t;)if(t-=1,this.processedElements[t].elem===e)return this.processedElements[t].pos;return 0},IShapeElement.prototype.addProcessedElement=function(e,t){for(var r=this.processedElements.length;r;)if(r-=1,this.processedElements[r].elem===e){this.processedElements[r].pos=t;break}0===r&&this.processedElements.push({elem:e,pos:t})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(e,t,r){var a,i="gr_"+randomString(10);(a=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",i),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var n,s,o,l=[];for(o=4*t.g.p,s=0;o>s;s+=4)n=document.createElementNS(svgNS,"stop"),a.appendChild(n),l.push(n);e.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+i+")"),this.globalData.defs.appendChild(a),r.gf=a,r.cst=l},IShapeElement.prototype.setGradientOpacity=function(e,t,r){if(e.g.k.k[0].s&&e.g.k.k[0].s.length>4*e.g.p||e.g.k.k.length>4*e.g.p){var a,i,n,s,o=document.createElementNS(svgNS,"mask"),l=document.createElementNS(svgNS,"path");o.appendChild(l);var h="op_"+randomString(10),p="mk_"+randomString(10);o.setAttribute("id",p),(a=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",h),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse"),s=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var c=[];for(n=4*e.g.p;s>n;n+=2)(i=document.createElementNS(svgNS,"stop")).setAttribute("stop-color","rgb(255,255,255)"),a.appendChild(i),c.push(i);return l.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+h+")"),this.globalData.defs.appendChild(a),this.globalData.defs.appendChild(o),t.of=a,t.ost=c,r.msElem=l,p}},IShapeElement.prototype.createStyleElement=function(e,t,r){var a={},i={data:e,type:e.ty,d:"",ld:"",lvl:t,mdf:!1,closed:!1},n=document.createElementNS(svgNS,"path");if(a.o=PropertyFactory.getProp(this,e.o,0,.01,r),("st"==e.ty||"gs"==e.ty)&&(n.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),n.setAttribute("fill-opacity","0"),1==e.lj&&n.setAttribute("stroke-miterlimit",e.ml),a.w=PropertyFactory.getProp(this,e.w,0,null,r),e.d)){var s=PropertyFactory.getDashProp(this,e.d,"svg",r);s.k||(n.setAttribute("stroke-dasharray",s.dasharray),n.setAttribute("stroke-dashoffset",s.dashoffset)),a.d=s}if("fl"==e.ty||"st"==e.ty)a.c=PropertyFactory.getProp(this,e.c,1,255,r);else{a.g=PropertyFactory.getGradientProp(this,e.g,r),2==e.t&&(a.h=PropertyFactory.getProp(this,e.h,0,.01,r),a.a=PropertyFactory.getProp(this,e.a,0,degToRads,r)),a.s=PropertyFactory.getProp(this,e.s,1,null,r),a.e=PropertyFactory.getProp(this,e.e,1,null,r),this.setGradientData(n,e,a,i);var o=this.setGradientOpacity(e,a,i);o&&n.setAttribute("mask","url(#"+o+")")}return a.elem=n,2===e.r&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),i.pElem=n,this.stylesList.push(i),a.style=i,a},IShapeElement.prototype.createGroupElement=function(e){var t={it:[],prevViewData:[]},r=document.createElementNS(svgNS,"g");return t.gr=r,e.ln&&t.gr.setAttribute("id",e.ln),t},IShapeElement.prototype.createTransformElement=function(e,t){return{transform:{op:PropertyFactory.getProp(this,e.o,0,.01,t),mProps:PropertyFactory.getProp(this,e,2,null,t)},elements:[]}},IShapeElement.prototype.createShapeElement=function(e,t,r,a){var i={elements:[],caches:[],styles:[],transformers:t,lStr:""},n=4;return"rc"==e.ty?n=5:"el"==e.ty?n=6:"sr"==e.ty&&(n=7),i.sh=ShapePropertyFactory.getShapeProp(this,e,n,a),i.lvl=r,this.shapes.push(i.sh),this.addShapeToModifiers(i),i};var cont=0;IShapeElement.prototype.setElementStyles=function(){var e,t=this.stylesList.length,r=[];for(e=0;t>e;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e]);return r},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var t;e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(e,t,r,a,i,n,s,o){var l,h,p,c,d,f,m=[].concat(s),u=e.length-1,g=[],y=[];for(l=u;l>=0;l-=1){if((f=this.searchProcessedElement(e[l]))?t[l]=r[f-1]:e[l]._render=o,"fl"==e[l].ty||"st"==e[l].ty||"gf"==e[l].ty||"gs"==e[l].ty)f?t[l].style.closed=!1:t[l]=this.createStyleElement(e[l],n,i),e[l]._render&&a.appendChild(t[l].elem),g.push(t[l].style);else if("gr"==e[l].ty){if(f)for(p=t[l].it.length,h=0;p>h;h+=1)t[l].prevViewData[h]=t[l].it[h];else t[l]=this.createGroupElement(e[l]);this.searchShapes(e[l].it,t[l].it,t[l].prevViewData,t[l].gr,i,n+1,m,o),e[l]._render&&a.appendChild(t[l].gr)}else"tr"==e[l].ty?(f||(t[l]=this.createTransformElement(e[l],i)),c=t[l].transform,m.push(c)):"sh"==e[l].ty||"rc"==e[l].ty||"el"==e[l].ty||"sr"==e[l].ty?(f||(t[l]=this.createShapeElement(e[l],m,n,i)),t[l].elements=this.setElementStyles()):"tm"==e[l].ty||"rd"==e[l].ty||"ms"==e[l].ty?(f?(d=t[l]).closed=!1:((d=ShapeModifiers.getModifier(e[l].ty)).init(this,e[l],i),t[l]=d,this.shapeModifiers.push(d)),y.push(d)):"rp"==e[l].ty&&(f?(d=t[l]).closed=!0:(d=ShapeModifiers.getModifier(e[l].ty),t[l]=d,d.init(this,e,l,t,i),this.shapeModifiers.push(d),o=!1),y.push(d));this.addProcessedElement(e[l],l+1)}for(u=g.length,l=0;u>l;l+=1)g[l].closed=!0;for(u=y.length,l=0;u>l;l+=1)y[l].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(e){var t,r=this.shapeModifiers.length;for(t=0;r>t;t+=1)this.shapeModifiers[t].addShape(e)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;t>e;e+=1)this.shapes[e].reset();for(e=(t=this.shapeModifiers.length)-1;e>=0;e-=1)this.shapeModifiers[e].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var t,r=this.stylesList.length;for(t=0;r>t;t+=1)this.stylesList[t].d="",this.stylesList[t].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),t=0;r>t;t+=1)"0"===this.stylesList[t].ld&&(this.stylesList[t].ld="1",this.stylesList[t].pElem.style.display="block"),(this.stylesList[t].mdf||this.firstFrame)&&(this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].msElem&&this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d));this.firstFrame&&(this.firstFrame=!1)}else this.hide()},IShapeElement.prototype.hide=function(){if(!this.hidden){var e;for(this.layerElement.style.display="none",e=this.stylesList.length-1;e>=0;e-=1)"0"!==this.stylesList[e].ld&&(this.stylesList[e].ld="0",this.stylesList[e].pElem.style.display="none",this.stylesList[e].pElem.parentNode&&(this.stylesList[e].parent=this.stylesList[e].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(e,t,r){var a,i;for(a=e.length-1;a>=0;a-=1)"tr"==(i=e[a].ty)?((this.firstFrame||t[a].transform.op.mdf&&r)&&r.setAttribute("opacity",t[a].transform.op.v),(this.firstFrame||t[a].transform.mProps.mdf&&r)&&r.setAttribute("transform",t[a].transform.mProps.v.to2dCSS())):"sh"==i||"el"==i||"rc"==i||"sr"==i?this.renderPath(e[a],t[a]):"fl"==i?this.renderFill(e[a],t[a]):"gf"==i?this.renderGradient(e[a],t[a]):"gs"==i?(this.renderGradient(e[a],t[a]),this.renderStroke(e[a],t[a])):"st"==i?this.renderStroke(e[a],t[a]):"gr"==i&&this.renderShape(e[a].it,t[a].it,t[a].gr)},IShapeElement.prototype.buildShapeString=function(e,t,r,a){var i,n="";for(i=1;t>i;i+=1)1===i&&(n+=" M"+a.applyToPointStringified(e.v[0][0],e.v[0][1])),n+=" C"+a.applyToPointStringified(e.o[i-1][0],e.o[i-1][1])+" "+a.applyToPointStringified(e.i[i][0],e.i[i][1])+" "+a.applyToPointStringified(e.v[i][0],e.v[i][1]);return 1===t&&(n+=" M"+a.applyToPointStringified(e.v[0][0],e.v[0][1])),r&&t&&(n+=" C"+a.applyToPointStringified(e.o[i-1][0],e.o[i-1][1])+" "+a.applyToPointStringified(e.i[0][0],e.i[0][1])+" "+a.applyToPointStringified(e.v[0][0],e.v[0][1]),n+="z"),n},IShapeElement.prototype.renderPath=function(e,t){var r,a,i,n,s,o,l=t.elements.length,h=t.lvl;if(e._render)for(o=0;l>o;o+=1)if(t.elements[o].data._render){n=t.sh.mdf||this.firstFrame,i="M0 0";var p=t.sh.paths;if(a=p._length,t.elements[o].lvl<h){for(var c,d=this.mHelper.reset(),f=h-t.elements[o].lvl,m=t.transformers.length-1;f>0;)n=t.transformers[m].mProps.mdf||n,c=t.transformers[m].mProps.v.props,d.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),f--,m--;if(n){for(r=0;a>r;r+=1)(s=p.shapes[r])&&s._length&&(i+=this.buildShapeString(s,s._length,s.c,d));t.caches[o]=i}else i=t.caches[o]}else if(n){for(r=0;a>r;r+=1)(s=p.shapes[r])&&s._length&&(i+=this.buildShapeString(s,s._length,s.c,this.identityMatrix));t.caches[o]=i}else i=t.caches[o];t.elements[o].d+=i,t.elements[o].mdf=n||t.elements[o].mdf}else t.elements[o].mdf=!0},IShapeElement.prototype.renderFill=function(e,t){var r=t.style;(t.c.mdf||this.firstFrame)&&r.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||this.firstFrame)&&r.pElem.setAttribute("fill-opacity",t.o.v)},IShapeElement.prototype.renderGradient=function(e,t){var r,a,i,n,s,o=t.gf,l=t.of,h=t.s.v,p=t.e.v;if(t.o.mdf||this.firstFrame){var c="gf"===e.ty?"fill-opacity":"stroke-opacity";t.elem.setAttribute(c,t.o.v)}if(t.s.mdf||this.firstFrame){var d=1===e.t?"x1":"cx",f="x1"===d?"y1":"cy";o.setAttribute(d,h[0]),o.setAttribute(f,h[1]),l&&(l.setAttribute(d,h[0]),l.setAttribute(f,h[1]))}if(t.g.cmdf||this.firstFrame){r=t.cst;var m=t.g.c;for(i=r.length,a=0;i>a;a+=1)(n=r[a]).setAttribute("offset",m[4*a]+"%"),n.setAttribute("stop-color","rgb("+m[4*a+1]+","+m[4*a+2]+","+m[4*a+3]+")")}if(l&&(t.g.omdf||this.firstFrame)){r=t.ost;var u=t.g.o;for(i=r.length,a=0;i>a;a+=1)(n=r[a]).setAttribute("offset",u[2*a]+"%"),n.setAttribute("stop-opacity",u[2*a+1])}if(1===e.t)(t.e.mdf||this.firstFrame)&&(o.setAttribute("x2",p[0]),o.setAttribute("y2",p[1]),l&&(l.setAttribute("x2",p[0]),l.setAttribute("y2",p[1])));else if((t.s.mdf||t.e.mdf||this.firstFrame)&&(s=Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2)),o.setAttribute("r",s),l&&l.setAttribute("r",s)),t.e.mdf||t.h.mdf||t.a.mdf||this.firstFrame){s||(s=Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2)));var g=Math.atan2(p[1]-h[1],p[0]-h[0]),y=s*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),v=Math.cos(g+t.a.v)*y+h[0],b=Math.sin(g+t.a.v)*y+h[1];o.setAttribute("fx",v),o.setAttribute("fy",b),l&&(l.setAttribute("fx",v),l.setAttribute("fy",b))}},IShapeElement.prototype.renderStroke=function(e,t){var r=t.style,a=t.d;a&&a.k&&(a.mdf||this.firstFrame)&&(r.pElem.setAttribute("stroke-dasharray",a.dasharray),r.pElem.setAttribute("stroke-dashoffset",a.dashoffset)),t.c&&(t.c.mdf||this.firstFrame)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||this.firstFrame)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w.mdf||this.firstFrame)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null},ITextElement.prototype.init=function(){this.lettersChangedFlag=!0,this.dynamicProperties=this.dynamicProperties||[],this.textAnimator=new TextAnimatorProperty(this.data.t,this.renderType,this),this.textProperty=new TextProperty(this,this.data.t,this.dynamicProperties),this._parent.init.call(this),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._parent.prepareFrame.call(this,e),(this.textProperty.mdf||this.textProperty.firstFrame)&&(this.buildNewText(),this.textProperty.firstFrame=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,a,i=t.length,n="";for(r=0;i>r;r+=1)a=t[r].ks.k,n+=this.buildShapeString(a,a.i.length,!0,e);return n},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,a,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(a,i,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.buildShapeString=IShapeElement.prototype.buildShapeString,ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},createElement(SVGBaseElement,SVGTextElement),extendPrototype(ITextElement,SVGTextElement),SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=document.createElementNS(svgNS,"text"))},SVGTextElement.prototype.buildNewText=function(){var e,t,r=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:r?r.l.length:0}),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.s);var a=this.globalData.fontManager.getFontByName(r.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var i=r.fWeight,n=r.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",i)}var s=r.l||[],o=this.globalData.fontManager.chars;if(t=s.length){var l,h,p=this.mHelper,c="",d=this.data.singleShape,f=0,m=0,u=!0,g=r.tr/1e3*r.s;if(d&&!o){var y=this.textContainer,v="";switch(r.j){case 1:v="end";break;case 2:v="middle";break;case 2:v="start"}y.setAttribute("text-anchor",v),y.setAttribute("letter-spacing",g);var b=r.t.split(String.fromCharCode(13));t=b.length;m=r.ps?r.ps[1]+r.ascent:0;for(e=0;t>e;e+=1)(l=this.textSpans[e]||document.createElementNS(svgNS,"tspan")).textContent=b[e],l.setAttribute("x",0),l.setAttribute("y",m),l.style.display="inherit",y.appendChild(l),this.textSpans[e]=l,m+=r.lh;this.layerElement.appendChild(y)}else{var C,S,w=this.textSpans.length;for(e=0;t>e;e+=1)o&&d&&0!==e||(l=w>e?this.textSpans[e]:document.createElementNS(svgNS,o?"path":"text"),e>=w&&(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=l,this.layerElement.appendChild(l)),l.style.display="inherit"),p.reset(),o?(p.scale(r.s/100,r.s/100),d&&(s[e].n&&(f=-g,m+=r.yOffset,m+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(r,p,s[e].line,f,m),f+=s[e].l||0,f+=g),h=(C=(S=this.globalData.fontManager.getCharData(r.t.charAt(e),a.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&S.data||{}).shapes?C.shapes[0].it:[],d?c+=this.createPathShape(p,h):l.setAttribute("d",this.createPathShape(p,h))):(l.textContent=s[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&l.setAttribute("d",c)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0}},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderLetters(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderLetters=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,r,a,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;for(t=n.length,e=0;t>e;e+=1)n[e].n||(r=i[e],a=this.textSpans[e],r.mdf.m&&a.setAttribute("transform",r.m),r.mdf.o&&a.setAttribute("opacity",r.o),r.mdf.sw&&a.setAttribute("stroke-width",r.sw),r.mdf.sc&&a.setAttribute("stroke",r.sc),r.mdf.fc&&a.setAttribute("fill",r.fc))}},SVGTextElement.prototype.renderFrame=function(e){return!1===this._parent.renderFrame.call(this,e)?void this.hide():(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1),void this.renderLetters())},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+a+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,a,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(a=this.elem.maskManager.masksProperties.length,r=0):a=(r=this.filterManager.effectElements[0].p.v-1)+1,(t=document.createElementNS(svgNS,"g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);a>r;r+=1)e=document.createElementNS(svgNS,"path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var n=document.createElementNS(svgNS,"mask"),s="stms_"+randomString(10);n.setAttribute("id",s),n.setAttribute("mask-type","alpha"),n.appendChild(t),this.elem.globalData.defs.appendChild(n);var o=document.createElementNS(svgNS,"g");o.setAttribute("mask","url("+locationHref+"#"+s+")"),i[0]&&o.appendChild(i[0]),this.elem.layerElement.appendChild(o),this.masker=n,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,r,a,i=this.paths.length;for(t=0;i>t;t+=1)if(r=this.elem.maskManager.viewData[this.paths[t].m],a=this.paths[t].p,(e||this.filterManager.mdf||r.prop.mdf)&&a.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||r.prop.mdf){var n;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=a.getTotalLength();n="0 0 0 "+l*s+" ";var h,p=l*(o-s),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,d=Math.floor(p/c);for(h=0;d>h;h+=1)n+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";n+="0 "+10*l+" 0 0"}else n="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;a.setAttribute("stroke-dasharray",n)}if((e||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p.mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*f[0])+","+bm_floor(255*f[1])+","+bm_floor(255*f[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,i=a[0]+" "+r[0]+" "+t[0],n=a[1]+" "+r[1]+" "+t[1],s=a[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",n),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=document.createElementNS(svgNS,e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,a,i){for(var n,s,o=0,l=Math.min(e,t),h=Math.max(e,t),p=Array.call(null,{length:256}),c=0,d=i-a,f=t-e;256>=o;)s=l>=(n=o/256)?0>f?i:a:n>=h?0>f?a:i:a+d*Math.pow((n-e)/f,1/r),p[c++]=s,o+=256/255;return p.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[2].p.mdf||r[3].p.mdf||r[4].p.mdf||r[5].p.mdf||r[6].p.mdf)&&(t=this.getTableValue(r[2].p.v,r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[9].p.mdf||r[10].p.mdf||r[11].p.mdf||r[12].p.mdf||r[13].p.mdf)&&(t=this.getTableValue(r[9].p.v,r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[16].p.mdf||r[17].p.mdf||r[18].p.mdf||r[19].p.mdf||r[20].p.mdf)&&(t=this.getTableValue(r[16].p.v,r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[23].p.mdf||r[24].p.mdf||r[25].p.mdf||r[26].p.mdf||r[27].p.mdf)&&(t=this.getTableValue(r[23].p.v,r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[30].p.mdf||r[31].p.mdf||r[32].p.mdf||r[33].p.mdf||r[34].p.mdf)&&(t=this.getTableValue(r[30].p.v,r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){if((e||this.filterManager.effectElements[4].p.mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p.mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p.mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p.mdf||this.filterManager.effectElements[3].p.mdf){var r=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(a),n=r*Math.sin(a);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",n)}}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){var r=document.createElementNS(svgNS,"mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),r.appendChild(t.layerElement),e.setMatte(t.layerId),t.data.hd=!1,e.globalData.defs.appendChild(r)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=0,r=this.elem.comp.elements.length;r>t;)this.elem.comp.elements[t].data.ind===e&&this.setElementAsMask(this.elem,this.elem.comp.elements[t]),t+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;r>t;t+=1)this.filters[t].renderFrame(e)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){this._parent.hide.call(this);var e,t=this.elements.length;for(e=0;t>e;e+=1)this.elements[e]&&this.elements[e].hide()}},ICompElement.prototype.prepareFrame=function(e){if(this._parent.prepareFrame.call(this,e),!1!==this.isVisible||this.data.xt){if(this.tm){var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}else this.renderedFrame=e/this.data.sr;var r,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=0;a>r;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st)}},ICompElement.prototype.renderFrame=function(e){var t,r=this._parent.renderFrame.call(this,e),a=this.layers.length;if(!1!==r){for(this.hidden&&this.show(),t=0;a>t;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var e,t=this.layers.length;for(e=0;t>e;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var e=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.renderFrame=function(e){return!1===this._parent.renderFrame.call(this,e)?void this.hide():(this.hidden&&this.show(),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var e=document.createElementNS(svgNS,"rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e),this.innerElem=e,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=function(){function e(e){for(var t=0,r=e.target;c>t;)h[t].animation===r&&(h.splice(t,1),t-=1,c-=1,r.isPaused||a()),t+=1}function t(e,t){if(!e)return null;for(var r=0;c>r;){if(h[r].elem==e&&null!==h[r].elem)return h[r].animation;r+=1}var a=new AnimationItem;return i(a,e),a.setData(e,t),a}function r(){f+=1,d&&(d=!1,window.requestAnimationFrame(s))}function a(){0===(f-=1)&&(d=!0)}function i(t,i){t.addEventListener("destroy",e),t.addEventListener("_active",r),t.addEventListener("_idle",a),h.push({elem:i,animation:t}),c+=1}function n(e){var t,r=e-p;for(t=0;c>t;t+=1)h[t].animation.advanceTime(r);p=e,d||window.requestAnimationFrame(n)}function s(e){p=e,window.requestAnimationFrame(n)}function o(){window.requestAnimationFrame(s)}var l={},h=[],p=0,c=0,d=!0,f=0;return setTimeout(o,0),l.registerAnimation=t,l.loadAnimation=function(e){var t=new AnimationItem;return i(t,null),t.setParams(e),t},l.setSpeed=function(e,t){var r;for(r=0;c>r;r+=1)h[r].animation.setSpeed(e,t)},l.setDirection=function(e,t){var r;for(r=0;c>r;r+=1)h[r].animation.setDirection(e,t)},l.play=function(e){var t;for(t=0;c>t;t+=1)h[t].animation.play(e)},l.moveFrame=function(e,t){var r;for(p=Date.now(),r=0;c>r;r+=1)h[r].animation.moveFrame(e,t)},l.pause=function(e){var t;for(t=0;c>t;t+=1)h[t].animation.pause(e)},l.stop=function(e){var t;for(t=0;c>t;t+=1)h[t].animation.stop(e)},l.togglePause=function(e){var t;for(t=0;c>t;t+=1)h[t].animation.togglePause(e)},l.searchAnimations=function(e,r,a){var i,n=document.getElementsByClassName("bodymovin"),s=n.length;for(i=0;s>i;i+=1)a&&n[i].setAttribute("data-bm-type",a),t(n[i],e);if(r&&0===s){a||(a="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var l=document.createElement("div");l.style.width="100%",l.style.height="100%",l.setAttribute("data-bm-type",a),o.appendChild(l),t(l,e)}},l.resize=function(){var e;for(e=0;c>e;e+=1)h[e].animation.resize()},l.start=o,l.goToAndStop=function(e,t,r){var a;for(a=0;c>a;a+=1)h[a].animation.goToAndStop(e,t,r)},l.destroy=function(e){var t;for(t=c-1;t>=0;t-=1)h[t].animation.destroy(e)},l}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()};AnimationItem.prototype.setParams=function(e){var t=this;e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var r=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(r){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,e.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=r,""===e.loop||null===e.loop||(this.loop=!1!==e.loop&&(!0===e.loop||parseInt(e.loop))),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.prerenderFramesFlag=!("prerender"in e)||e.prerender,this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,e.animationData)t.configAnimation(e.animationData);else if(e.path){"json"!=e.path.substr(-4)&&("/"!=e.path.substr(-1,1)&&(e.path+="/"),e.path+="data.json");var a=new XMLHttpRequest;this.path=-1!=e.path.lastIndexOf("\\")?e.path.substr(0,e.path.lastIndexOf("\\")+1):e.path.substr(0,e.path.lastIndexOf("/")+1),this.assetsPath=e.assetsPath,this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),a.open("GET",e.path,!0),a.send(),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)t.configAnimation(JSON.parse(a.responseText));else try{var e=JSON.parse(a.responseText);t.configAnimation(e)}catch(e){}}}},AnimationItem.prototype.setData=function(e,t){var r={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},a=e.attributes;r.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",r.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:"canvas";var i=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";""===i||(r.loop="false"!==i&&("true"===i||parseInt(i)));var n=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:!a.getNamedItem("bm-autoplay")||a.getNamedItem("bm-autoplay").value;r.autoplay="false"!==n,r.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"","false"===(a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var t,r,a=this.animationData.layers,i=a.length,n=e.layers,s=n.length;for(r=0;s>r;r+=1)for(t=0;i>t;){if(a[t].id==n[r].id){a[t]=n[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(i=e.assets.length,t=0;i>t;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=new XMLHttpRequest,a=this,i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,r.open("GET",i,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status)a.includeLayers(JSON.parse(r.responseText));else try{var e=JSON.parse(r.responseText);a.includeLayers(e)}catch(e){}}},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(e){var t=this;this.renderer&&this.renderer.destroyed||(this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(e),e.assets||(e.assets=[]),e.comps&&(e.assets=e.assets.concat(e.comps),e.comps=null),this.renderer.searchExtraCompositions(e.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(e.assets,function(e){e||t.trigger("loaded_images")}),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){return function(){(function e(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(e.bind(this),20)}).bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.subframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(e,t,r){r&&this.name!=r||(this.setCurrentRawFrameValue(t?e:e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,r){this.goToAndStop(e,t,r),this.play()},AnimationItem.prototype.advanceTime=function(e){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(!0!==this.isPaused&&!1!==this.isLoaded&&this.setCurrentRawFrameValue(this.currentRawFrame+e*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(e){this.setCurrentRawFrameValue(this.totalFrames*e)},AnimationItem.prototype.moveFrame=function(e,t){t&&this.name!=t||this.setCurrentRawFrameValue(this.currentRawFrame+e)},AnimationItem.prototype.adjustSegment=function(e){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e-.01)),this.firstFrame=e,this.totalFrames=t-e,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if("object"==typeof e[0]){var r,a=e.length;for(r=0;a>r;r+=1)this.segments.push(e[r])}else this.segments.push(e);t&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),e&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(e){e&&this.name!=e||this.renderer.destroy()},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){if(this.currentRawFrame=e,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),!1===this.loop)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,!0!==this.loop&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),!1===this.loop||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=0>e?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;r>t;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(e){return new CVBaseElement(e,this,this.globalData)},CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this,this.globalData)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this,this.globalData)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this,this.globalData)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13]);this.transformMat.cloneFromProps(e),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var t=this.contextData.cTr.props;this.canvasContext.setTransform(t[0],t[1],t[4],t[5],t[12],t[13])}},CanvasRenderer.prototype.ctxOpacity=function(e){if(1!==e){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=0>e?0:e);this.contextData.cO*=0>e?0:e,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t=this.contextData.cTr.props;(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var r,a=this.contextData.saved[this.contextData.cArrPos];for(r=0;16>r;r+=1)a[r]=t[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],a=this.contextData.cTr.props;for(t=0;16>t;t+=1)a[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.canvasContext.globalAlpha=r}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=e,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(e.tf),this.globalData.compWidth=e.w,this.globalData.compHeight=e.h,this.globalData.frameRate=e.fr,this.globalData.frameId=0,this.globalData.compSize={w:e.w,h:e.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=e.layers,this.transformCanvas={},this.transformCanvas.w=e.w,this.transformCanvas.h=e.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:e.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,r,a;if(this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),n=i[1]||"meet",s=i[0]||"xMidYMid",o=s.substr(0,4),l=s.substr(4);r=e/t,(a=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===n||r>a&&"slice"===n?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(r>a&&"meet"===n||a>r&&"slice"===n)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(r>a&&"meet"===n||a>r&&"slice"===n)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(a>r&&"meet"===n||r>a&&"slice"===n)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(a>r&&"meet"===n||r>a&&"slice"===n)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var h,p=this.elements.length;for(h=0;p>h;h+=1)this.elements[h]&&0===this.elements[h].data.ty&&this.elements[h].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e){if(!(this.renderedFrame==e&&!0===this.renderConfig.clearCanvas||this.destroyed||null===e)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,!0===this.renderConfig.clearCanvas?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=0;r>t;t++)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);for(t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();!0!==this.renderConfig.clearCanvas?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions(),0===this.layers[e].ty&&r.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(document.createElementNS(svgNS,"g"),t=0;r>t;t+=1)if(e[t].xt){var a=this.createComp(e[t],this.globalData.comp,this.globalData);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var a=this.layers[t];if(a.ddd&&this.supports3d)this.addTo3dContainer(r,t);else{for(var i,n,s=0;t>s;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s],i=this.layers[s].ddd?this.getThreeDContainerByPos(s):n.getBaseElement()),s+=1;i?a.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):a.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createBase=function(e){return new SVGBaseElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.layerElement,this.globalData,this):new IShapeElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.layerElement,this.globalData,this):new SVGTextElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.layerElement,this.globalData,this):new IImageElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.layerElement,this.globalData,this):new ICompElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.layerElement,this.globalData,this):new ISolidElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;r>t;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e){var t=document.createElement("div");styleDiv(t),t.style.width=this.globalData.compSize.w+"px",t.style.height=this.globalData.compSize.h+"px",t.style.transformOrigin=t.style.mozTransformOrigin=t.style.webkitTransformOrigin="50% 50%";var r=document.createElement("div");styleDiv(r),r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",t.appendChild(r),this.resizerElem.appendChild(t);var a={container:r,perspectiveElem:t,startPos:e,endPos:e};return this.threeDElements.push(a),a},HybridRenderer.prototype.build3dContainers=function(){var e,t,r=this.layers.length;for(e=0;r>e;e+=1)this.layers[e].ddd?(t||(t=this.createThreeDContainer(e)),t.endPos=Math.max(t.endPos,e)):t=null},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var r=0,a=this.threeDElements.length;a>r;){if(t<=this.threeDElements[r].endPos){for(var i,n=this.threeDElements[r].startPos;t>n;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.threeDElements[r].container.insertBefore(e,i):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=document.createElement("div"),r=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",this.resizerElem=t,styleDiv(t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&r.setAttribute("class",this.renderConfig.className),r.appendChild(t),t.style.overflow="hidden";var a=document.createElementNS(svgNS,"svg");a.setAttribute("width","1"),a.setAttribute("height","1"),styleDiv(a),this.resizerElem.appendChild(a);var i=document.createElementNS(svgNS,"defs");a.appendChild(i),this.globalData.defs=i,this.data=e,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:e.w,h:e.h},this.globalData.frameRate=e.fr,this.layers=e.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,a),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;t>e;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,r,a,i=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight,s=i/n;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=i/this.globalData.compSize.w,t=i/this.globalData.compSize.w,r=0,a=(n-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(e=n/this.globalData.compSize.h,t=n/this.globalData.compSize.h,r=(i-this.globalData.compSize.w*(n/this.globalData.compSize.h))/2,a=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+a+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,a=this.threeDElements.length;for(e=0;a>e;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length,a=document.createElement("div");for(t=0;r>t;t+=1)if(e[t].xt){var i=this.createComp(e[t],a,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(e){if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t="";switch(this.data.bm){case 0:t="normal";break;case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}e.canvasContext.globalCompositeOperation=t}},CVBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var t,r=this.finalTransform.mat;if(this.hierarchy){var a,i=this.hierarchy.length;for(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t),a=0;i>a;a+=1)this.finalTransform.matMdf=!!this.hierarchy[a].finalTransform.mProp.mdf||this.finalTransform.matMdf,t=this.hierarchy[a].finalTransform.mProp.v.props,r.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else e?(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t)):r.cloneFromProps(this.finalTransform.mProp.v.props);return e&&(t=e.mat.props,r.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.finalTransform.opacity*=e.opacity,this.finalTransform.opMdf=!!e.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!e.matMdf||this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:r)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(e){this.maskManager=new CVMaskElement(e,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(e){var t=Math.max(e.sx,e.sy);this.canvas.width=this.data.w*t,this.canvas.height=this.data.h*t,this.transformCanvas={sc:t,w:this.data.w*t,h:this.data.h*t,props:[t,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]};var r,a=this.elements.length;for(r=0;a>r;r+=1)this.elements[r]&&0===this.elements[r].data.ty&&this.elements[r].resize(e)},CVCompElement.prototype.prepareFrame=function(e){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,e),!1!==this.isVisible||this.data.xt){var t=e;this.tm&&((t=this.tm.v)===this.data.op&&(t=this.data.op-1)),this.renderedFrame=t/this.data.sr;var r,a=this.elements.length;for(this.completeLayers||this.checkLayers(e),r=0;a>r;r+=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(t/this.data.sr-this.layers[r].st),0===this.elements[r].data.ty&&this.elements[r].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t;if(this.globalData.mdf)for(t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(e){this.elements=e},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var e=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var e=document.createElement("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,a=e.getContext("2d"),i=this.img.width,n=this.img.height,s=i/n,o=this.assetData.w/this.assetData.h;s>o?t=(r=n)*o:r=(t=i)/o,a.drawImage(this.img,(i-t)/2,(n-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}}.bind(this),t=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",e,!1),this.img.addEventListener("error",t,!1);var r=this.globalData.getAssetsPath(this.assetData);this.img.src=r,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(e){if(!this.failed&&!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext;this.globalData.renderer.save();var r=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(r),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.prepareFrame=function(e){var t,r=this.dynamicProperties.length;for(t=0;r>t;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(e){var t,r,a,i,n,s=this.element.canvasContext,o=this.data.masksProperties.length,l=!1;for(t=0;o>t;t++)if("n"!==this.masksProperties[t].mode){!1===l&&(s.beginPath(),l=!0),this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compWidth,0),s.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),s.lineTo(0,this.element.globalData.compHeight),s.lineTo(0,0)),n=this.viewData[t].v,r=e?e.applyToPointArray(n.v[0][0],n.v[0][1],0):n.v[0],s.moveTo(r[0],r[1]);var h,p=n._length;for(h=1;p>h;h++)r=e?e.applyToPointArray(n.o[h-1][0],n.o[h-1][1],0):n.o[h-1],a=e?e.applyToPointArray(n.i[h][0],n.i[h][1],0):n.i[h],i=e?e.applyToPointArray(n.v[h][0],n.v[h][1],0):n.v[h],s.bezierCurveTo(r[0],r[1],a[0],a[1],i[0],i[1]);r=e?e.applyToPointArray(n.o[h-1][0],n.o[h-1][1],0):n.o[h-1],a=e?e.applyToPointArray(n.i[0][0],n.i[0][1],0):n.i[0],i=e?e.applyToPointArray(n.v[0][0],n.v[0][1],0):n.v[0],s.bezierCurveTo(r[0],r[1],a[0],a[1],i[0],i[1])}l&&s.clip()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0)},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,elements:[]},a={};if(("fl"==e.ty||"st"==e.ty)&&(a.c=PropertyFactory.getProp(this,e.c,1,255,t),a.c.k||(r.co="rgb("+bm_floor(a.c.v[0])+","+bm_floor(a.c.v[1])+","+bm_floor(a.c.v[2])+")")),a.o=PropertyFactory.getProp(this,e.o,0,.01,t),"st"==e.ty){if(r.lc=this.lcEnum[e.lc]||"round",r.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(r.ml=e.ml),a.w=PropertyFactory.getProp(this,e.w,0,null,t),a.w.k||(r.wi=a.w.v),e.d){var i=PropertyFactory.getDashProp(this,e.d,"canvas",t);a.d=i,a.d.k||(r.da=a.d.dasharray,r.do=a.d.dashoffset)}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),a.style=r,a},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e,t){return{transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,e.o,0,.01,t),mProps:PropertyFactory.getProp(this,e,2,null,t)},elements:[]}},CVShapeElement.prototype.createShapeElement=function(e,t){var r={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},a=4;"rc"==e.ty?a=5:"el"==e.ty?a=6:"sr"==e.ty&&(a=7),r.sh=ShapePropertyFactory.getShapeProp(this,e,a,t),this.shapes.push(r.sh),this.addShapeToModifiers(r),jLen=this.stylesList.length;var i=!1,n=!1;for(j=0;j<jLen;j+=1)this.stylesList[j].closed||(this.stylesList[j].elements.push(r),"st"===this.stylesList[j].type?i=!0:n=!0);return r.st=i,r.fl=n,r},CVShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0);var t;e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(e,t,r,a,i){var n,s,o,l,h=e.length-1,p=[],c=[];for(n=h;n>=0;n-=1){if((l=this.searchProcessedElement(e[n]))?t[n]=r[l-1]:e[n]._render=i,"fl"==e[n].ty||"st"==e[n].ty)l?t[n].style.closed=!1:t[n]=this.createStyleElement(e[n],a),p.push(t[n].style);else if("gr"==e[n].ty){if(l)for(o=t[n].it.length,s=0;o>s;s+=1)t[n].prevViewData[s]=t[n].it[s];else t[n]=this.createGroupElement(e[n]);this.searchShapes(e[n].it,t[n].it,t[n].prevViewData,a,i)}else if("tr"==e[n].ty)l||(t[n]=this.createTransformElement(e[n],a));else if("sh"==e[n].ty||"rc"==e[n].ty||"el"==e[n].ty||"sr"==e[n].ty)l||(t[n]=this.createShapeElement(e[n],a));else if("tm"==e[n].ty||"rd"==e[n].ty){if(l)(d=t[n]).closed=!1;else{var d=ShapeModifiers.getModifier(e[n].ty);d.init(this,e[n],a),t[n]=d,this.shapeModifiers.push(d)}c.push(d)}else"rp"==e[n].ty&&(l?(d=t[n]).closed=!0:(d=ShapeModifiers.getModifier(e[n].ty),t[n]=d,d.init(this,e,n,t,a),this.shapeModifiers.push(d),i=!1),c.push(d));this.addProcessedElement(e[n],n+1)}for(h=p.length,n=0;h>n;n+=1)p[n].closed=!0;for(h=c.length,n=0;h>n;n+=1)c[n].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.lcEnum=IShapeElement.prototype.lcEnum,CVShapeElement.prototype.ljEnum=IShapeElement.prototype.ljEnum,CVShapeElement.prototype.searchProcessedElement=IShapeElement.prototype.searchProcessedElement,CVShapeElement.prototype.addProcessedElement=IShapeElement.prototype.addProcessedElement,CVShapeElement.prototype.renderFrame=function(e){!1!==this._parent.renderFrame.call(this,e)&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(e,t,r,a){var i,n,s,o;if(!t)for(t=this.shapesData,n=this.stylesList.length,i=0;n>i;i+=1)this.stylesList[i].d="",this.stylesList[i].mdf=!1;for(r||(r=this.itemsData),s=e,i=n=t.length-1;i>=0;i-=1)if("tr"==t[i].ty){s=r[i].transform;var l=r[i].transform.mProps.v.props;if(s.matMdf=s.mProps.mdf,s.opMdf=s.op.mdf,(o=s.mat).cloneFromProps(l),e){var h=e.mat.props;s.opacity=e.opacity,s.opacity*=r[i].transform.op.v,s.matMdf=!!e.matMdf||s.matMdf,s.opMdf=!!e.opMdf||s.opMdf,o.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}else s.opacity=s.op.o}else"sh"==t[i].ty||"el"==t[i].ty||"rc"==t[i].ty||"sr"==t[i].ty?this.renderPath(t[i],r[i],s):"fl"==t[i].ty?this.renderFill(t[i],r[i],s):"st"==t[i].ty?this.renderStroke(t[i],r[i],s):"gr"==t[i].ty?this.renderShape(s,t[i].it,r[i].it):t[i].ty;if(a){n=this.stylesList.length;var p,c,d,f,m,u,g,y=this.globalData.renderer,v=this.globalData.canvasContext;for(y.save(),y.ctxTransform(this.finalTransform.mat.props),i=0;n>i;i+=1)if(("st"!==(g=this.stylesList[i].type)||0!==this.stylesList[i].wi)&&this.stylesList[i].data._render){for(y.save(),m=this.stylesList[i].elements,"st"===g?(v.strokeStyle=this.stylesList[i].co,v.lineWidth=this.stylesList[i].wi,v.lineCap=this.stylesList[i].lc,v.lineJoin=this.stylesList[i].lj,v.miterLimit=this.stylesList[i].ml||0):v.fillStyle=this.stylesList[i].co,y.ctxOpacity(this.stylesList[i].coOp),"st"!==g&&v.beginPath(),c=m.length,p=0;c>p;p+=1){for("st"===g&&(v.beginPath(),this.stylesList[i].da?(v.setLineDash(this.stylesList[i].da),v.lineDashOffset=this.stylesList[i].do,this.globalData.isDashed=!0):this.globalData.isDashed&&(v.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),f=(u=m[p].trNodes).length,d=0;f>d;d+=1)"m"==u[d].t?v.moveTo(u[d].p[0],u[d].p[1]):"c"==u[d].t?v.bezierCurveTo(u[d].p1[0],u[d].p1[1],u[d].p2[0],u[d].p2[1],u[d].p3[0],u[d].p3[1]):v.closePath();"st"===g&&v.stroke()}"st"!==g&&v.fill(this.stylesList[i].r),y.restore()}y.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(e,t,r){var a,i,n,s;if(r.matMdf||t.sh.mdf||this.firstFrame){var o=t.sh.paths,l=r.mat;s=o._length;var h=t.trNodes;for(h.length=0,n=0;s>n;n+=1){var p=o.shapes[n];if(p&&p.v){for(a=p._length,i=1;a>i;i+=1)1==i&&h.push({t:"m",p:l.applyToPointArray(p.v[0][0],p.v[0][1],0)}),h.push({t:"c",p1:l.applyToPointArray(p.o[i-1][0],p.o[i-1][1],0),p2:l.applyToPointArray(p.i[i][0],p.i[i][1],0),p3:l.applyToPointArray(p.v[i][0],p.v[i][1],0)});1==a&&h.push({t:"m",p:l.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&a&&(h.push({t:"c",p1:l.applyToPointArray(p.o[i-1][0],p.o[i-1][1],0),p2:l.applyToPointArray(p.i[0][0],p.i[0][1],0),p3:l.applyToPointArray(p.v[0][0],p.v[0][1],0)}),h.push({t:"z"})),t.lStr=h}}if(t.st)for(i=0;16>i;i+=1)t.tr[i]=r.mat.props[i];t.trNodes=h}},CVShapeElement.prototype.renderFill=function(e,t,r){var a=t.style;(t.c.mdf||this.firstFrame)&&(a.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||r.opMdf||this.firstFrame)&&(a.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderStroke=function(e,t,r){var a=t.style,i=t.d;i&&(i.mdf||this.firstFrame)&&(a.da=i.dasharray,a.do=i.dashoffset),(t.c.mdf||this.firstFrame)&&(a.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||r.opMdf||this.firstFrame)&&(a.coOp=t.o.v*r.opacity),(t.w.mdf||this.firstFrame)&&(a.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),extendPrototype(ITextElement,CVTextElement),CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:e.l?e.l.length:0});var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var a,i,n=this.globalData.fontManager.getFontByName(e.f),s=e.l,o=this.mHelper;this.stroke=r,this.values.fValue=e.s+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,i=e.t.length;var l,h,p,c,d,f,m,u,g,y,v=this.data.singleShape,b=e.tr/1e3*e.s,C=0,S=0,w=!0,k=0;for(a=0;i>a;a+=1){for(h=(l=this.globalData.fontManager.getCharData(e.t.charAt(a),n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&l.data||{},o.reset(),v&&s[a].n&&(C=-b,S+=e.yOffset,S+=w?1:0,w=!1),m=(d=h.shapes?h.shapes[0].it:[]).length,o.scale(e.s/100,e.s/100),v&&this.applyTextPropertiesToMatrix(e,o,s[a].line,C,S),g=Array.apply(null,{length:m}),f=0;m>f;f+=1){for(c=d[f].ks.k.i.length,u=d[f].ks.k,y=[],p=1;c>p;p+=1)1==p&&y.push(o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),y.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[p][0],u.i[p][1],0),o.applyToY(u.i[p][0],u.i[p][1],0),o.applyToX(u.v[p][0],u.v[p][1],0),o.applyToY(u.v[p][0],u.v[p][1],0));y.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[0][0],u.i[0][1],0),o.applyToY(u.i[0][0],u.i[0][1],0),o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),g[f]=y}v&&(C+=s[a].l,C+=b),this.textSpans[k]?this.textSpans[k].elem=g:this.textSpans[k]={elem:g},k+=1}},CVTextElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext,r=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(r),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,i,n,s,o,l,h=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;i=p.length;var c,d,f,m=null,u=null,g=null;for(a=0;i>a;a+=1)if(!p[a].n){if((c=h[a])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(c.p),this.globalData.renderer.ctxOpacity(c.o)),this.fill){for(c&&c.fc?m!==c.fc&&(m=c.fc,t.fillStyle=c.fc):m!==this.values.fill&&(m=this.values.fill,t.fillStyle=this.values.fill),s=(d=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),n=0;s>n;n+=1)for(l=(f=d[n]).length,this.globalData.canvasContext.moveTo(f[0],f[1]),o=2;l>o;o+=6)this.globalData.canvasContext.bezierCurveTo(f[o],f[o+1],f[o+2],f[o+3],f[o+4],f[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(c&&c.sw?g!==c.sw&&(g=c.sw,t.lineWidth=c.sw):g!==this.values.sWidth&&(g=this.values.sWidth,t.lineWidth=this.values.sWidth),c&&c.sc?u!==c.sc&&(u=c.sc,t.strokeStyle=c.sc):u!==this.values.stroke&&(u=this.values.stroke,t.strokeStyle=this.values.stroke),s=(d=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),n=0;s>n;n+=1)for(l=(f=d[n]).length,this.globalData.canvasContext.moveTo(f[0],f[1]),o=2;l>o;o+=6)this.globalData.canvasContext.bezierCurveTo(f[o],f[o+1],f[o+2],f[o+3],f[o+4],f[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}c&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var t,r=this.finalTransform.mat;if(this.hierarchy){var a,i=this.hierarchy.length;for(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t),a=0;i>a;a+=1)this.finalTransform.matMdf=!!this.hierarchy[a].finalTransform.mProp.mdf||this.finalTransform.matMdf,t=this.hierarchy[a].finalTransform.mProp.v.props,r.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else this.isVisible&&this.finalTransform.matMdf&&(e?(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t)):r.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(r),e&&(t=e.mat.props,r.cloneFromProps(t),this.finalTransform.opacity*=e.opacity,this.finalTransform.opMdf=!!e.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!e.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=r.toCSS(),this.finalMat=r),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(e){this.maskManager=new MaskElement(e,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var e=document.createElement("div");styleDiv(e);var t=document.createElementNS(svgNS,"svg");styleDiv(t),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),e.appendChild(t),this.layerElement=e,this.transformedElement=e,this.baseElement=e,this.innerElem=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var r=document.createElementNS(svgNS,"rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),t.appendChild(r),this.data.hasMask&&(this.maskedElement=r),this.checkParenting()},HSolidElement.prototype.hide=SVGBaseElement.prototype.hide,HSolidElement.prototype.show=SVGBaseElement.prototype.show,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var e=document.createElement("div");if(styleDiv(e),this.data.ln&&e.setAttribute("id",this.data.ln),e.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var t=document.createElementNS(svgNS,"svg");styleDiv(t),t.setAttribute("width",this.data.w),t.setAttribute("height",this.data.h);var r=document.createElementNS(svgNS,"g");t.appendChild(r),e.appendChild(t),this.maskedElement=r,this.baseElement=e,this.layerElement=r,this.transformedElement=e}else this.layerElement=e,this.baseElement=this.layerElement,this.transformedElement=e;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(e){var t,r=this._parent.renderFrame.call(this,e),a=this.layers.length;if(!1!==r){for(this.hidden=!1,t=0;a>t;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderFrame,HShapeElement.prototype.createElements=function(){var e=document.createElement("div");styleDiv(e);var t=document.createElementNS(svgNS,"svg");styleDiv(t);var r=this.comp.data?this.comp.data:this.globalData.compSize;if(t.setAttribute("width",r.w),t.setAttribute("height",r.h),this.data.hasMask){var a=document.createElementNS(svgNS,"g");e.appendChild(t),t.appendChild(a),this.maskedElement=a,this.layerElement=a,this.shapesContainer=a}else e.appendChild(t),this.layerElement=t,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=e),this.innerElem=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.buildExpressionInterface(),this.layerElement=e,this.transformedElement=e,this.shapeCont=t,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(e){var t=this.firstFrame;if(this._renderShapeFrame(),this.isVisible&&(this.elemMdf||t)){var r=this.shapeCont.getBBox(),a=!1;this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),a=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),a=!0),(a||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y)&&(this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),extendPrototype(ITextElement,HTextElement),HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var e=document.createElement("div");if(styleDiv(e),this.layerElement=e,this.transformedElement=e,this.isMasked){this.renderType="svg";var t=document.createElementNS(svgNS,"svg");styleDiv(t),this.cont=t,this.compW=this.comp.data.w,this.compH=this.comp.data.h,t.setAttribute("width",this.compW),t.setAttribute("height",this.compH);var r=document.createElementNS(svgNS,"g");t.appendChild(r),e.appendChild(t),this.maskedElement=r,this.innerElem=r}else this.renderType="html",this.innerElem=e;this.baseElement=e,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:this.textProperty.currentData.l?this.textProperty.currentData.l.length:0});var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.s+"px",t.lineHeight=e.s+"px",r.fClass)this.innerElem.className=r.fClass;else{t.fontFamily=r.fFamily;var a=e.fWeight,i=e.fStyle;t.fontStyle=i,t.fontWeight=a}var n,s,o=e.l;s=o.length;var l,h,p,c,d=this.mHelper,f="",m=0;for(n=0;s>n;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=document.createElementNS(svgNS,"path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?p=(h=this.textSpans[m]).children[0]:(h=document.createElement("div"),(p=document.createElementNS(svgNS,"svg")).appendChild(l),styleDiv(h)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:document.createElementNS(svgNS,"text"):this.textSpans[m]?(h=this.textSpans[m],l=this.textPaths[m]):(styleDiv(h=document.createElement("span")),styleDiv(l=document.createElement("span")),h.appendChild(l)),this.globalData.fontManager.chars){var u,g=this.globalData.fontManager.getCharData(e.t.charAt(n),r.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(u=g?g.data:null,d.reset(),u&&u.shapes&&(c=u.shapes[0].it,d.scale(e.s/100,e.s/100),f=this.createPathShape(d,c),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else if(this.innerElem.appendChild(h),u&&u.shapes){document.body.appendChild(p);var y=p.getBBox();p.setAttribute("width",y.width+2),p.setAttribute("height",y.height+2),p.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2)),p.style.transform=p.style.webkitTransform="translate("+(y.x-1)+"px,"+(y.y-1)+"px)",o[n].yOffset=y.y-1,h.appendChild(p)}else p.setAttribute("width",1),p.setAttribute("height",1)}else l.textContent=o[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(l):(this.innerElem.appendChild(h),l.style.transform=l.style.webkitTransform="translate3d(0,"+-e.s/1.2+"px,0)");this.textSpans[m]=this.isMasked?l:h,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,r,a,i,n,s=0,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;for(r=l.length,t=0;r>t;t+=1)l[t].n?s+=1:(i=this.textSpans[t],n=this.textPaths[t],a=o[s],s+=1,this.isMasked?i.setAttribute("transform",a.m):i.style.transform=i.style.webkitTransform=a.m,i.style.opacity=a.o,a.sw&&n.setAttribute("stroke-width",a.sw),a.sc&&n.setAttribute("stroke",a.sc),a.fc&&(n.setAttribute("fill",a.fc),n.style.color=a.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var h=this.innerElem.getBBox();this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.cont.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.cont.setAttribute("height",h.height));(this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1)&&(this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}}else this.hide()},createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;if(this.data.hasMask){var r=document.createElement("div");styleDiv(r);var a=document.createElementNS(svgNS,"svg");styleDiv(a),a.setAttribute("width",this.assetData.w),a.setAttribute("height",this.assetData.h),r.appendChild(a),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),a.appendChild(this.imageElem),this.layerElement=r,this.transformedElement=r,this.baseElement=r,this.innerElem=r,this.maskedElement=this.imageElem}else styleDiv(t),this.layerElement=t,this.baseElement=t,this.innerElem=t,this.transformedElement=t;t.src=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.show=HSolidElement.prototype.show,HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r=this.comp.threeDElements.length;for(e=0;r>e;e+=1)(t=this.comp.threeDElements[e]).perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this.firstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;t>e;e+=1)r=!!this.hierarchy[e].finalTransform.mProp.mdf||r;if(r||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var a=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],i=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)),n=[a[0]/i,a[1]/i,a[2]/i],s=Math.sqrt(n[2]*n[2]+n[0]*n[0]),o=Math.atan2(n[1],s),l=Math.atan2(n[0],-n[2]);this.mat.rotateY(l).rotateX(-o)}var h,p;if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy)for(t=this.hierarchy.length,e=0;t>e;e+=1)h=this.hierarchy[e].finalTransform.mProp.iv.props,this.mat.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],-h[12],-h[13],h[14],h[15]);for(t=this.comp.threeDElements.length,e=0;t>e;e+=1)(p=this.comp.threeDElements[e]).container.style.transform=p.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=function(){var e={initExpressions:function(e){e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer)}};return e}();expressionsPlugin=Expressions,function(){function e(){return this.pv}function t(e,t,r){if(!this.k||!this.keyframes)return this.pv;var a,i,n=this.comp.renderedFrame,s=this.keyframes,o=s[s.length-1].t;if(o>=n)return this.pv;r?i=o-(a=t?Math.abs(o-elem.comp.globalData.frameRate*t):Math.max(0,o-this.elem.data.ip)):((!t||t>s.length-1)&&(t=s.length-1),a=o-(i=s[s.length-1-t].t));var l,h,p,c=this.offsetTime||0;if("pingpong"===e.toLowerCase()){if(Math.floor((n-i)/a)%2!=0)return this.getValueAtTime((a-(n-i)%a+i-c)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime(o/this.comp.globalData.frameRate,0),m=this.getValueAtTime(((n-i)%a+i)/this.comp.globalData.frameRate,0),u=Math.floor((n-i)/a);if(this.pv.length){for(h=(p=new Array(d.length)).length,l=0;h>l;l+=1)p[l]=(f[l]-d[l])*u+m[l];return p}return(f-d)*u+m}if("continue"===e){var g=this.getValueAtTime(o/this.comp.globalData.frameRate,0),y=this.getValueAtTime((o-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(h=(p=new Array(g.length)).length,l=0;h>l;l+=1)p[l]=g[l]+(g[l]-y[l])*((n-o)/this.comp.globalData.frameRate)/5e-4;return p}return g+(n-o)/.001*(g-y)}}return this.getValueAtTime(((n-i)%a+i-c)/this.comp.globalData.frameRate,0)}function r(e,t,r){if(!this.k)return this.pv;var a,i,n,s,o,l=time*elem.comp.globalData.frameRate,h=this.keyframes,p=h[0].t,c=this.offsetTime||0;if(l>=p)return this.pv;if(r?i=p+(a=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-p)):((!t||t>h.length-1)&&(t=h.length-1),a=(i=h[t].t)-p),"pingpong"===e){if(Math.floor((p-l)/a)%2==0)return this.getValueAtTime(((p-l)%a+p-c)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(p/this.comp.globalData.frameRate,0),f=this.getValueAtTime(i/this.comp.globalData.frameRate,0),m=this.getValueAtTime((a-(p-l)%a+p)/this.comp.globalData.frameRate,0),u=Math.floor((p-l)/a)+1;if(this.pv.length){for(s=(o=new Array(d.length)).length,n=0;s>n;n+=1)o[n]=m[n]-(f[n]-d[n])*u;return o}return m-(f-d)*u}if("continue"===e){var g=this.getValueAtTime(p/this.comp.globalData.frameRate,0),y=this.getValueAtTime((p+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(o=new Array(g.length)).length,n=0;s>n;n+=1)o[n]=g[n]+(g[n]-y[n])*(p-l)/.001;return o}return g+(g-y)*(p-l)/.001}}return this.getValueAtTime((a-(p-l)%a+p-c)/this.comp.globalData.frameRate,0)}function a(e){if(this._cachingAtTime||(this._cachingAtTime={lastValue:-99999,lastIndex:0}),e!==this._cachingAtTime.lastFrame){e*=this.elem.globalData.frameRate,e-=this.offsetTime;var t=this._caching.lastFrame<e?this._caching.lastIndex:0,r=this.interpolateValue(e,t,this.pv,this._cachingAtTime);this._cachingAtTime.lastIndex=r.iterationIndex,this._cachingAtTime.value=r.value,this._cachingAtTime.lastFrame=e}return this._cachingAtTime.value}function i(e){if(void 0!==this.vel)return this.vel;var t,r,a=-.01,i=this.getValueAtTime(e),n=this.getValueAtTime(e+a);if(i.length)for(t=Array.apply(null,{length:i.length}),r=0;r<i.length;r+=1)t[r]=(n[r]-i[r])/a;else t=(n-i)/a;return t}function n(e){this.propertyGroup=e}function s(e,t,r){t.x&&(r.k=!0,r.x=!0,r.getValue&&(r.getPreValue=r.getValue),r.getValue=ExpressionManager.initiateExpression.bind(r)(e,t,r))}var o=function(){function t(e,t){return this.textIndex=e+1,this.textTotal=t,this.getValue(),this.v}return function(r,o){this.pv=1,this.comp=r.comp,this.elem=r,this.mult=.01,this.type="textSelector",this.textTotal=o.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],s.bind(this)(r,o,this),this.getMult=t,this.getVelocityAtTime=i,this.getValueAtTime=this.kf?a.bind(this):e.bind(this),this.setGroupProperty=n}}(),l=PropertyFactory.getProp;PropertyFactory.getProp=function(o,h,p,c,d){var f=l(o,h,p,c,d);f.getValueAtTime=2===p?f.dynamicProperties.length?function(e){console.log("time:",e)}.bind(f):function(e){}.bind(f):f.kf?a.bind(f):e.bind(f),f.setGroupProperty=n,f.loopOut=t,f.loopIn=r,f.getVelocityAtTime=i,f.numKeys=1===h.a?h.k.length:0;var m=f.k;return void 0!==h.ix&&Object.defineProperty(f,"propertyIndex",{get:function(){return h.ix}}),s(o,h,f),!m&&f.x&&d.push(f),f};var h=ShapePropertyFactory.getConstructorFunction(),p=ShapePropertyFactory.getKeyframedConstructorFunction();h.prototype.vertices=function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));var a,i=r._length,n=r[e],s=r.v,o=Array.apply(null,{length:i});for(a=0;i>a;a+=1)o[a]="i"===e||"o"===e?[n[a][0]-s[a][0],n[a][1]-s[a][1]]:[n[a][0],n[a][1]];return o},h.prototype.points=function(e){return this.vertices("v",e)},h.prototype.inTangents=function(e){return this.vertices("i",e)},h.prototype.outTangents=function(e){return this.vertices("o",e)},h.prototype.isClosed=function(){return this.v.c},h.prototype.pointOnPath=function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var a=this._segmentsLength,i=a.lengths,n=a.totalLength*e,s=0,o=i.length,l=0;o>s;){if(l+i[s].addedLength>n){i[s].segments;var h=s,p=r.c&&s===o-1?0:s+1,c=(n-l)/i[s].addedLength,d=bez.getPointInSegment(r.v[h],r.v[p],r.o[h],r.i[p],c,i[s]);break}l+=i[s].addedLength,s+=1}return d||(d=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),d},h.prototype.vectorOnPath=function(e,t,r){e=1==e?this.v.c?0:.999:e;var a=this.pointOnPath(e,t),i=this.pointOnPath(e+.001,t),n=i[0]-a[0],s=i[1]-a[1],o=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));return"tangent"===r?[n/o,s/o]:[-s/o,n/o]},h.prototype.tangentOnPath=function(e,t){return this.vectorOnPath(e,t,"tangent")},h.prototype.normalOnPath=function(e,t){return this.vectorOnPath(e,t,"normal")},h.prototype.setGroupProperty=n,h.prototype.getValueAtTime=e,p.prototype.vertices=h.prototype.vertices,p.prototype.points=h.prototype.points,p.prototype.inTangents=h.prototype.inTangents,p.prototype.outTangents=h.prototype.outTangents,p.prototype.isClosed=h.prototype.isClosed,p.prototype.pointOnPath=h.prototype.pointOnPath,p.prototype.vectorOnPath=h.prototype.vectorOnPath,p.prototype.tangentOnPath=h.prototype.tangentOnPath,p.prototype.normalOnPath=h.prototype.normalOnPath,p.prototype.setGroupProperty=h.prototype.setGroupProperty,p.prototype.getValueAtTime=function(e){if(this._shapeValueAtTime||(this._lastIndexAtTime=0,this._lastTimeAtTime=-999999,this._shapeValueAtTime=shape_pool.clone(this.pv)),e!==this._lastTimeAtTime){this._lastTimeAtTime=e,e*=this.elem.globalData.frameRate;var t=this.interpolateShape(e,this._lastIndexAtTime,this._shapeValueAtTime,!1);this._lastIndexAtTime=t.iterationIndex}return this._shapeValueAtTime};var c=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,a,i){var n=c(e,t,r,a,i),o=n.k;return void 0!==t.ix&&Object.defineProperty(n,"propertyIndex",{get:function(){return t.ix}}),3===r?s(e,t.pt,n):4===r&&s(e,t.ks,n),!o&&n.x&&a.push(n),n};var d=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(e,t,r){return 1===t.t?new o(e,t,r):d(e,t,r)}}(),function(){TextProperty.prototype.searchProperty=function(){return this.kf=this.searchExpressions()||this.data.d.k.length>1,this.kf},TextProperty.prototype.getExpressionValue=function(e){this.calculateExpression(),this.mdf&&(this.currentData.t=this.v.toString(),this.completeTextData(this.currentData))},TextProperty.prototype.searchExpressions=function(){return!!this.data.d.x&&(this.comp=this.elem.comp,this.getValue&&(this.getPreValue=this.getValue),this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.getValue=this.getExpressionValue,!0)}}();var ExpressionManager=function(){function duplicatePropertyValue(e,t){if(t=t||1,"number"==typeof e||e instanceof Number)return e*t;if(e.i)return JSON.parse(JSON.stringify(e));var r,a=Array.apply(null,{length:e.length}),i=e.length;for(r=0;i>r;r+=1)a[r]=e[r]*t;return a}function shapesEqual(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,a=e._length;for(r=0;a>r;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if(e.constructor===Array){var r,a=e.length,i=[];for(r=0;a>r;r+=1)i[r]=-e[r];return i}}function sum(e,t){var r=typeof e,a=typeof t;if("string"===r||"string"===a)return e+t;if(("number"===r||"boolean"===r||"string"===r||e instanceof Number)&&("number"===a||"boolean"===a||"string"===a||t instanceof Number))return e+t;if(e.constructor===Array&&("number"===a||"boolean"===a||"string"===a||t instanceof Number))return e[0]=e[0]+t,e;if(("number"===r||"boolean"===r||"string"===r||e instanceof Number)&&t.constructor===Array)return t[0]=e+t[0],t;if(e.constructor===Array&&t.constructor===Array){for(var i=0,n=e.length,s=t.length,o=[];n>i||s>i;)o[i]=("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?e[i]+t[i]:null==t[i]?e[i]:e[i]||t[i],i+=1;return o}return 0}function sub(e,t){var r=typeof e,a=typeof t;if(("number"===r||"boolean"===r||"string"===r||e instanceof Number)&&("number"===a||"boolean"===a||"string"===a||t instanceof Number))return"string"===r&&(e=parseInt(e)),"string"===a&&(t=parseInt(t)),e-t;if(e.constructor===Array&&("number"===a||"boolean"===a||"string"===a||t instanceof Number))return e[0]=e[0]-t,e;if(("number"===r||"boolean"===r||"string"===r||e instanceof Number)&&t.constructor===Array)return t[0]=e-t[0],t;if(e.constructor===Array&&t.constructor===Array){for(var i=0,n=e.length,s=t.length,o=[];n>i||s>i;)o[i]="number"==typeof e[i]||e[i]instanceof Number?e[i]-t[i]:null==t[i]?e[i]:e[i]||t[i],i+=1;return o}return 0}function mul(e,t){var r,a,i,n=typeof e,s=typeof t;if(("number"===n||"boolean"===n||"string"===n||e instanceof Number)&&("number"===s||"boolean"===s||"string"===s||t instanceof Number))return e*t;if(e.constructor===Array&&("number"===s||"boolean"===s||"string"===s||t instanceof Number)){for(i=e.length,r=Array.apply(null,{length:i}),a=0;i>a;a+=1)r[a]=e[a]*t;return r}if(("number"===n||"boolean"===n||"string"===n||e instanceof Number)&&t.constructor===Array){for(i=t.length,r=Array.apply(null,{length:i}),a=0;i>a;a+=1)r[a]=e*t[a];return r}return 0}function div(e,t){var r,a,i,n=typeof e,s=typeof t;if(("number"===n||"boolean"===n||"string"===n||e instanceof Number)&&("number"===s||"boolean"===s||"string"===s||t instanceof Number))return e/t;if(e.constructor===Array&&("number"===s||"boolean"===s||"string"===s||t instanceof Number)){for(i=e.length,r=Array.apply(null,{length:i}),a=0;i>a;a+=1)r[a]=e[a]/t;return r}if(("number"===n||"boolean"===n||"string"===n||e instanceof Number)&&t.constructor===Array){for(i=t.length,r=Array.apply(null,{length:i}),a=0;i>a;a+=1)r[a]=e/t[a];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}function clamp(e,t,r){if(t>r){var a=r;r=t,t=a}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}function degreesToRadians(e){return e*degToRads}function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var r,a=Math.min(e.length,t.length),i=0;for(r=0;a>r;r+=1)i+=Math.pow(t[r]-e[r],2);return Math.sqrt(i)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,a=e[0],i=e[1],n=e[2],s=Math.max(a,i,n),o=Math.min(a,i,n),l=(s+o)/2;if(s==o)t=r=0;else{var h=s-o;switch(r=l>.5?h/(2-s-o):h/(s+o),s){case a:t=(i-n)/h+(n>i?6:0);break;case i:t=(n-a)/h+2;break;case n:t=(a-i)/h+4}t/=6}return[t,r,l,e[3]]}function hslToRgb(e){function t(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var r,a,i,n=e[0],s=e[1],o=e[2];if(0==s)r=a=i=o;else{var l=.5>o?o*(1+s):o+s-o*s,h=2*o-l;r=t(h,l,n+1/3),a=t(h,l,n),i=t(h,l,n-1/3)}return[r,a,i,e[3]]}function linear(e,t,r,a,i){if(void 0===a||void 0===i)return linear(e,0,1,t,r);if(t>=e)return a;if(e>=r)return i;var n=r===t?0:(e-t)/(r-t);if(!a.length)return a+(i-a)*n;var s,o=a.length,l=Array.apply(null,{length:o});for(s=0;o>s;s+=1)l[s]=a[s]+(i[s]-a[s])*n;return l}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,a=t.length;e||(e=Array.apply(null,{length:a}));var i=Array.apply(null,{length:a}),n=BMMath.random();for(r=0;a>r;r+=1)i[r]=e[r]+n*(t[r]-e[r]);return i}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,a){t=t&&t.length?t:e,r=r&&r.length?r:e;var n=shape_pool.newShape(),s=e.length;for(n.setPathData(a,s),i=0;i<s;i+=1)n.setTripleAt(e[i][0],e[i][1],r[i][0]+e[i][0],r[i][1]+e[i][1],t[i][0]+e[i][0],t[i][1]+e[i][1],i,!0);return n}function initiateExpression(elem,data,property){function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],a=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,a,0]}function easeOut(e,t,r){return-(r-t)*e*(e-2)+t}function nearestKey(e){var t,r,a,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,a=data.k[0].t;else{for(t=0;i-1>t;t+=1){if(e===data.k[t].t){r=t+1,a=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,a=data.k[t+1].t):(r=t+1,a=data.k[t].t);break}}-1===r&&(r=t+1,a=data.k[t].t)}else r=0,a=0;var n={};return n.index=r,n.time=a/elem.comp.globalData.frameRate,n}function key(e){var t,r,a,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);for(e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate},a=(i=e!==data.k.length-1||data.k[e].h?data.k[e].s:data.k[e-1].e).length,r=0;a>r;r+=1)t[r]=i[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function executeExpression(){if(_needsRandom&&seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;var e,t;if("textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId,this.mult)if("number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.v*=this.mult;else if(1===this.v.length)this.v=this.v[0]*this.mult;else for(t=this.v.length,value===this.v&&(this.v=2===t?[value[0],value[1]]:[value[0],value[1],value[2]]),e=0;t>e;e+=1)this.v[e]*=this.mult;if(1===this.v.length&&(this.v=this.v[0]),"number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v._length)shapesEqual(this.v,this.localShapeCollection.shapes[0])||(this.mdf=!0,this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(shape_pool.clone(this.v)));else for(t=this.v.length,e=0;t>e;e+=1)this.v[e]!==this.lastValue[e]&&(this.lastValue[e]=this.v[e],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,fn=new Function,fn=eval("[function(){"+val+";if($bm_rt.__shapeObject){this.v=shape_pool.clone($bm_rt.v);}else{this.v=$bm_rt;}}]")[0],bindedFn=fn.bind(this),numKeys=property.kf?data.k.length:0,wiggle=function(e,t){var r,a,i=this.pv.length?this.pv.length:1,n=Array.apply(null,{len:i});for(a=0;i>a;a+=1)n[a]=0;var s=Math.floor(5*time);for(r=0,a=0;s>r;){for(a=0;i>a;a+=1)n[a]+=-t+2*t*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),h=Array.apply({length:i});if(i>1){for(a=0;i>a;a+=1)h[a]=this.pv[a]+n[a]+(-t+2*t*BMMath.random())*l;return h}return this.pv+n[0]+(-t+2*t*BMMath.random())*l}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut);var loopInDuration=function(e,t){return loopIn(e,t,!0)}.bind(this),loopOutDuration=function(e,t){return loopOut(e,t,!0)}.bind(this);this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());return executeExpression}var ob={},Math=BMMath,window=null,document=null,add=sum,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function e(e,t,r){var a,i=[],n=e?e.length:0;for(a=0;n>a;a+=1)"gr"==e[a].ty?i.push(ShapeExpressionInterface.createGroupInterface(e[a],t[a],r)):"fl"==e[a].ty?i.push(ShapeExpressionInterface.createFillInterface(e[a],t[a],r)):"st"==e[a].ty?i.push(ShapeExpressionInterface.createStrokeInterface(e[a],t[a],r)):"tm"==e[a].ty?i.push(ShapeExpressionInterface.createTrimInterface(e[a],t[a],r)):"tr"==e[a].ty||("el"==e[a].ty?i.push(ShapeExpressionInterface.createEllipseInterface(e[a],t[a],r)):"sr"==e[a].ty?i.push(ShapeExpressionInterface.createStarInterface(e[a],t[a],r)):"sh"==e[a].ty?i.push(ShapeExpressionInterface.createPathInterface(e[a],t[a],r)):"rc"==e[a].ty?i.push(ShapeExpressionInterface.createRectInterface(e[a],t[a],r)):"rd"==e[a].ty?i.push(ShapeExpressionInterface.createRoundedInterface(e[a],t[a],r)):"rp"==e[a].ty&&i.push(ShapeExpressionInterface.createRepatearInterface(e[a],t[a],r)));return i}var t={createShapeInterface:function(e,t,a){return r(e,t,a)},createGroupInterface:function(e,t,r){return i(e,t,r)},createTrimInterface:function(e,t,r){return o(e,t,r)},createStrokeInterface:function(e,t,r){return s(e,t,r)},createTransformInterface:function(e,t,r){return l(e,t,r)},createEllipseInterface:function(e,t,r){return h(e,t,r)},createStarInterface:function(e,t,r){return p(e,t,r)},createRectInterface:function(e,t,r){return c(e,t,r)},createRoundedInterface:function(e,t,r){return d(e,t,r)},createRepatearInterface:function(e,t,r){return f(e,t,r)},createPathInterface:function(e,t,r){return m(e,t,r)},createFillInterface:function(e,t,r){return n(e,t,r)}},r=function(t,r,a){function i(e){if("number"==typeof e)return n[e-1];for(var t=0,r=n.length;r>t;){if(n[t]._name===e)return n[t];t+=1}}var n;return i.propertyGroup=a,n=e(t,r,i),i},a=function(t,r,a){var i,n=function(e){for(var t=0,r=i.length;r>t;){if(i[t]._name===e||i[t].mn===e||i[t].propertyIndex===e||i[t].ix===e||i[t].ind===e)return i[t];t+=1}return"number"==typeof e?i[e-1]:void 0};return n.propertyGroup=function(e){return 1===e?n:a(e-1)},i=e(t.it,r.it,n.propertyGroup),n.numProperties=i.length,n.propertyIndex=t.cix,n},i=function(e,t,r){var i=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return i.content;case"ADBE Vector Transform Group":case 3:default:return i.transform}};i.propertyGroup=function(e){return 1===e?i:r(e-1)};var n=a(e,t,i.propertyGroup),s=ShapeExpressionInterface.createTransformInterface(e.it[e.it.length-1],t.it[t.it.length-1],i.propertyGroup);return i.content=n,i.transform=s,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i},n=function(e,t,r){function a(e){return"Color"===e||"color"===e?a.color:"Opacity"===e||"opacity"===e?a.opacity:void 0}return Object.defineProperty(a,"color",{get:function(){return ExpressionValue(t.c,1/t.c.mult,"color")}}),Object.defineProperty(a,"opacity",{get:function(){return ExpressionValue(t.o,100)}}),Object.defineProperty(a,"_name",{value:e.nm}),Object.defineProperty(a,"mn",{value:e.mn}),t.c.setGroupProperty(r),t.o.setGroupProperty(r),a},s=function(e,r,a){function i(e){return 1===e?t:a(e-1)}function n(e){return 1===e?p:i(e-1)}function s(t){Object.defineProperty(p,e.d[t].nm,{get:function(){return ExpressionValue(r.d.dataProps[t].p)}})}function o(e){return"Color"===e||"color"===e?o.color:"Opacity"===e||"opacity"===e?o.opacity:"Stroke Width"===e||"stroke width"===e?o.strokeWidth:void 0}var l,h=e.d?e.d.length:0,p={};for(l=0;h>l;l+=1)s(l),r.d.dataProps[l].p.setGroupProperty(n);return Object.defineProperty(o,"color",{get:function(){return ExpressionValue(r.c,1/r.c.mult,"color")}}),Object.defineProperty(o,"opacity",{get:function(){return ExpressionValue(r.o,100)}}),Object.defineProperty(o,"strokeWidth",{get:function(){return ExpressionValue(r.w)}}),Object.defineProperty(o,"dash",{get:function(){return p}}),Object.defineProperty(o,"_name",{value:e.nm}),Object.defineProperty(o,"mn",{value:e.mn}),r.c.setGroupProperty(i),r.o.setGroupProperty(i),r.w.setGroupProperty(i),o},o=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return t===e.e.ix||"End"===t||"end"===t?i.end:t===e.s.ix?i.start:t===e.o.ix?i.offset:void 0}return i.propertyIndex=e.ix,t.s.setGroupProperty(a),t.e.setGroupProperty(a),t.o.setGroupProperty(a),i.propertyIndex=e.ix,Object.defineProperty(i,"start",{get:function(){return ExpressionValue(t.s,1/t.s.mult)}}),Object.defineProperty(i,"end",{get:function(){return ExpressionValue(t.e,1/t.e.mult)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(t.o)}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.mn=e.mn,i},l=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return e.a.ix===t?i.anchorPoint:e.o.ix===t?i.opacity:e.p.ix===t?i.position:e.r.ix===t?i.rotation:e.s.ix===t?i.scale:e.sk&&e.sk.ix===t?i.skew:e.sa&&e.sa.ix===t?i.skewAxis:"Opacity"===t?i.opacity:"Position"===t?i.position:"Anchor Point"===t?i.anchorPoint:"Scale"===t?i.scale:"Rotation"===t||"ADBE Vector Rotation"===t?i.rotation:"Skew"===t?i.skew:"Skew Axis"===t?i.skewAxis:void 0}return t.transform.mProps.o.setGroupProperty(a),t.transform.mProps.p.setGroupProperty(a),t.transform.mProps.a.setGroupProperty(a),t.transform.mProps.s.setGroupProperty(a),t.transform.mProps.r.setGroupProperty(a),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(a),t.transform.mProps.sa.setGroupProperty(a)),t.transform.op.setGroupProperty(a),Object.defineProperty(i,"opacity",{get:function(){return ExpressionValue(t.transform.mProps.o,1/t.transform.mProps.o.mult)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(t.transform.mProps.p)}}),Object.defineProperty(i,"anchorPoint",{get:function(){return ExpressionValue(t.transform.mProps.a)}}),Object.defineProperty(i,"scale",{get:function(){return ExpressionValue(t.transform.mProps.s,1/t.transform.mProps.s.mult)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(t.transform.mProps.r,1/t.transform.mProps.r.mult)}}),Object.defineProperty(i,"skew",{get:function(){return ExpressionValue(t.transform.mProps.sk)}}),Object.defineProperty(i,"skewAxis",{get:function(){return ExpressionValue(t.transform.mProps.sa)}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.ty="tr",i.mn=e.mn,i},h=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return e.p.ix===t?i.position:e.s.ix===t?i.size:void 0}i.propertyIndex=e.ix;var n="tm"===t.sh.ty?t.sh.prop:t.sh;return n.s.setGroupProperty(a),n.p.setGroupProperty(a),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(n.s)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(n.p)}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.mn=e.mn,i},p=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.rotation:e.pt.ix===t?i.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?i.outerRadius:e.os.ix===t?i.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?i.innerRoundness:void 0:i.innerRadius}var n="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,n.or.setGroupProperty(a),n.os.setGroupProperty(a),n.pt.setGroupProperty(a),n.p.setGroupProperty(a),n.r.setGroupProperty(a),e.ir&&(n.ir.setGroupProperty(a),n.is.setGroupProperty(a)),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(n.p)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(n.r,1/n.r.mult)}}),Object.defineProperty(i,"points",{get:function(){return ExpressionValue(n.pt)}}),Object.defineProperty(i,"outerRadius",{get:function(){return ExpressionValue(n.or)}}),Object.defineProperty(i,"outerRoundness",{get:function(){return ExpressionValue(n.os)}}),Object.defineProperty(i,"innerRadius",{get:function(){return n.ir?ExpressionValue(n.ir):0}}),Object.defineProperty(i,"innerRoundness",{get:function(){return n.is?ExpressionValue(n.is,1/n.is.mult):0}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.mn=e.mn,i},c=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.roundness:e.s.ix===t||"Size"===t?i.size:void 0}var n="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,n.p.setGroupProperty(a),n.s.setGroupProperty(a),n.r.setGroupProperty(a),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(n.p)}}),Object.defineProperty(i,"roundness",{get:function(){return ExpressionValue(n.r)}}),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(n.s)}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.mn=e.mn,i},d=function(e,t,r){function a(t){return e.r.ix===t||"Round Corners 1"===t?a.radius:void 0}var i=t;return a.propertyIndex=e.ix,i.rd.setGroupProperty(function(e){return 1==e?a:r(--e)}),Object.defineProperty(a,"radius",{get:function(){return ExpressionValue(i.rd)}}),Object.defineProperty(a,"_name",{get:function(){return e.nm}}),a.mn=e.mn,a},f=function(e,t,r){function a(e){return 1==e?i:r(--e)}function i(t){return e.c.ix===t||"Copies"===t?i.copies:e.o.ix===t||"Offset"===t?i.offset:void 0}var n=t;return i.propertyIndex=e.ix,n.c.setGroupProperty(a),n.o.setGroupProperty(a),Object.defineProperty(i,"copies",{get:function(){return ExpressionValue(n.c)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(n.o)}}),Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.mn=e.mn,i},m=function(e,t,r){function a(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?a.path:void 0}var i=t.sh;return i.setGroupProperty(function(e){return 1==e?a:r(--e)}),Object.defineProperty(a,"path",{get:function(){return i.k&&i.getValue(),i}}),Object.defineProperty(a,"shape",{get:function(){return i.k&&i.getValue(),i}}),Object.defineProperty(a,"_name",{value:e.nm}),Object.defineProperty(a,"ix",{value:e.ix}),Object.defineProperty(a,"mn",{value:e.mn}),a};return t}(),TextExpressionInterface=function(e){function t(){}var r,a;return Object.defineProperty(t,"sourceText",{get:function(){var t=e.textProperty.currentData.t;return e.textProperty.currentData.t!==r&&(e.textProperty.currentData.t=r,(a=new String(t)).value=t||new String(t)),a}}),t},LayerExpressionInterface=function(){function e(e,t){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var a,i=this._elem.hierarchy.length;for(a=0;i>a;a+=1)this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(e[0],e[1],e[2]||0)}return r.applyToPointArray(e[0],e[1],e[2]||0)}function t(e,t){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var a,i=this._elem.hierarchy.length;for(a=0;i>a;a+=1)this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(e)}return r.inversePoint(e)}function r(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;a>r;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}return function(a){function i(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return i.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return n;case 4:case"ADBE Effect Parade":return i.effect}}var n=TransformExpressionInterface(a.transform);return i.toWorld=e,i.fromWorld=t,i.toComp=e,i.fromComp=r,i.sourceRectAtTime=a.sourceRectAtTime.bind(a),i._elem=a,Object.defineProperty(i,"hasParent",{get:function(){return!!a.hierarchy}}),Object.defineProperty(i,"parent",{get:function(){return a.hierarchy[0].layerInterface}}),Object.defineProperty(i,"rotation",{get:function(){return n.rotation}}),Object.defineProperty(i,"scale",{get:function(){return n.scale}}),Object.defineProperty(i,"position",{get:function(){return n.position}}),Object.defineProperty(i,"anchorPoint",{get:function(){return n.anchorPoint}}),Object.defineProperty(i,"transform",{get:function(){return n}}),Object.defineProperty(i,"width",{get:function(){return 0===a.data.ty?a.data.w:100}}),Object.defineProperty(i,"height",{get:function(){return 0===a.data.ty?a.data.h:100}}),Object.defineProperty(i,"source",{get:function(){return a.data.refId}}),Object.defineProperty(i,"index",{get:function(){return a.data.ind}}),Object.defineProperty(i,"_name",{value:a.data.nm}),Object.defineProperty(i,"content",{get:function(){return i.shapeInterface}}),Object.defineProperty(i,"active",{get:function(){return a.isVisible}}),Object.defineProperty(i,"text",{get:function(){return i.textInterface}}),i.registerMaskInterface=function(e){i.mask=new MaskManagerInterface(e,a)},i.registerEffectsInterface=function(e){i.effect=e},i}}(),CompExpressionInterface=function(e){function t(t){for(var r=0,a=e.layers.length;a>r;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return{active:!1}}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.globalData.compSize.h,t.width=e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t},TransformExpressionInterface=function(e){function t(r){switch(r){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}return Object.defineProperty(t,"rotation",{get:function(){return e.rotation}}),Object.defineProperty(t,"scale",{get:function(){return e.scale}}),Object.defineProperty(t,"position",{get:function(){return e.position}}),Object.defineProperty(t,"xPosition",{get:function(){return e.xPosition}}),Object.defineProperty(t,"yPosition",{get:function(){return e.yPosition}}),Object.defineProperty(t,"anchorPoint",{get:function(){return e.anchorPoint}}),Object.defineProperty(t,"opacity",{get:function(){return e.opacity}}),Object.defineProperty(t,"skew",{get:function(){return e.skew}}),Object.defineProperty(t,"skewAxis",{get:function(){return e.skewAxis}}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;r>t;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(r,a,i,n){function s(e){return 1===e?p:i(e-1)}var o,l=[],h=r.ef.length;for(o=0;h>o;o+=1)l.push(5===r.ef[o].ty?e(r.ef[o],a.effectElements[o],a.effectElements[o].propertyGroup,n):t(a.effectElements[o],r.ef[o].ty,n,s));var p=function(e){for(var t=r.ef,a=0,i=t.length;i>a;){if(e===t[a].nm||e===t[a].mn||e===t[a].ix)return 5===t[a].ty?l[a]:l[a]();a+=1}return l[0]()};return p.propertyGroup=s,"ADBE Color Control"===r.mn&&Object.defineProperty(p,"color",{get:function(){return l[0]()}}),Object.defineProperty(p,"numProperties",{get:function(){return r.np}}),p.active=0!==r.en,p}function t(e,t,r,a){return e.p.setGroupProperty&&e.p.setGroupProperty(a),function(){return 10===t?r.comp.compInterface(e.p.v):ExpressionValue(e.p)}}return{createEffectsInterface:function(t,r){if(t.effects){var a,i=[],n=t.data.ef,s=t.effects.effectElements.length;for(a=0;s>a;a+=1)i.push(e(n[a],t.effects.effectElements[a],r,t));return function(e){for(var r=t.data.ef,a=0,n=r.length;n>a;){if(e===r[a].nm||e===r[a].mn||e===r[a].ix)return i[a];a+=1}}}}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});return function(t,r){var a,i=Array.apply(null,{length:t.viewData.length}),n=t.viewData.length;for(a=0;n>a;a+=1)i[a]=new e(t.viewData[a],t.masksProperties[a]);return function(e){for(a=0;n>a;){if(t.masksProperties[a].nm===e)return i[a];a+=1}}}}(),ExpressionValue=function(e,t,r){var a,i,n,s;if(e.k&&e.getValue(),r){if("color"===r){for(n=4,a=Array.apply(null,{length:n}),s=Array.apply(null,{length:n}),i=0;n>i;i+=1)a[i]=s[i]=t&&3>i?e.v[i]*t:1;a.value=s}}else if("number"==typeof e.v||e.v instanceof Number)(a=new Number(t?e.v*t:e.v)).value=t?e.v*t:e.v;else{for(n=e.v.length,a=Array.apply(null,{length:n}),s=Array.apply(null,{length:n}),i=0;n>i;i+=1)a[i]=s[i]=t?e.v[i]*t:e.v[i];a.value=s}return a.numKeys=e.keyframes?e.keyframes.length:0,a.key=function(t){return a.numKeys?e.keyframes[t-1].t:0},a.valueAtTime=e.getValueAtTime,a.propertyGroup=e.propertyGroup,a};GroupEffect.prototype.getValue=function(){this.mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;t>e;e+=1)this.dynamicProperties[e].getValue(),this.mdf=!!this.dynamicProperties[e].mdf||this.mdf},GroupEffect.prototype.init=function(e,t,r){this.data=e,this.mdf=!1,this.effectElements=[];var a,i,n=this.data.ef.length,s=this.data.ef;for(a=0;n>a;a+=1)switch(s[a].ty){case 0:i=new SliderEffect(s[a],t,r),this.effectElements.push(i);break;case 1:i=new AngleEffect(s[a],t,r),this.effectElements.push(i);break;case 2:i=new ColorEffect(s[a],t,r),this.effectElements.push(i);break;case 3:i=new PointEffect(s[a],t,r),this.effectElements.push(i);break;case 4:case 7:i=new CheckboxEffect(s[a],t,r),this.effectElements.push(i);break;case 10:i=new LayerIndexEffect(s[a],t,r),this.effectElements.push(i);break;case 11:i=new MaskIndexEffect(s[a],t,r),this.effectElements.push(i);break;case 5:i=new EffectsManager(s[a],t,r),this.effectElements.push(i);break;case 6:i=new NoValueEffect(s[a],t,r),this.effectElements.push(i)}};var bodymovinjs={};bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.setLocationHref=setLocationHref,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.inBrowser=inBrowser,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.13.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs});var loadingSpinner={v:"4.6.0",fr:29.9700012207031,ip:0,op:49.0000019958109,w:200,h:200,nm:"loading_ring_medium",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"green ring 1",ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[360]},{t:49.0000019958109}]},p:{a:0,k:[100,100,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[200,200,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.644],y:[0]},n:["0p667_1_0p644_0"],t:10,s:[0],e:[100]},{t:50.0000020365418}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:-1,s:[0],e:[100]},{t:37.0000015070409}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:0,op:50.0000020365418,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:2,ty:4,nm:"flamingo ring 3",parent:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.785],y:[1]},o:{x:[1],y:[0]},n:["0p785_1_1_0"],t:17,s:[14.2],e:[360]},{t:50.0000020365418}]},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.847,.847,.847,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:42,s:[0],e:[1]},{t:44.0000017921567}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},n:["0p833_1_0p333_0"],t:20,s:[0],e:[1]},{t:44.0000017921567}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:17.0000006924242,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:3,ty:4,nm:"flamingo ring 2",parent:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.612],y:[1]},o:{x:[1],y:[0]},n:["0p612_1_1_0"],t:17,s:[14.2],e:[360]},{t:50.0000020365418}]},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.847,.847,.847,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:42,s:[0],e:[13.7]},{t:44.0000017921567}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},n:["0p833_1_0p333_0"],t:20,s:[0],e:[13.7]},{t:44.0000017921567}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:17.0000006924242,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:4,ty:4,nm:"flaming ring 1",parent:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.847,.847,.847,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},n:["0p667_1_1_0"],t:8,s:[0],e:[100]},{t:48.0000019550801}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},n:["0p667_1_1_0"],t:-1,s:[0],e:[100]},{t:37.0000015070409}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:15.0000006109625,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1}]};CINC="undefined"==typeof CINC?{}:CINC,CINC.Shared={},function(){$(document).ready(function(){CINC.LocalGMT=(new Date).getTimezoneOffset()/60*-1,e(),t(),setTimeout(r,3e3),$(":text, textarea").on("paste",function(){$(this).trigger("keyup")})});var e=function(){if(CINC.QS){var e=CINC.QS.lang;if(e){var t=new Date;"english"!=e&&t.setTime(t.getTime()+6048e5),$.removeCookie("lang"),$.cookie("lang",e,{expires:t,domain:"."+CINC.Site.DomainName,path:"/"})}}},t=function(){var e=0;CINC.User&&(e=CINC.User.securityLevel||CINC.User.SecurityLevel),25==e&&$("[data-lingo=1]").css("cursor","help").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=encodeURIComponent($(this).html());t||(t=$(this).val());var r=encodeURIComponent($(this).data("lingolang")||"none");window.open("/dashboard/settings/advanced/translations/?language="+$.cookie("lang")+"&transid="+t+"&translang="+r,"_blank")})},r=function(){var e=$("#intercom-container");e.length>0?($(".intercom-launcher-frame").attr("style","transform: scale(0.5, 0.5); bottom: -15px !important; right: 0px !important;"),e.fadeIn(1e3)):$("body").off("DOMNodeInserted",a).on("DOMNodeInserted",a)},a=function(e){e.target&&e.target.id&&"intercom-container"===e.target.id&&(r(),$("body").off("DOMNodeInserted",a))},i=(CINC.Shared.IntercomTrackEvent=function(e,t){window.Intercom?(t?Intercom("trackEvent",e,t):Intercom("trackEvent",e),!CINC.InDev&&_.isUndefined($.cookie("intercom-verbose"))||(t?console.log([moment().format("HH:mm:ss.SSS")+"> IntercomTrackEvent ["+e+"]",t]):console.log(moment().format("HH:mm:ss.SSS")+"> IntercomTrackEvent ["+e+"]"))):console.warn("IntercomTrackEvent failed for ["+e+"] - window.Intercom not present")},CINC.Shared.InitWYSIWYG=function(e){$(".js-wysiwyg").each(function(){i($(this),e),$(this).removeClass("js-wysiwyg")})},CINC.Shared.CreateWYSIWYG=function(e,t){var r=(t=t||{}).setup;!0===$(e).data("enforcehttp")&&(t.ensureProtocolInUrl=!0),$(e).data("bodyclass")&&(t.bodyClass=$(e).data("bodyclass")),$(e).data("hidden")&&(t.hidden=JSON.parse($(e).data("hidden").toLowerCase()));var a="undo redo | styleselect | bold italic | fontsizeselect forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media code";if($(e).data("removetoolbaritems")){for(var i=a.split(" "),n=$(e).data("removetoolbaritems").split(","),s=0;s<n.length;s++){var l=i.indexOf(n[s]);i.splice(l,1)}a=i.join(" ")}$(e).data("toolbar-items")&&(a=$(e).data("toolbar-items"));var h=$(e).data("css");tinyMCE.baseURL=window.document.baseURI+"Scripts/Dashboard/plugins/tinymce/js","function"!=typeof tinyMCE.setFocus&&(tinyMCE.setFocus=function(e){tinyMCE.get(e).editorContainer.focus(),tinyMCE.execCommand("mceFocus",!1,e)}),"function"!=typeof tinyMCE.isElementTinyMCE&&(tinyMCE.isElementTinyMCE=function(e){return!(!e.id||"textarea"!==e.tagName.toLowerCase())&&tinyMCE.editors.some(function(t){return t.id===e.id})}),$(e).tinymce({branding:!1,fontsize_formats:"8.5pt 10pt 12pt 14pt 18pt 24pt 32pt 36pt",document_base_url:window.document.baseURI,theme:"modern",plugins:"link image media code textcolor advlist lists",menubar:!1,toolbar:[a],image_advtab:!0,convert_urls:!1,relative_urls:!1,remove_script_host:!1,gecko_spellcheck:!0,force_br_newlines:!0,force_p_newlines:!1,convert_newlines_to_brs:!1,forced_root_block:"",valid_elements:"*[*]",valid_children:"+body[style]",extended_valid_elements:"*[*]",content_css:h,body_class:t.bodyClass,file_picker_callback:function(e){var r=tinymce.activeEditor.windowManager.windows[0];r.hide(),CINC.Dashboard.OpenUploadModal?CINC.Dashboard.OpenUploadModal(function(e){o(r,e,t)}):CINC.Dashboard.openGallery("",function(e,t,a,i){o(r,{OrigFileName:e,FullURL:t,FileDID:i,Category:a})},function(){r.close()})},setup:function(e){r&&r(e),t.keyup&&e.on("keyup",t.keyup),e.on("init",function(e){t.hidden&&e.target.hide()})}})}),n=function(e,t){var r=Handlebars.compile('<div id="mce-emoji-wrapper" class="cinc-plugin-wrapper">{{#each this}}<a class="cinc-emoji" title="{{description}}">{{value}}</a>{{/each}}</div>');return e&&(e=e.toLowerCase(),t=_.filter(t,function(t){return t.description.toLowerCase().indexOf(e)>=0})),t&&t.length>0?r(t):'<div id="mce-emoji-wrapper" class="cinc-plugin-wrapper"><span>No Emojis to display</div>'},s=function(e,t,r){var a='<div id="'+r+'" class="cinc-plugin-wrapper">{{#each this}}<a class="cinc-dynamic-tag" title="{{description}}">{{value}}</a>{{/each}}</div>',i=Handlebars.compile(a),n='<div id="'+r+'" class="cinc-plugin-wrapper"><span>No Tags to display</div>';return e&&(e=e.toLowerCase(),t=_.filter(t,function(t){return t.description.toLowerCase().indexOf(e)>=0})),t&&t.length>0?i(t):n},o=(CINC.Shared.GetAttachedPropHTML=function(e,t){var r=Handlebars.compile(t);return e&&e.length>0?r({props:e.toJSON()}):""},CINC.Shared.SetupCINCTinyMCEPlugins=function(e){(e=e||{}).dataObject=e.dataObject||new Backbone.Model,tinymce.PluginManager.add("cincWYSIWYGPlugins",function(t,r){if(e.addEmojis&&e.emojiList){t.addButton("cincEmojis",{icon:"ico-smiley2",onclick:function(){!function(e,t){var r=e.windowManager.open({title:"CINC Emojis",body:[{type:"textbox",name:"searchBox",label:"Search",tooltip:"Use this to filter the emoji list below",onkeyup:function(e){$("#mce-emoji-wrapper").replaceWith(n(this.state.data.value,t))}},{type:"container",name:"emojiList",label:"Emojis",html:n("",t),onclick:function(t){e.execCommand("mceInsertContent",!1,$(t.target).html()),r.close()}.bind(e)}]})}(t,e.emojiList)}})}if(e.addDynamicTags&&e.dynamicTagsList&&e.customTagsList){t.addButton("dynamicTags",{icon:"ico-tag5",onclick:function(){!function(e,t,r){var a=e.windowManager.open({title:"CINC Dynamic Tags",body:[{type:"textbox",name:"searchBox",label:"Search",tooltip:"Use this to filter the dynamic tag list below",onkeyup:function(e){$("#mce-dynamic-tags-wrapper").replaceWith(s(this.state.data.value,t,"mce-dynamic-tags-wrapper")),$("#mce-custom-tags-wrapper").replaceWith(s(this.state.data.value,t,"mce-custom-tags-wrapper"))}},{type:"container",name:"dynamicTagList",label:"Dynamic Tags",html:s("",t,"mce-dynamic-tags-wrapper"),onclick:function(t){e.execCommand("mceInsertContent",!1,$(t.target).html()),a.close()}.bind(e)},{type:"container",name:"customTagList",label:"Custom Tags",html:s("",r,"mce-custom-tags-wrapper"),onclick:function(t){e.execCommand("mceInsertContent",!1,$(t.target).html()),a.close()}.bind(e)}]})}(t,e.dynamicTagsList,e.customTagsList)}})}return e.addAttachedProps&&t.addButton("attachProperty",{icon:"ico-home",onclick:function(){t.hide(),Backbone.Radio.channel("modal").trigger("attachPropertyWYSIWYGCallback",t)}}),e.addVideoWidget&&t.addButton("videoMessaging",{icon:"ico-facetime-video",onclick:function(){e.dataObject.get("isText")&&e.dataObject.get("totalLeadsSelected")>CINC.CRMSettings.MMSBulkSendCap?Backbone.Radio.channel("modal").trigger("showalert","Max allowed recipients of MMS (video) messages is "+CINC.CRMSettings.MMSBulkSendCap+"."):(t.hide(),Backbone.Radio.channel("modal").trigger("videoMessagingWYSIWYGCallback",t,{messageType:e.messageType,selectedVideo:e.dataObject.get("selectedVideo"),manageVideoAttachedDisplay:e.manageVideoAttachedDisplay}))}}),{getMetadata:function(){return{name:"CINC TinyMCE Plugins"}}}})},CINC.Shared.InitTinyMCE=function(e,t){tinymce.baseURL=window.document.baseURI+"Scripts/Dashboard/plugins/tinymce/js";var r={selector:e,theme:"modern",image_advtab:!0,convert_urls:!1,relative_urls:!1,remove_script_host:!1,gecko_spellcheck:!0,force_p_newlines:(t=t||{inline:!0,menubar:"edit insert format tools table help",toolbar:["bold italic underline strikethrough | styleselect | fontsizeselect forecolor backcolor | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist checklist","undo redo | link image media code | cincEmojis dynamicTags attachProperty videoMessaging"],force_br_newlines:!1,force_p_newlines:!0,convert_newlines_to_brs:!1,forced_root_block:!1,entity_encoding:"",plainTextOnly:!1}).force_p_newlines,force_br_newlines:t.force_br_newlines,convert_newlines_to_brs:t.convert_newlines_to_brs,remove_linebreaks:!0,forced_root_block:t.forced_root_block,valid_elements:"*[*] -p",valid_children:"+body[style]",extended_valid_elements:"*[*]",inline:t.inline,entity_encoding:t.entity_encoding,plugins:["link","image","media","code","textcolor","advlist","lists","cincWYSIWYGPlugins","paste"],menubar:t.menubar,toolbar:t.toolbar,powerpaste_word_import:"clean",powerpaste_html_import:"clean",content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i"],file_picker_callback:function(e){var t=tinymce.activeEditor;t.hide();var r=tinymce.activeEditor.windowManager.windows[0];r.hide(),CINC.Dashboard.OpenUploadModal?CINC.Dashboard.OpenUploadModal({onUploadCallback:function(e){t.show(),o(r,e,{})},onCloseCallback:function(){t.show()}}):CINC.Dashboard.openGallery("",function(e,t,a,i){o(r,{OrigFileName:e,FullURL:t,FileDID:i,Category:a})},function(){r.close()})},paste_as_text:t.plainTextOnly,setup:function(e){t.init&&e.on("init",t.init),t.keyup&&e.on("keyup",t.keyup),t.nodechange&&e.on("NodeChange",t.nodechange)}};tinymce.init(r)},function(e,t,r){if(t){e.show();var a=t.FullURL;void 0!==r&&void 0!==r.ensureProtocolInUrl&&r.ensureProtocolInUrl&&-1===a.indexOf("https:")&&-1===a.indexOf("http:")&&(a=0===(a=0===a.indexOf("//")?a:"//"+a).indexOf("http:")?a:"http:"+a),"image"===t.Category?0!==_.size(e.find("#src"))?(e.find("#src").value(a).fire("change"),e.find("#alt").value(t.OrigFileName)):(e.find("#href").value(a).fire("change"),e.find("#text").value(t.OrigFileName)):"video"===t.Category?0!==_.size(e.find("#source1"))?e.find("#source1").value(t.FullURL).fire("change"):(e.find("#href").value(a).fire("change"),e.find("#text").value(t.OrigFileName)):0!==_.size(e.find("#href"))&&(e.find("#href").value(a).fire("change"),e.find("#text").value(t.OrigFileName))}else e.close()});CINC.Shared.ExcludedSearchTags=["ignoreblacklist","photos","whitefeatured"];String.prototype.includes||(String.prototype.includes=function(e,t){return e.indexOf(t)>-1});CINC.Shared.HideOtherSpaAppRegions=function(e,t){t=t||{};var r=Backbone.Radio.channel("listingdetails"),a=Backbone.Radio.channel("leaddetails"),i=Backbone.Radio.channel("wizard");t.keepWizardAlive||i.request("close"),!0===t.isFullScreen?($(".js-fullscreenhide").toggleClass("hidden",!0),$(".contextual-container").toggleClass("full-screen-app",!0)):($(".js-fullscreenhide").toggleClass("hidden",!1),$(".contextual-container").toggleClass("full-screen-app",!1)),-1!==e.indexOf("properties")&&!0!==t.forceCloseListingDetails||r.request("close"),-1===e.indexOf("leads")&&a.request("close"),$(".spa-app").hide(),$(".spa-leftnav").hide(),$(".spa-centernav").hide(),$(".spa-sidebar").addClass("hidden"),$(".spa-sidebar-header").removeClass("active"),$(e+"-sidebar-header").addClass("active"),$(e+"-sidebar").removeClass("hidden"),$(e+"-leftnav").show(),$(e+"-centernav").show(),$(e).show()};$(".js-build-lock-btn, .js-build-unlock-btn").on("click",function(e){var t=$(this).data("build-job-name"),r="/api/builds/"+$(this).data("build-job-action")+"?jobName="+t;$.get(r,function(){$(".js-build-lock-btn").toggle(),$(".js-build-unlock-btn").toggle()})});var l,h;l=function(){"IntersectionObserver"in window||[].slice.call(document.querySelectorAll("img.lazy")).forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight&&(e.src=e.dataset.src,e.classList.remove("lazy"))})},h=window.onload,"function"!=typeof window.onload&&"function"==typeof l?window.onload=l:window.onload=function(){h&&h(),l&&"function"==typeof l&&l()},document.addEventListener("DOMContentLoaded",function(){if("IntersectionObserver"in window){var e=[].slice.call(document.querySelectorAll("img.lazy")),t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var r=e.target;r.src=r.dataset.src,r.classList.remove("lazy"),t.unobserve(r)}})},{rootMargin:"0px 0px 50px 0px",threshold:0});e.forEach(function(e){t.observe(e)})}else{var r=!1,a=[].slice.call(document.querySelectorAll("img.lazy")),i=function(){!1===r&&(r=!0,setTimeout(function(){a.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==window.getComputedStyle(e).display&&(e.src=e.dataset.src,e.classList.remove("lazy"),0===(a=a.filter(function(t){return t!==e})).length&&(document.removeEventListener("scroll",i),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)))}),r=!1},200))};document.addEventListener("scroll",i),window.addEventListener("resize",i),window.addEventListener("orientationchange",i)}})}(),CINC="undefined"==typeof CINC?{}:CINC,CINC.Core={el:{},g:{},Okta:function(){var e=encodeURIComponent(window.location.href);window.location=window.location.origin+"/account/login/admin?redirecturl="+e},LoadActionHandlers:{NotificationBanner:function(e){Notification.Banner[e.type](e.message,e.title)}},LocalStorage:{IsAvailable:"undefined"!=typeof Storage,Get:function(e){if(CINC.Core.LocalStorage.IsAvailable){var t=localStorage.getItem(e.toLowerCase());if(t){if("{"===t[0]||"["===t[0])try{return JSON.parse(t)}catch(e){}return t}}},Set:function(e,t){if(CINC.Core.LocalStorage.IsAvailable)return"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e.toLowerCase(),t)},Remove:function(e){if(CINC.Core.LocalStorage.IsAvailable)return localStorage.removeItem(e.toLowerCase())}},Cookies:{Get:function(e){var t=$.cookie(e.toLowerCase());return void 0===t?"":t},Set:function(e,t,r){var a={domain:"."+CINC.Site.DomainName,expires:r||30,path:"/"};$.cookie(e.toLowerCase(),t,a)},Remove:function(e){CINC.Core.Cookies.Set(e.toLowerCase(),"",-1)}},CookiesVanilla:{Get:function(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),a=0;a<r.length;a++){for(var i=r[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},Set:function(e,t,r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},Remove:function(e){CINC.Core.CookiesVanilla.Set(e,"")}},IsBot:function(){return/nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver|bingbot|Google Web Preview|Mediapartners-Google|AdsBot-Google|Baiduspider|Ezooms|YahooSeeker|AltaVista|AVSearch|Mercator|Scooter|InfoSeek|Ultraseek|Lycos|Wget|YandexBot|Yandex|YaDirectFetcher|SiteBot|Exabot|AhrefsBot|MJ12bot|TurnitinBot|magpie-crawler|Nutch Crawler|CMS Crawler|rogerbot|Domnutch|ssearch_bot|XoviBot|netseer|digincore|fr-crawler|wesee|AliasIO/i.test(navigator.userAgent)},IsMobile:function(){return $(window).width()<770},QueryString:"function"!=typeof _?{}:{parse:function(e){return _.isString("str")&&(e=(e=decodeURIComponent(e)).trim().replace(/^(\?|#|&)/,""))?_.reduce(e.split("&"),function(e,t){var r=t.replace(/\+/g," ").split("="),a=r[0],i=r[1];return a=decodeURIComponent(a),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(a)?_.isArray(e[a])?e[a].push(i):e[a]=[e[a],i]:e[a]=i,e},{}):{}},stringify:function(e){return e?_.filter(_.map(_.keys(e).sort(),function(t){var r=e[t];return _.isArray(r)?r.sort().map(function(e){return encodeURI(t)+"="+encodeURIComponent(e)}).join("&"):encodeURI(t)+"="+encodeURIComponent(r)}),function(e){return e.length>0}).join("&"):""},remove:function(e){for(var t=CINC.Core.QueryString.parse(window.location.search),r=0;r<e.length;r++)delete t[e[r]];return CINC.Core.QueryString.stringify(t)}},EndBecomeUser:function(){var e=$(this);e.hasClass("loading")||(e.addClass("loading"),CINC.Api.Become(!0).del().success(function(){var t=e.attr("data-callbackurl");t.length>0?window.location.href=t:window.location.reload()}).fail(function(){alert("Error ending become user!")}))},GoToCorefact:function(){CINC.Api.Dashboard.Settings.Corefact("getauthurl").get({}).success(function(e){e.ssoUrl&&window.open(e.ssoUrl,"_blank")}).fail(CINC.Dashboard.ShowError)},GetXPath:function(e){if(!e)return"";if("string"==typeof e&&(e=$(e)),e instanceof jQuery){if(0===e.length)return"";e=e[0]}if(e&&e.id)return'//*[@id="'+e.id+'"]';for(var t=[],r=!1;e&&e.nodeType==Node.ELEMENT_NODE&&!r;e=e.parentNode){for(var a=0,i=!1,n=e.previousSibling;n;n=n.previousSibling)n.nodeType!=Node.DOCUMENT_TYPE_NODE&&n.nodeName==e.nodeName&&++a;for(n=e.nextSibling;n&&!i;n=n.nextSibling)n.nodeName==e.nodeName&&(i=!0);var s=(e.prefix?e.prefix+":":"")+e.localName,o=a||i?"["+(a+1)+"]":"";e.id&&(s='/*[@id="'+e.id+'"]',o="",r=!0),t.splice(0,0,s+o)}return t.length?"/"+t.join("/"):null},GetElementByXPath:function(e,t){if(!e)return null;var r=t&&t.ownerDocument||window.document,a=r.evaluate(e,t||r,null,XPathResult.ANY_TYPE,null);switch(a.resultType){case XPathResult.NUMBER_TYPE:return a.numberValue;case XPathResult.STRING_TYPE:return a.stringValue;case XPathResult.BOOLEAN_TYPE:return a.booleanValue;default:for(var i,n=[];i=a.iterateNext();)n.push(i);return n}}},CINC.QS=CINC.Core.QueryString.parse(window.location.search),$(document).ready(function(){$("body").on("click",".js-endbecomeuser",CINC.Core.EndBecomeUser),$("body").on("click",".js-corefact-button",CINC.Core.GoToCorefact)}),$.fn.serializeObject=function(e){e=void 0!==e&&e;var t={},r=this.serializeArray();return $.each(r,function(){t[this.name]?"beds"!==this.name&&"maxprice"!==this.name&&"minprice"!==this.name&&"baths"!==this.name&&(t[this.name]+=","+(this.value||"")):""!==this.value?t[this.name]=this.value||"":e&&(t[this.name]=this.value||"")}),t},$.fn.serializeCompositionObject=function(){var e={};this.find(":input:disabled").removeAttr("disabled");var t=this.serializeArray(),r=/^([^\[\]]+)\[(\d+)\]$/;return $.each(t,function(){for(var t=this.name,a=this.value,i=t.split("."),n=e;i.length;){var s=i.shift(),o=r.exec(s);if(o){var l=o[1],h=o[2];n[l]||(n[l]=[]),n[l][h]||(n[l][h]={}),n=n[l][h]}else i.length?(n[s]||(n[s]={}),n=n[s]):n[s]?n[s]&&(n[s].push||(n[s]=[n[s]]),n[s].push(a||"")):n[s]=a||""}}),e},$.fn.scrollTo=function(e,t,r){"function"==typeof t&&2==arguments.length&&(r=t,t=e);var a=$.extend({scrollTarget:e,offsetTop:50,duration:500,easing:"swing"},t);return this.each(function(){var e=$(this),t="number"==typeof a.scrollTarget?a.scrollTarget:$(a.scrollTarget),i="number"==typeof t?t:t.offset().top+e.scrollTop()-parseInt(a.offsetTop);e.animate({scrollTop:i},parseInt(a.duration),a.easing,function(){"function"==typeof r&&r.call(this)})})},$.fn.copyNamedInputsTo=function(e){return this.each(function(){$(":input[name]",this).each(function(){$("[name="+$(this).attr("name")+"]",e).val($(this).val())})})},$.fn.reverse=[].reverse,CINC.GetSubdomain=function(){var e=window.location.href.split("/")[2].split(".")[0];return"www"===e?"":e},CINC.GetAgentSubdomain=function(){return!(!CINC.User||!CINC.User.securityLevel.between(10,15)||!CINC.User.subdomain&&!CINC.User.firstName)&&(CINC.User.subdomain?CINC.User.subdomain:CINC.User.firstName)},CINC.GetFunctionFromString=function(e){if(e){for(var t=e.split("."),r=t.length,a=1,i=!0,n=window[t[0]];a<r&&i;)n?(n=n[t[a]],a+=1):i=!1;if(i&&"function"==typeof n)return n;console.log('CINC.Core.getFunction - could not derive function from "{0}".'.format(e))}return!1},CINC.IsNullOrEmpty=function(e){return null==e||""===e.trim()},CINC.keysToLowerCase=function(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;for(var t,r=Object.keys(e),a=r.length;a--;){var i=r[a];i!==(t=i.toLowerCase())&&(e[t]=CINC.keysToLowerCase(e[i]),delete e[i])}return e},CINC.ImageUrlFromFilename=function(e,t){return CINC.BaseImageUrlTemplate.format(e,t)},CINC.currentTimezone=function(){return moment().format("ZZ").replace(/[0]/g,"")},CINC.OAuthPopup=function(e){e.windowName=e.windowName||"ConnectWithOAuth",e.windowOptions=e.windowOptions||"location=0,status=0,width=800,height=400",e.callback=e.callback||function(){window.location.reload()};var t=this;t._oauthWindow=window.open(e.path,e.windowName,e.windowOptions),t._oauthInterval=window.setInterval(function(){t._oauthWindow.closed&&(window.clearInterval(t._oauthInterval),e.callback())},1e3)},CINC.IsNonDismissableModal=!1,CINC="undefined"==typeof CINC?{}:CINC,function(e){e.AjaxRequests={},e.Api={Root:function(e,r){return new t("/api",e,r)},CDN:{Static:function(e){return new t("//s-static.cinccdn.com/",e,!1)},Uni:function(e){return new t("//uni.cinccdn.com/",e,!1)}},Account:function(e){return new t("/api/account",e,!1)},AccountSocialSign:function(e){return new t("/api/account/social",e,!1)},Become:function(e){return new t("/api/account/become","",e)},Photo:function(e){return new t("/api/photo",e,!1)},ContactInfo:{Email:function(e){return new t("/api/contactinfo/validate/email/"+e,"",!1)},Phone:function(e){return new t("/api/contactinfo/validate/phone/"+e,"",!1)}},Details:function(e,r){return new t("/api/details/"+e,"",r)},EmailIntegration:function(e){return new t("/api/dashboard/emailintegration",e)},Guide:function(e,r){return new t("/api/guide/"+e,"",r)},LegalAgreement:function(){return new t("/api/lead/legal/agreed","",!1)},Organizer:{Root:function(e){return new t("/api/organizer",e,!0)},Headers:function(){return new t("/api/organizer/headers","",!0)},Focus:function(e){return new t("/api/organizer/focus",e,!0)},Share:function(e){return new t("/api/organizer/share",e,!1)},Schedule:function(e){return new t("/api/organizer/schedule",e,!1)},Favorite:function(e){return new t("/api/organizer/favorite",e,!1)},Opinion:function(e){return new t("/api/organizer/opinion",e,!1)},Note:function(e){return new t("/api/organizer/note",e,!1)},Searches:function(e){return new t("/api/organizer/searches",e,!1)},Team:function(e){return new t("/api/organizer/team",e,!1)},Ajax:function(e){return new t("/ajax/organizer",e,!0)}},School:function(e,r){return new t("/api/school",e,r)},Search:{Autocomplete:function(e,r,a){return new t("/api/search/autocomplete/"+e,r.replace(/^[.\s]+|[.\s]+$/gm,"")+"/",a)},AutocompleteHtml:function(e,r,a){return new t("/ajax/search/autocomplete/"+e,r.replace(/^[.\s]+|[.\s]+$/gm,"")+"/",a)},OptionsHtml:function(e,r){return new t("/ajax/search/options/"+e,r)},Default:function(e){return new t("/api/search","",e)},Html:function(e){return new t("/ajax/search","",e)},Quick:function(e){return new t("/ajax/search/quick","",e)},Map:function(e){return new t("/ajax/search/map","",e)},PDIDs:function(){return new t("/api/search/pdids","",!1)},Result:function(e,r){return new t("/ajax/search/result",e,r)},Split:function(e){return new t("/ajax/search/split","",e)},Text:function(e){return new t("/api/dashboard/propertysearch/fts","",e)},SavePdq:function(e){return new t("/api/search/savepdq","",e)}},Style:{ColorPalette:function(e){return new t("api/castle/styles/colorpalette","",e)},FontPack:function(e){return new t("api/castle/styles/fontpack","",e)},HomeCover:function(e){return new t("api/castle/styles/homecover","",e)}},Dashboard:{},BackOffice:{Search:function(e){return new t("/api/backoffice/backoffice/search","",e)},FindMembers:function(e){return new t("/api/backoffice/backoffice/findmembers","",e)},Ping:function(){return new t("/api/backoffice/backoffice/ping","",!1)},LaunchStats:function(e){return new t("/api/backoffice/backoffice/launchstats","",e)},SetupStats:function(e){return new t("/api/backoffice/backoffice/setupstats","",e)},NPSScores:function(e){return new t("/api/backoffice/backoffice/npsscores","",e)},ChurnStats:function(e){return new t("/api/backoffice/backoffice/churnstats","",e)},KensingtonElement:function(e){return new t("/api/backoffice/backoffice/kensingtonelement","",e)},SyncLeads:function(e){return new t("/api/backoffice/backoffice/syncleads","",e)},SyncContacts:function(e){return new t("/api/backoffice/backoffice/synccontacts","",e)},SyncAccounts:function(e){return new t("/api/backoffice/backoffice/syncaccounts","",e)},SyncDomains:function(e){return new t("/api/backoffice/backoffice/syncdomains","",e)},SyncLeadNotes:function(e){return new t("/api/backoffice/backoffice/syncleadnotes","",e)},SyncSiteUsers:function(e){return new t("/api/backoffice/backoffice/syncsiteusers","",e)},Churn:{MinSecLevel:function(e){return new t("/api/backoffice/churn/minseclevel","",e)},OffboardingDetails:function(){return new t("/api/backoffice/churn/offboardingdetails","",!1)},OffboardingRequest:function(){return new t("/api/backoffice/churn/offboardingrequest","",!1)},QuitRequest:function(e,r){return new t("/api/backoffice/churn/quitrequest/"+e,"",r)},QuitReason:function(e,r){return new t("/api/backoffice/churn/quitreason/"+e,"",r)},PlatformLocks:function(e){return new t("/api/backoffice/churn/platformlock","",e)},PlatformSaveStatus:function(e){return new t("/api/backoffice/churn/platformsavestatus","",e)},AINCSaveStatus:function(e){return new t("/api/backoffice/churn/aincsavestatus","",e)},PauseMarketing:function(e){return new t("/api/backoffice/churn/pausemarketing","",e)},RestoreDomain:function(e){return new t("/api/backoffice/churn/restoredomain","",e)}}},Chat:{SendMessage:function(e){return new t("/api/dashboard/chat/sendmessage")},MarkMessageRead:function(e){return new t("/api/dashboard/chat/readmessage")},GetMessagesForUsers:function(e){return new t("/api/dashboard/chat/getchat")}},AWSPushNotification:{Preview:function(e){return new t("/api/awspushnotification/preview")},SendPMQMessage:function(e){return new t("/api/awspushnotification/sendpmqmessage")},SendCustomMessage:function(e){return new t("/api/awspushnotification/sendcustommessage")}}},!e.Site||"mycinc.com"!==e.Site.DomainName&&"cincghq.com"!==e.Site.DomainName?$.extend(e.Api,{Onboarding:{LaunchSite:function(e){return new t("/api/backoffice/onboarding/launchsite","",e)},SendTerms:function(e){return new t("/api/backoffice/onboarding/sendterms","",e)},SendMassAgentWelcomeEmail:function(e){return new t("/api/backoffice/onboarding/sendmassagentwelcomeemail","",e)},ChangeDomainNameAndRegister:function(e){return new t("/api/backoffice/onboarding/changedomainnameandregister","",e)}}}):($.extend(e.Api.BackOffice,{Accounts:{MergeImpact:function(e){return new t("/api/backoffice/accounts/mergeimpact","",e)},Merge:function(e){return new t("/api/backoffice/accounts/merge","",e)},Note:function(e){return new t("/api/backoffice/accounts/note","",e)},Link:function(e){return new t("/api/backoffice/accounts/link","",e)},VcomRunDay:function(e){return new t("/api/backoffice/accounts/vcomrunday","",e)}},PPC:{AddNote:function(e){return new t("/api/backoffice/ppc/addnote","",e)},UpdatePPCName:function(e){return new t("/api/backoffice/ppc/updateppcname","",e)},AdwordsBids:function(e,r){return new t("/api/backoffice/ppc/adwordsbids/"+e,"",r)},AutoCompleteGeo:function(e){return new t("/api/backoffice/ppc/autocompletegeo","",e)},AnalyzePDQ:function(e){return new t("/api/backoffice/ppc/analyzepdq","",e)},CampaignDailyStats:function(e){return new t("/api/backoffice/ppc/campaigndailystats","",e)},CampaignLastMonthStats:function(e){return new t("/api/backoffice/ppc/campaignlastmonthstats","",e)},CampaignMonthlyStats:function(e){return new t("/api/backoffice/ppc/campaignmonthlystats","",e)},AdWordsDetails:function(e){return new t("/api/backoffice/ppc/adwordsdetails","",e)},AdGroupNiche:function(e){return new t("/api/backoffice/ppc/adgroupniche","",e)},KeywordList:function(e){return new t("/api/backoffice/ppc/keywordlist","",e)},CreatePDQ:function(e){return new t("/api/backoffice/ppc/createpdq","",e)},FBLead:function(e){return new t("/api/backoffice/ppc/fblead","",e)},FBWebhook:function(e,r){return new t("/api/backoffice/ppc/fbwebhook/"+r,"",e)},FBManagedPage:function(e){return new t("/api/backoffice/ppc/managedfbpage","",e)},NicheAd:function(e){return new t("/api/backoffice/ppc/nichead","",e)},NewAdGroup:function(e){return new t("/api/backoffice/ppc/newadgroup","",e)},BatchJobStatus:function(e){return new t("/api/backoffice/ppc/batchjobstatus","",e)},UnPauseCampaings:function(e){return new t("/api/backoffice/ppc/unpausecampaigns","",e)},FBManagedForm:function(e){return new t("/api/backoffice/ppc/managedfbform","",e)},FBFormStatus:function(e){return new t("/api/backoffice/ppc/fbformstatus","",e)}},Invoice:{CreditCard:function(e){return new t("/api/backoffice/invoice/invoicecreditcard","",e)},Payment:function(e){return new t("/api/backoffice/invoice/payment","",e)},Void:function(e){return new t("/api/backoffice/invoice/void","",e)},Dispute:function(e){return new t("/api/backoffice/invoice/dispute","",e)},Check:function(e,r){return new t("/api/backoffice/invoice/check"+(r?"/"+r:""),"",e)},Credit:function(e){return new t("/api/backoffice/invoice/credit","",e)},ApplyBalance:function(e,r){return new t("/api/backoffice/invoice/applybalance/"+r,"",e)},SaveInvoiceNotes:function(e){return new t("/api/backoffice/invoice/saveinvoicenotes","",e)},SaveUnchargeNotes:function(e){return new t("/api/backoffice/invoice/saveunchargenotes","",e)},SaveCustomMessage:function(e){return new t("/api/backoffice/invoice/savecustommessage","",e)},ReconcileInvoice:function(e){return new t("/api/backoffice/invoice/reconcileinvoice","",e)},EmailPreview:function(e){return new t("/api/backoffice/invoice/emailpreview","",e)},SendEmail:function(e){return new t("/api/backoffice/invoice/sendemail","",e)},ReSendEmail:function(e){return new t("/api/backoffice/invoice/resendemail","",e)},SendNextMonthEmail:function(e){return new t("/api/backoffice/invoice/sendnextmonthemail","",e)},CorrectInvoice:function(e){return new t("/api/backoffice/invoice/correctinvoice","",e)},QueueItem:function(e,r){return new t("/api/backoffice/invoice/queueitem/"+e,"",r)},QueueItems:function(e,r){return new t("/api/backoffice/invoice/queueitems/"+e,"",r)},Reassign:function(e){return new t("/api/backoffice/invoice/reassign","",e)},Writeoff:function(e,r){return new t("/api/backoffice/invoice/writeoff"+(r?"/"+r:""),"",e)}},Churn:{MinSecLevel:function(e){return new t("/api/backoffice/churn/minseclevel","",e)},OffboardingDetails:function(){return new t("/api/backoffice/churn/offboardingdetails","",!1)},OffboardingRequest:function(){return new t("/api/backoffice/churn/offboardingrequest","",!1)},QuitRequest:function(e,r){return new t("/api/backoffice/churn/quitrequest/"+e,"",r)},QuitReason:function(e,r){return new t("/api/backoffice/churn/quitreason/"+e,"",r)},PlatformLocks:function(e){return new t("/api/backoffice/churn/platformlock","",e)},PlatformSaveStatus:function(e){return new t("/api/backoffice/churn/platformsavestatus","",e)},AINCSaveStatus:function(e){return new t("/api/backoffice/churn/aincsavestatus","",e)},PauseMarketing:function(e){return new t("/api/backoffice/churn/pausemarketing","",e)},RestoreDomain:function(e){return new t("/api/backoffice/churn/restoredomain","",e)}},Platform:{SiteData:function(e){return new t("/api/backoffice/platform/sitedata","",e)},Members:function(e){return new t("/api/backoffice/platform/members","",e)},ProductUsages:function(e){return new t("/api/backoffice/platform/productusages","",e)},ProductUsage:function(e){return new t("/api/backoffice/platform/productusage","",e)},ChangeDomainName:function(e){return new t("/api/backoffice/platform/changedomainname","",e)}},ClientServices:{MLSParticipants:function(e,r){return new t("/api/backoffice/clientservices/mlsparticipants/"+e,"",r)},ParticipantName:function(e){return new t("/api/backoffice/clientservices/participantname","",e)},MLSReportConfig:function(e){return new t("/api/backoffice/clientservices/mlsreportconfig","",e)},LeadFlowStats:function(e){return new t("/api/backoffice/clientservices/leadflowstats","",e)},NPSByAgent:function(e){return new t("/api/backoffice/clientservices/npsbyagent","",e)},MLSList:function(e){return new t("/api/backoffice/clientservices/mlslist","",e)},MLSClients:function(e,r){return new t("/api/backoffice/clientservices/mlsclients/"+e,"",r)},ReassignClients:function(e){return new t("/api/backoffice/clientservices/reassignclients","",e)}},HR:{Employee:function(e){return new t("/api/backoffice/hr/employee","",e)}}}),$.extend(e.Api,{ClientServices:{MLSParticipants:function(e,r){return new t("/api/backoffice/clientservices/mlsparticipants/"+e,"",r)},ParticipantName:function(e){return new t("/api/backoffice/clientservices/participantname","",e)},MLSReportConfig:function(e){return new t("/api/backoffice/clientservices/mlsreportconfig","",e)},LeadFlowStats:function(e){return new t("/api/backoffice/clientservices/leadflowstats","",e)},NPSByAgent:function(e){return new t("/api/backoffice/clientservices/npsbyagent","",e)},MLSList:function(e){return new t("/api/backoffice/clientservices/mlslist","",e)},MLSClients:function(e,r){return new t("/api/backoffice/clientservices/mlsclients/"+e,"",r)}},Onboarding:{SetStatus:function(e){return new t("/api/backoffice/onboarding/setstatus","",e)},DNSRecords:function(e){return new t("/api/backoffice/onboarding/getdnsrecords","",e)},OnboardingNote:function(e){return new t("/api/backoffice/onboarding/addonboardingnote","",e)},AddLead:function(e){return new t("/api/backoffice/onboarding/addlead","",e)},GenerateSetupInvoice:function(e){return new t("/api/backoffice/onboarding/generatesetupinvoice","",e)},SendTerms:function(e){return new t("/api/backoffice/onboarding/sendterms","",e)},SendMassAgentWelcomeEmail:function(e){return new t("/api/backoffice/onboarding/sendmassagentwelcomeemail","",e)},CheckEmail:function(e){return new t("/api/backoffice/onboarding/checkemail","",e)},PartnerAccount:function(e){return new t("/api/backoffice/onboarding/partneraccount","",e)},CreatePartnerMembers:function(e){return new t("/api/backoffice/onboarding/createpartnermembers","",e)},ResetSteps:function(e){return new t("/api/backoffice/onboarding/resetsteps","",e)},SelfServiceEmail:function(e){return new t("/api/backoffice/onboarding/selfserviceemail","",e)},LaunchSite:function(e){return new t("/api/backoffice/onboarding/launchsite","",e)},ChangeDomainNameAndRegister:function(e){return new t("/api/backoffice/onboarding/changedomainnameandregister","",e)}},Conference:{SyncLeads:function(e){return new t("/api/backoffice/conference/syncleads","",e)},ChargeAttendees:function(e){return new t("/api/backoffice/conference/chargeattendees","",e)},SetAttendeeStatus:function(e){return new t("/api/backoffice/conference/setattendeestatus","",e)},AttendeeComp:function(e){return new t("/api/backoffice/conference/attendeecomp","",e)},SiteFeatures:function(e){return new t("/api/backoffice/conference/sitefeatures","",e)}},Keymaster:{Subscription:function(e){return new t("/api/backoffice/keymaster/subscription","",e)}},CreditCard:{Disable:function(e){return new t("/api/backoffice/creditcard/disable","",e)},Enable:function(e){return new t("/api/backoffice/creditcard/enable","",e)},MakePrimary:function(e){return new t("/api/backoffice/creditcard/makeprimary","",e)},Card:function(e){return new t("/api/backoffice/creditcard/card","",e)},Cards:function(e){return new t("/api/backoffice/creditcard/cards","",e)},Copy:function(e){return new t("/api/backoffice/creditcard/copycard","",e)},New:function(e){return new t("/api/backoffice/creditcard/newcard","",e)}},ZenDesk:{SyncPlatform:function(e){return new t("/api/backoffice/zendesk/syncplatform","",e)}}}));var t=function(t,r,a){this.unique=a||!1,this.baseRoute=t,this.url=t+"/"+(r||"");var i=!1;if(this.unique)if(e.AjaxRequests[this.baseRoute])for(var n=0;n<e.AjaxRequests[this.baseRoute].length;n++)e.AjaxRequests[this.baseRoute][n].abort();else e.AjaxRequests[this.baseRoute]=[];this.useMyCinc=function(){e.InDev||e.InStaging||(this.url="https://www.mycinc.com"+this.url,i=!0)},this.handleReq=function(t,r,a){var n={url:this.url,type:t,data:r};i&&(n.headers={gkdid:e.User.gkdid}),a&&$.extend(n,{processData:!1,contentType:"application/json",data:JSON.stringify(r)});var s=$.ajax(n);if(this.unique&&e.AjaxRequests[this.baseRoute].push(s),s.displayFailures=function(t){return s.fail(function(r){if(e&&e.Dashboard&&e.Dashboard.ShowError)e.Dashboard.ShowError(r,t);else{console.error(r);var a="string"==typeof r?r:r.responseText||r.statusText;r.responseJSON&&r.responseJSON.message&&(a=r.responseJSON.message),Notification.Banner.Error(a,t)}}),s},this.laddaElement){var o=this.laddaElement;if($(o).is("form")&&(o=$(o).find('button[type="submit"]')),$(o).is("button")){var l=Ladda.create(o[0]).start();s.always(function(){l.stop()})}}return s},this.ladda=function(e){return this.laddaElement=e,this},this.get=function(e){return this.handleReq("GET",e,!1)},this.post=function(e){return this.handleReq("POST",e,!0)},this.patch=function(e){return this.handleReq("PATCH",e,!0)},this.put=function(e){return this.handleReq("PUT",e,!0)},this.del=function(e){return this.handleReq("DELETE",e,!0)}};e.AjaxApi=t}(CINC),function(e){Object.freeze({PLIPBATCHSTATUSUPDATE:"plipbatchstatusupdate",MASSACTION:"massaction",LISTINGGENERATED:"listinggenerated",LOGOUT:"logout",AGENTVIDEOENCODED:"agentvideoencoded",VIDEOPREVIEW:"videopreview"}),void 0===e.Hubs&&(e.Hubs={}),$(document).ready(function(){t()});var t=function(){if(e.User&&(e.User.onDialer&&(e.Hubs.Dialer=$.connection.dialerHub,e.Hubs.Dialer&&e.Hubs.Dialer.client&&(e.Hubs.Dialer.client.blah=function(e){console.log("dialer notify here"+JSON.stringify(e))})),e.Site.On_CRMPlusChat&&(e.Hubs.Chat=$.connection.chatHub,e.Hubs.Chat&&e.Hubs.Chat.client&&(e.Hubs.Chat.client.blah=function(e){console.log("chat notify here: "+JSON.stringify(e))})),e.User.securityLevel>=10&&(e.Hubs.Crm=$.connection.crmHub,e.Hubs.DashboardViewHub=$.connection.dashboardViewHub,e.Hubs.Crm&&e.Hubs.Crm.client&&(e.Hubs.Crm.client.blah=function(e){console.log("crm notify here"+JSON.stringify(e))}),e.Hubs.DashboardViewHub&&e.Hubs.DashboardViewHub.client&&(e.Hubs.DashboardViewHub.client.blah=function(e){console.log("DashboardViewHub notify here"+JSON.stringify(e))}),void 0!==e.Hubs?(e.Hubs.DashboardViewHub&&Object.keys(e.Hubs.DashboardViewHub).length>0?e.Hubs.DashboardViewHub.on("notify",function(e){console.log("DashboradHub Push: "+JSON.stringify(e));const t=i[e.NotificationType.toLowerCase()];t&&t.communicate(e)}):console.log("No signalr CINC.Hubs.DashboardViewHub enabled."),void 0!==e.Hubs.Crm&&Object.keys(e.Hubs.Crm).length>0?e.Hubs.Crm.on("notify",function(t){console.log("Crm Push: "+JSON.stringify(t));const r=i[t.NotificationType.toLowerCase()];r&&r.communicate(t),e.Dashboard.Progress.AddMessage(t.message)}):console.log("No signalr CINC.Hubs.Crm enabled.")):console.log("No signalr hub enabled.")),!_.isEmpty(e.Hubs)&&"function"==typeof $.connection.hub.start)){var t=0;$.connection.hub.logging=!1,$.connection.hub.start().done(function(){t=0}),$.connection.hub.disconnected(function(){if(5==t&&(console.log("SignalR failed to connect after "+t+" attempts."),e.User.onDialer&&a()))return r(),alert("Oops. Looks like your browser had a hiccup. Please refresh your browser to continue using the dialer."),void console.log("Bailing out on real-time push. Refresh browser.");setTimeout(function(){$.connection.hub.start().fail(function(){t++})},5e3)})}},r=function(){return $.get("/api/dashboard/dialer/signalrfailed").done(function(e){return!0}).fail(function(e){}),!1},a=function(){return $.get("/api/dashboard/dialer/status").done(function(e){if(e.dcdid)return!0}).fail(function(e){}),!1};const i={agentvideoencoded:{communicate:function(e){var t={encoded:{createDT:e.Encoded.createDT,domainName:e.Encoded.DomainName,fileDID:e.Encoded.FileDID,filename:e.Encoded.Filename,fullURL:e.Encoded.FullURL,origFileName:e.Encoded.OrigFileName,fileType:e.Encoded.FileType,storeURL:e.Encoded.StoreURL,tags:e.Encoded.Tags,ownerExternalId:e.Encoded.OwnerExternalId,referenceId:e.Encoded.ReferenceId},raw:{createDT:e.Raw.createDT,domainName:e.Raw.DomainName,fileDID:e.Raw.FileDID,filename:e.Raw.Filename,fullURL:e.Raw.FullURL,origFileName:e.Raw.OrigFileName,fileType:e.Raw.FileType,storeURL:e.Raw.StoreURL,tags:e.Raw.Tags,ownerExternalId:e.Raw.OwnerExternalId,referenceId:e.Raw.ReferenceId}};Backbone.Radio.channel("uploads").trigger("video:encoded",t)}},listinggenerated:{communicate:function(t){e.Dashboard.Progress.Open({title:"Listing Dashboard Status",value:0}),e.Dashboard.Progress.SetValue(100)}},logout:{communicate:function(e){window.location.href="/"}},massaction:{communicate:function(t){e.Dashboard.Progress.Open({title:"Mass Action Status",value:0}),e.Dashboard.Progress.SetValue(100)}},plipbatchstatusupdate:{communicate:function(t){e.User.perm_Plips&&Backbone.Radio.channel("plips").trigger("update:plipbatchstats",t)}},videopreview:{communicate:function(e){Backbone.Radio.channel("properties").trigger("video:preview",e)}}};e.Hubs.SafeApplyCallback=function(e,t,r){var a=e._.callbackMap;a[t]||(a[t]={},e.on(t,r))}}(CINC),CINC="undefined"==typeof CINC?{}:CINC,CINC.Chat={opened:!1,dashboard:!1},function(){$(document).ready(function(){CINC.Chat.Open=t,CINC.Chat.OpenForAgent=e,CINC.Chat.Close=r,CINC.Hubs&&CINC.Hubs.Chat&&(CINC.Hubs.Chat.on("notify",function(e){console.log("RT Push: "+JSON.stringify(e)),c(e)}),$(".chat-button").click(function(e){var t=$(this).data("mdid");null!=t&&t.length>0&&CINC.Chat.Open(t)}))});var e=function(e){CINC.Chat.dashboard=!0,t(e)},t=function(e){CINC.Site.On_CRMPlusChat&&($("#chat-container").show(),i(e).show(),n(e),CINC.Chat.opened=!0)},r=function(e){e.remove(),CINC.Chat.opened=!1},a=function(){$("#chat-container").width()>=$("#chat-container").parent().width()&&$(".js-chat-dialog").first().remove()},i=function(e){return $('.js-chat-dialog[data-mdid="'+e+'"]')},n=function(e){e&&s(e)},s=function(e){CINC.Api.Chat.GetMessagesForUsers(!0).get({mdid:e}).success(function(t){for(var n=0;n<t.chats.length;n++)t.chats[n].receiving=t.chats[n].fromMDID==e,t.chats[n].modifyDT=p(t.chats[n].modifyDT),t.chats[n].createDT=p(t.chats[n].createDT),t.chats[n].readMsgDT=p(t.chats[n].readMsgDT);o(t);var s=i(e);u(s),a(),function(e){e.find(".js-chad-send").unbind().click(function(e){e.preventDefault(),h($(this).closest(".js-chat-dialog"))}),e.find(".js-chad-message").unbind().keyup(function(e){if(13==e.keyCode){var t=this.value,r=g(this);e.shiftKey?(this.value=t.substring(0,r-1)+"\n"+t.substring(r,t.length),e.stopPropagation()):h($(this).closest(".js-chat-dialog"))}}),e.find(".js-chad-close").unbind().click(function(e){e.preventDefault(),r($(this).closest(".js-chat-dialog"))});$(".js-consumer-chat .panel-toolbar").on("click","[data-toggle~=panelcollapse]",function(e){y(e)})}(s),m(t.chats,e)})},o=function(e){e.isConsumer=!CINC.Chat.dashboard;var t=Handlebars.compile($("#chad-panel").html())(e);l(e.mdid)||$("#chat-container").append(t)},l=function(e){var t=!1;return $(".js-chat-dialog").each(function(){$(this).attr("data-mdid")!==e||(t=!0)}),t},h=function(e){var t=e.attr("data-mdid"),r=e.find(".js-chad-message").val();CINC.Api.Chat.SendMessage(!0).post({Message:r,ToMDID:t}).success(function(t){t.createDT=p(t.createDT),t.modifyDT=p(t.modifyDT),t.readMsgDT=p(t.readMsgDT),d(e,t,!1),u(e),e.find(".js-chad-message").val("")})},p=function(e){var t=new Date(e);return t.setHours(t.getHours()-(CINC.ServerUTCOffset-CINC.LocalGMT)),t},c=function(e){if(!e)return!1;var t=i(e.mdid);if(CINC.Chat.opened)if(e.isHandshake&&e.cdids&&e.cdids.length>0){for(var r=$(".chat-history .message-data"),a=0;a<e.cdids.length;a++)for(var n=0;n<r.length;n++)if($(r[n]).data("cdid")==e.cdids[a]){$(r[n]).append('<i class="ico-checkmark text-success"></i>');break}}else{var s=Object.assign({},e);s.createDT=p(e.createDT),d(t,s,!0),u(t),f(e)}else e.isHandshake||CINC.Chat.Open(e.mdid)},d=function(e,t,r){var a="";r?a=Handlebars.compile($("#chad-received-message").html())(t):a=Handlebars.compile($("#chad-sent-message").html())(t);a.length>0&&e.find(".chat-history").append(a)},f=function(e){if(e&&e.cdid){var t={cdids:[e.cdid]};CINC.Api.Chat.MarkMessageRead(!0).put(t)}},m=function(e,t){if(e&&e.length>0){for(var r={cdids:[]},a=0;a<e.length;a++)e[a].fromMDID!=t||e[a].received||r.cdids.push(e[a].cdid);if(r.cdids.length>0)CINC.Api.Chat.MarkMessageRead(!0).put(r)}},u=function(e){e.find(".chat-history").scrollTop(e.find(".chat-history")[0].scrollHeight)},g=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var r=e.createTextRange(),a=r.duplicate();return r.moveToBookmark(t.getBookmark()),a.setEndPoint("EndToStart",r),a.text.length}return 0},y=function(e){var t=$(e.currentTarget).closest(".panel"),r=t.children(".panel-collapse"),a=r.height();console.log(t),0===r.length&&$.error('collapsable element need to be wrap inside ".panel-collapse"');$(r).hasClass("out")?($(this).removeClass("up").addClass("down"),$(r).removeClass("pull out").addClass("pulling").css("height",a).transition({height:"0px"},function(){$(this).removeClass("pulling").addClass("pull"),$(this).css({height:""})})):function(e){$(e).removeClass("down").addClass("up"),$(r).removeClass("pull").addClass("pulling").css("height","0px").transition({height:a},function(){$(this).removeClass("pulling").addClass("pull out"),$(this).css({height:""})})}(this),e.preventDefault()}}(),function(Handlebars){var OriginalCompile=Handlebars.compile,OriginalRegisterPartial=Handlebars.registerPartial;Handlebars.compile=function(e,t){return e||(e=""),_.compose(OriginalCompile(e,t),function(e){return Handlebars.mixinGlobals(e)})},Handlebars.registerPartial=function(e,t){return t||(t=""),OriginalRegisterPartial.call(Handlebars,e,t)},Handlebars.mixinGlobals=function(e){var t={CINC:CINC,Dex:window.Dex||{}};return _.extend(t,e)},Handlebars.registerHelper("var",function(e,t,r){r&&r.data&&(r.data[e]=t)}),Handlebars.registerHelper("eval",function(js,options){return eval(js)}),Handlebars.registerHelper("handlebars",function(e,t){if(!e)return"";if("string"==typeof e)return Handlebars.compile(e)();if($.isArray(e)){var r=t&&t.hash&&t.hash.flatten,a=[];return $.each(e,function(t){var i=Handlebars.compile(e[t])();r&&$.isArray(i)?$.each(i,function(e){a.push(i[e])}):a.push(i)}),a}return e}),Handlebars.registerHelper("indexer",function(e,t,r){try{return e[t]}catch(e){console.log(e)}return null}),Handlebars.registerHelper("selectedif",function(e,t,r,a){return AttributeIf("selected",e,t,r,a)}),Handlebars.registerHelper("checkedif",function(e,t,r,a){return AttributeIf("checked",e,t,r,a)}),Handlebars.registerHelper("disabledif",function(e,t,r,a){return AttributeIf("disabled",e,t,r,a)});var AttributeIf=function(e,t,r,a,i){return!i&&a&&a.hash&&(i=a,a=r,r="~="),"string"!=typeof r&&(r="===",a=!0),(i=i||{hash:{}}).hash.operator=r,i.fn=function(){return!0},i.inverse=function(){return!1},HandlebarsCompare(t,a,i)?e:""};Handlebars.registerHelper("contains",function(e,t,r){if("string"==typeof e){var a=r&&r.hash&&!0===r.hash.toLower?t.toLowerCase():t,i=r&&r.hash&&!0===r.hash.toLower?e.toLowerCase():e,n=i.indexOf(a)>=0;if(i.indexOf(",")>=0&&r.hash.csvSearch){var s=i.split(",");n=1===_.intersection(s,[a]).length}return!n||""===a&&r.hash.ignoreEmptyString?r.inverse(this):r.fn(this)}return _.contains(e,t)?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("log",function(e,t){console.log(e)}),Handlebars.registerHelper("json",function(e){try{return e.CINC&&delete e.CINC,e.Dex&&delete e.Dex,JSON.stringify(e)}catch(t){console.error(t,e)}return null}),Handlebars.registerHelper("toProperCase",function(e,t){return _.isString(e)?e.toProperCase():e}),Handlebars.registerHelper("replace",function(e,t,r,a){return _.isString(e)?e.split(t).join(r):e}),Handlebars.registerHelper("stripHtml",function(e,t){return _.isString(e)?(e=e.replace(/<img[^>]*>/g,""),truncOpt={stripTags:!0,length:t.hash.length,words:t.hash.words,noBreaks:t.hash.noBreaks},$.truncate(e,truncOpt)):e}),Handlebars.registerHelper("truncateHtml",function(e,t){return truncOpt={stripTags:!1,length:_.isNumber(t.hash.length)?t.hash.length:512,words:!_.isBoolean(t.hash.words)||t.hash.words,noBreaks:!_.isBoolean(t.hash.noBreaks)||t.hash.noBreaks},$.truncate(e,truncOpt)}),Handlebars.registerHelper("isNullOrEmpty",function(e,t){return _.isUndefined(e)||_.isEmpty(e)||_.isString(e)&&0===e.length?t.fn(this):t.inverse(this)});var HandlebarsCompare=function(e,t,r){if(arguments.length<3)throw new Error("Handlebars Helper 'compare' needs 2 parameters");var a=r.hash.operator||"===";if("function"==typeof e&&(e=e()),"function"==typeof t&&(t=t()),"modelProperty"===a)return r&&r.data&&r.data.root&&r.data.root.hasOwnProperty(e)&&(r.data.root[e]===t||_.isString(r.data.root[e])&&""!==t&&r.data.root[e].indexOf(t)>=0)?r.fn(this):r.inverse(this);if("modelPropertyCompareFull"===a)return r&&r.data&&r.data.root&&r.data.root.hasOwnProperty(e)&&(r.data.root[e]===t||_.isString(r.data.root[e])&&""!==t&&r.data.root[e]===t)?r.fn(this):r.inverse(this);if("modelPropertyCompareFullCSV"===a){if(r&&r.data&&r.data.root&&r.data.root.hasOwnProperty(e)){if(_.isString(r.data.root[e])&&""!==t&&r.data.root[e]===t)return r.fn(this);var i=r.data.root[e].split(",");if(1===_.filter(i,function(e){return e.toLowerCase()===t.toLowerCase()}).length)return r.fn(this)}return r.inverse(this)}if("equalsIgnoreCase"===a||"~="===a||"!~="===a){var n="!"===a[0]?r.inverse:r.fn,s="!"===a[0]?r.fn:r.inverse;return(e||"").toString().toLowerCase()===(t||"").toString().toLowerCase()?n(this):s(this)}var o={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"&lt;":function(e,t){return e<t},"&lt;=":function(e,t){return e<=t},"&gt;":function(e,t){return e>t},"&gt;=":function(e,t){return e>=t},"%":function(e,t){return e%t},typeof:function(e,t){return typeof e==t},regex:function(e,t){return new RegExp(t,"i").test(e)}};if(!o[a])throw new Error("Handlebars Helper 'compare' doesn't know the operator "+a);return o[a](e,t)?r.fn(this):r.inverse(this)};Handlebars.registerHelper("compare",HandlebarsCompare),Handlebars.registerHelper("ifEither",function(e,t,r){return e||t?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("ifBoth",function(e,t,r){return e&&t?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("mod",function(e,t,r){return e%t==0?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("add",function(e,t,r){return parseInt(e)+parseInt(t)}),Handlebars.registerHelper("plusonemod",function(e,t,r){return(e+1)%t==0?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("getValueOfPropertyNamed",function(e,t){if(t.data&&t.data.root&&t.data.root.hasOwnProperty(e)){var r=t.data.root[e],a=parseFloat(r.replace(/[^\d\.]/g,""));return _.isNaN(a)?r:e.toLowerCase().indexOf("price")>-1||e.toLowerCase().indexOf("tax")>-1?a.formatPrice():e.toLowerCase().indexOf("year")>-1||e.toLowerCase().indexOf("zip")>-1||e.toLowerCase().indexOf("postal")>-1?r:a.toLocaleString()}}),Handlebars.registerHelper("securityLevel",function(e,t,r){if(r.hash.operator=e,"string"==typeof t)switch(t.toLowerCase()){case"cincadmin":t=25;break;case"broker":t=15;break;case"agent":t=10;break;default:return console.error("Unknown security level name: "+t),!1}return HandlebarsCompare(CINC.User.securityLevel,t,r)}),Handlebars.registerHelper("lookup",function(e,t,r){return e[t]?"string"!=typeof e[t]&&$.isArray(e[t])?e[t].length>0?r.fn(e[t],{data:{key:t}}):r.inverse(e,{data:{key:t}}):r.fn(e[t],{data:{key:t}}):r.inverse(e,{data:{key:t}})}),Handlebars.registerHelper("lookupReal",function(e,t){return e[t]}),Handlebars.registerHelper("charAt",function(e,t){return null!=e&&e.length>t&&t>=0?e.charAt(t):""}),Handlebars.registerHelper("nl2br",function(e,t){if(e)return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}),Handlebars.registerHelper("censor",function(e,t){return _.isString(e)?e.censorDirty():e}),Handlebars.registerHelper("linkify",function(e,t){return e=LinkAddresses(e||""),Autolinker.link(e||"")});var LinkAddresses=function(e){var t="Property Details: <br />  Address: ",r=e.indexOf(t);if(r>0){var a=e.substring(0,r+t.length),i=e.substring(r+t.length),n=i.indexOf("<br />"),s=i.substring(0,n).trim();i=i.substring(n),e=a+"<a href='https://maps.google.com/maps/place/"+encodeURIComponent(s)+"' target='_blank'>"+s+"</a>"+i}return e},token,timezone,timezoneClip,pad,dateFormat;Handlebars.formatDate=(token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},dateFormat=function(e,t,r){var a=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"==(t=String(a.masks[t]||t||a.masks.default)).slice(0,4)&&(t=t.slice(4),r=!0);var i=r?"getUTC":"get",n=e[i+"Date"](),s=e[i+"Day"](),o=e[i+"Month"](),l=e[i+"FullYear"](),h=e[i+"Hours"](),p=e[i+"Minutes"](),c=e[i+"Seconds"](),d=e[i+"Milliseconds"](),f=r?0:e.getTimezoneOffset(),m={d:n,dd:pad(n),ddd:a.i18n.dayNames[s],dddd:a.i18n.dayNames[s+7],m:o+1,mm:pad(o+1),mmm:a.i18n.monthNames[o],mmmm:a.i18n.monthNames[o+12],yy:String(l).slice(2),yyyy:l,h:h%12||12,hh:pad(h%12||12),H:h,HH:pad(h),M:p,MM:pad(p),s:c,ss:pad(c),l:pad(d,3),L:pad(d>99?Math.round(d/10):d),t:h<12?"a":"p",tt:h<12?"am":"pm",T:h<12?"A":"P",TT:h<12?"AM":"PM",Z:r?"UTC":(String(e).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(f>0?"-":"+")+pad(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10]};return t.replace(token,function(e){return e in m?m[e]:e.slice(1,e.length-1)})},dateFormat.masks={default:"ddd mmm dd yyyy HH:MM",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM TT",longTime:"h:MM TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM",isoDateTime:"yyyy-mm-dd'T'HH:MM",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM'Z'",cincDate:"mmm d, yyyy 'at' h:MM TT"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},dateFormat),Handlebars.registerHelper("placeholder",function(e,t){var r="-";return t&&t.hash&&t.hash.placeholder&&(r=t.hash.placeholder),e&&""!==e?e:r}),Handlebars.registerHelper("date",function(e,t){if(!e)return"";if("function"==typeof e&&t&&t.data&&t.data.root){var r=null;try{r=e.call(t.data.root)}catch(e){console.log("Handlebars date helper failed to call dt as function()")}e=r||e}if("function"==typeof e)return"";try{var a=e.getMonth?e:ParseSqlDate(e,!1);if(a>=new Date("2050-01-01")&&t.hash.ongoing)return"ONGOING";if(a>=new Date("2050-01-01")&&t.hash.never)return"NEVER";if(a.getYear()<=0&&t.hash.na)return"n/a";if(t.hash.diff)return console.warn("Please use the 'timeago' handlebars helper instead"),"undefined"==typeof moment?moment(e).fromNow():"n/a";var i=Handlebars.formatDate(a,t.hash.format||"mm/dd/yyyy");return t.hash.uppercase&&(i=i.toUpperCase()),i}catch(t){return console.log(t),e}});var ParseSqlDate=function(e,t){if(!e)return new Date("1900-1-1");var r=e.split(/[^0-9]/);return new Date(r[0],r[1]-1,r[2],r[3],r[4],r[5])};Handlebars.registerHelper("timeago",function(e,t){if(t=t||{},"undefined"==typeof moment)return console.warn('the "timeago" helper requires momentjs'),"N/A";if(null==e||new Date(e).getYear()<=0)return t.hash.placeholder?t.hash.placeholder:"n/a";if(t.hash.useDefaultBehavior&&!0===t.hash.useDefaultBehavior)return moment(new Date(e)).fromNow(!(t.hash.includeAgo&&t.hash.includeAgo,0));var r,a,i,n=moment(new Date),s=moment(new Date(e)),o=n.diff(s);return t.hash.invert&&!0===t.hash.invert&&(o=-o,n=moment(new Date(e)),s=moment(new Date)),o>0?Math.abs(o)<=6e4?"NOW":Math.abs(o)<36e5?(r=Math.ceil(n.diff(s,"minutes",!0)))+(Math.abs(r)>1?" mins":" min"):Math.abs(o)<864e5?(a=Math.ceil(n.diff(s,"hours",!0)))+(Math.abs(a)>1?" hours":" hour"):(i=Math.ceil(n.diff(s,"days")))+(Math.abs(i)>1?" days":" day"):Math.abs(o)<=6e4?"NOW":Math.abs(o)<36e5?(r=Math.floor(n.diff(s,"minutes",!0)))+(Math.abs(r)>1?" mins":" min"):Math.abs(o)<864e5?(a=Math.floor(n.diff(s,"hours",!0)))+(Math.abs(a)>1?" hours":" hour"):(i=Math.floor(n.diff(s,"days")))+(Math.abs(i)>1?" days":" day")}),Handlebars.registerHelper("timeDuration",function(e,t){if(arguments.length<2)throw new Error("Handlebars Helper 'timeDuration' needs 2 parameters");var r=t.hash.format||"HH:mm:ss";return moment().startOf("day").seconds(e).format(r)}),Handlebars.registerHelper("appointmentDate",function(e,t,r){if((r=r||{}).omitDates=r.omitDates||!1,!t)return formatAppointmentDate(e,r);"string"==typeof e&&(e=ParseSqlDate(e,!1)),"string"==typeof t&&(t=ParseSqlDate(t,!1));var a={timeOnly:r.timeOnly||r.omitDates||!1},i={timeOnly:r.timeOnly||r.omitDates||!1};return new Date(e).setHours(0,0,0,0)==new Date(t).setHours(0,0,0,0)&&(i.timeOnly=!0),formatAppointmentDate(e,a)+" to "+formatAppointmentDate(t,i)});var formatAppointmentDate=function(e,t){var r=(t=t||{}).timeOnly||!1;if(!e)return"<unknown>";"string"==typeof e&&(e=ParseSqlDate(e,!1)),e._isAMomentObject&&(e=e._d);var a=e.getHours(),i=a>=12?"pm":"am";a>12&&(a-=12);var n=e.getMinutes();n<10&&(n="0"+n);var s=a+(n="00"==n?"":":"+n)+i;return r?s:$.datepicker.formatDate("m/dd/yy",e)+" "+s};Handlebars.registerHelper("agendaDuration",function(e,t){if(!t)return"None";"string"==typeof e&&(e=ParseSqlDate(e,!1)),"string"==typeof t&&(t=ParseSqlDate(t,!1));var r=Math.abs(t-e)/36e5,a=Math.floor(r/24),i=r%24,n=60*r;if(r<1)return Math.floor(n)+" minute"+(n>1?"s":"");if(a>0){var s=a+" day"+(a>1?"s":"");return i>0&&(s=s+" and "+Math.round(10*i)/10+" hour"+(i>1?"s":"")),s}return Math.round(10*r)/10+" hour"+(r>1?"s":"")}),Handlebars.registerHelper("agendaDurationValue",function(e,t){return t?("string"==typeof e&&(e=ParseSqlDate(e,!1)),"string"==typeof t&&(t=ParseSqlDate(t,!1)),Math.abs(t-e)/36e5):"None"}),Handlebars.registerHelper("agendaDate",function(e,t,r){(r=r||{}).omitDates=r.omitDates||!1;var a={timeOnly:!0};return t?("string"==typeof e&&(e=ParseSqlDate(e,!1)),"string"==typeof t&&(t=ParseSqlDate(t,!1)),formatAgendaDate(e,a)+" - "+formatAgendaDate(t,{timeOnly:!0})):formatAgendaDate(e,a)}),Handlebars.registerHelper("agendaSingleDate",function(e){return"string"==typeof e&&(e=ParseSqlDate(e,!1)),e._isAMomentObject&&(e=e._d),$.datepicker.formatDate("m/dd/yy",e)});var formatAgendaDate=function(e,t){var r=(t=t||{}).timeOnly||!1,a=t.dateOnly||!1;if(!e)return"<unknown>";"string"==typeof e&&(e=ParseSqlDate(e,!1)),e._isAMomentObject&&(e=e._d);var i=e.getHours(),n=i>=12?"p":"";i>12&&(i-=12),0==i&&(i=12);var s=e.getMinutes();s<10&&(s="0"+s);var o=i+(s="00"==s?"":":"+s)+n,l=$.datepicker.formatDate("m/dd/yy",e);return r?o:a?l:l+" "+o},formatPrice=function(e){return"$"+e.toLocaleString()},formatShortPrice=function(e){var t=parseInt(e),r=String(t);return t=t>=1e3&&t<=999999?"$"+r.substr(0,r.length-3)+"k":t>=1e6?"$"+r.substr(0,r.length-6)+"."+r.substr(r.length-6,1)+"M":"$"+t};Handlebars.registerHelper("formatPrice",function(e,t){if(t=t||{},!e&&t.hash.useNA)return"n/a";try{var r=parseInt(e);return _.isNaN(r)?"":t.hash.useShortPrice?formatShortPrice(r):formatPrice(r)}catch(e){console.log(e)}return e}),Handlebars.registerHelper("for",function(e,t,r,a){for(var i="",n=e;n<t;n+=r)i+=a.fn(n);return i}),Handlebars.registerHelper("add",function(e,t){return e+t}),Handlebars.registerHelper("phone",function(e,t){if(!e)return"n/a";try{"n/a"!==String(e)&&10===(e=e.toString().replace(/\D/g,"")).length&&(e=e.substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,10))}catch(e){console.log(e)}return e}),Handlebars.registerHelper("numWithCommas",function(e,t){if(void 0===e)return"n/a";try{if(_.isFunction(e)&&t&&t.data&&t.data.root){var r=null;try{r=e.call(t.data.root,t)}catch(e){console.log("Handlebars numWithCommas helper failed to call numberS as function()")}e=r}_.isNaN(Number(e))||(e=Number(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}catch(e){console.log(e)}return e}),Handlebars.registerHelper("skewLightOrDark",function(e,t){return Handlebars.SkewLightOrDark(e,t)}),Handlebars.registerHelper("partnerVerbiage",function(){return CINC.Verbiage.Get("partner")}),Handlebars.registerHelper("brokerVerbiage",function(){return CINC.Verbiage.Get("broker")}),Handlebars.SkewLightOrDark=function(e,t){try{var r=t.hash.light||"white",a=t.hash.dark||"black";return void 0===e||0==e.length?t.hash.standard||a:(0==e.indexOf("#")&&(e=e.substring(1)),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?a:r)}catch(e){console.log(e)}return r},Handlebars.registerHelper("truncate",function(e,t,r){if(r=r||{},e&&e.length>t&&e.length>0){var a=e+" ";return a=e.substr(0,t),r.hash.exactLength||(a=e.substr(0,a.lastIndexOf(" "))),a=a.length>0?a:e.substr(0,t),new Handlebars.SafeString(a+"...").string}return e}),Handlebars.registerHelper("toLowerCase",function(e){return _.isString(e)?e.toLowerCase():e}),Handlebars.registerHelper("toUpperCase",function(e){return _.isString(e)?e.toUpperCase():e}),Handlebars.registerHelper("coalesce",function(){for(var e=0;e<arguments.length-1;e++)if(arguments[e])return arguments[e];return null}),Handlebars.registerHelper("exists",function(e,t){return _.isArray(e)&&e.length>0||null!=e&&""!==e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("round",function(e,t,r){return parseFloat(e).toFixed(t)}),Handlebars.registerHelper("containsCSV",function(e,t,r){return e&&-1!=e.split(r.hash.delimiter||",").indexOf(t)?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("eachCSV",function(e,t){if("string"==typeof e&&(e=e.split(t.hash.delimiter||",")),e&&e.length){for(var r="",a=0;a<e.length;a++)r+=t.fn(e[a]);return r}return t.inverse(null)}),Handlebars.registerHelper("formatFloat",function(e,t){var r=t.hash.fixed||2;if(_.isFunction(e)&&t&&t.data&&t.data.root){var a=null;try{a=e.call(t.data.root)}catch(e){console.log("Handlebars date helper failed to call dt as function()")}e=a||e}return parseFloat(e).toFixed(r)}),Handlebars.registerHelper("formatPercent",function(e,t){var r=t.hash.fixed||2;return(100*e).toFixed(r)+"%"}),Handlebars.registerHelper("math",function(e,t,r,a){switch(e=parseFloat(e),r=parseFloat(r),t){case"+":return e+r;case"-":return e-r;case"*":return e*r;case"/":return e/r;case"%":return e%r;case"^":return Math.pow(e,r);case"percent":return e/r*100;case"percent.2":return(e/r*100).toFixed(2)}})}(Handlebars),CINC="undefined"==typeof CINC?{}:CINC,CINC.Core=void 0===CINC.Core?{}:CINC.Core,CINC.Core.Cookies=void 0===CINC.Core.Cookies?{}:CINC.Core.Cookies,function(e){$(document).ready(function(){$(".app-banner > .close").on("click",function(t){t.preventDefault(),e("cinc.send","event","mobile-banner","click","Banner dismissed"),CINC.Core.Cookies.Set("hideAppBanner",1,1),$(".app-banner").hide()}),$(".app-banner > a").on("click",function(t){e("cinc.send","event","mobile-banner","click","App page opened")})})}("undefined"==typeof ga?function(){}:ga),CINC="undefined"==typeof CINC?{}:CINC,CINC.Registration=function(e,t){var r=function(r){r=!1!==r,CINC.Core.WriteConversionScripts(),"function"==typeof t&&(r?t(window.location.href):t(),void 0!==e&&e("cinc.send","event","gtag-conversion","submit","gtag conversion reported"),"undefined"!=typeof mixpanel&&mixpanel.track("Gtag conversion reported"));var a="";CINC.User&&CINC.User.firstName&&(a=CINC.User.firstName),SetLoadAction("NotificationBanner",{title:"Registration Successful",message:""===a?"You're all ready to go!":"You're all ready to go, "+a+"!",type:"Success"}),r&&setTimeout(function(){window.location.reload()},500)},a=function(){var e=window.location.pathname.toLowerCase().split("/")[1];return!($.inArray(e,["homes"])>-1)};return{elements:{SignUpForm:$(".js-signupform-form"),SignUpHomeValForm:$(".js-signupform-home-val-form"),QuestionHomeValForm:$(".js-question-home-val-form"),PhoneForm:$(".js-signupform-required-phone")},callbacks:{registrationSuccess:function(t){e("cinc.send","event","registration-legacy","api-response","Successful Registration"),"undefined"!=typeof mixpanel&&mixpanel.track("User Registration Successful"),t.userInfo&&(CINC.User=t.userInfo,IsLoggedIn=!0),null===document.getElementById("conversion-tracking-scripts")&&$("body").append('<div id="conversion-tracking-scripts">'+CINC.Site.ConversionTrackingScripts+"</div>"),CINC.Core.CookiesVanilla.Set("registration-state","registered",5),CINC.Site.IsBrandedSite||"Home"===CINC.ControllerName&&"App"===CINC.ActionName||"1"===CINC.Core.CookiesVanilla.Get("fbprompt")||CINC.QS&&"1"===CINC.QS.fbprompt?r():(e("cinc.send","event","registration-legacy","pop-up","Reg 2"),PromptForSignup("","Houses"===CINC.CincProduct,"2"))},registrationError:function(e,t){CINC.Core.CookiesVanilla.Set("registration-state","registration-error",5),t.Close(),Notification.Banner.Error(e.description,"Registration Problem"),PromptForSignup(e.description,a())},registrationApiFailure:function(e,t){CINC.Core.CookiesVanilla.Set("registration-state","registration-error",5),t.Close(),Notification.Banner.Error(e.responseText,"Registration Error"),PromptForSignup("Registration Failed",a())}},closeSignInModals:function(e){Modals.SignInModal().CloseWithResponse(e)},finishRegistration:r,isValid:{phoneInputValue:function(t,r){if(1!==t.length)return!0;var a=$.trim(r||"").replace(/[^0-9]/g,"");return!(!a||a.length<10)||(Notification.Tooltip.Show("Please enter a valid phone number",$(t)),e("cinc.send","event","registration-legacy","invalid","Reg 1 Phone Invalid"),!1)}}}}("undefined"==typeof ga?function(){}:ga,"undefined"==typeof gtag_report_conversion?function(){console.log("Emulating gtag_report_conversion function.")}:gtag_report_conversion),"accepted"===CINC.Core.CookiesVanilla.Get("cookie_banner")&&RemoveCookieBanner();var acceptCookieButton=document.getElementById("accept-cookie-notification");function StoreAcceptedCookiePopUp(){CINC.Core.CookiesVanilla.Set("cookie_banner","accepted",90),RemoveCookieBanner()}function RemoveCookieBanner(){var e=document.getElementById("cookie-banner");e&&e.parentNode.removeChild(e)}acceptCookieButton&&acceptCookieButton.addEventListener("click",StoreAcceptedCookiePopUp),"closed"===CINC.Core.CookiesVanilla.Get("emergency_banner")&&RemoveEmergencyBanner();var closeEmergencyButton=document.getElementById("close-emergency-notification");function StoreClosedEmergencyBanner(){CINC.Core.CookiesVanilla.Set("emergency_banner","closed",7),RemoveEmergencyBanner()}function RemoveEmergencyBanner(){var e=document.getElementById("emergency-banner");e&&e.parentNode.removeChild(e)}function SetLoadAction(e,t){CINC.Core.CookiesVanilla.Set("CINC-LoadAction",e),CINC.Core.CookiesVanilla.Set("CINC-LoadActionPayload",JSON.stringify(t))}closeEmergencyButton&&closeEmergencyButton.addEventListener("click",StoreClosedEmergencyBanner),CINC="undefined"==typeof CINC?{}:CINC,CINC.Integrations={},CINC.Integrations.Facebook={},CINC.Integrations.Google={},function(e){$(document).ready(function(){if(t(),r(),$("#user-timezone").val((new Date).getTimezoneOffset()/60),CINC.User&&CINC.User.IsLoggedIn||!CINC.QS.showSignIn||"1"!==CINC.QS.showSignIn||PromptForLogin(),CINC.User&&5==CINC.User.securityLevel&&"False"==CINC.User.validCellPhone&&CINC.User.count_Login%3==0&&-1==document.cookie.indexOf("PromptForValidCellPhone=true")&&(document.cookie="PromptForValidCellPhone=true",PromptForValidCellPhone()),window.location.search.indexOf("obliterate_all_communication")>0||window.location.search.indexOf("unsubscribe_email")>0||window.location.search.indexOf("unsubscribe_text")>0||window.location.search.indexOf("On_PropertyAlerts")>0){var e=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.pushState({path:e},"",e),Notification.Banner.Success("Your communication settings have been updated.","Updated Communication Settings!")}});var t=function(){$(".js-accountsettingseditor").hide()},r=function(){$(".js-update-cellphone").on("click",function(e){e.preventDefault();var t=$(".js-new-cellphone").val().replace("-","");if(10!==t.length||/[a-zA-Z]/i.test(t))Notification.Banner.Error("Phone number must be 10 digits and contain no characters.");else{var r={CellPhone:t};CINC.Api.Account("update").post(r).success(function(e){Notification.Banner.Success("Your cell phone number has been updated successfully.","Updated Cell Phone!"),Modals.LeadValidCellModal().Close()}).fail(function(e){Modals.LeadValidCellModal().Close()})}}),$(".js-cancel-cellphone").on("click",function(e){e.preventDefault(),Modals.LeadValidCellModal().Close()}),$(".js-searchteam-toggle").on("click",function(){$(".js-searchteam").slideToggle()}),$(".js-promptforlogin").on("click",function(e){e.preventDefault(),PromptForLogin()}),$(".js-promptforsignup").on("click",function(e){e.preventDefault(),PromptForSignup()}),$(".js-apply-now-loan").on("click",function(t){e("cinc.send","event","lender","click","applyNow")}),$("form.js-loginform").on("submit",function(e){e.preventDefault();var t=$(this).serializeObject();if(t.Email&&IsEmail(t.Email))CINC.Registration.closeSignInModals("Sign In"),t.Timezone=CINC.currentTimezone(),t.TimezoneName=Intl.DateTimeFormat().resolvedOptions().timeZone,CINC.Api.Account("login").post(t).success(function(e){e.isSuccess?e.userInfo&&e.userInfo.securityLevel>=10&&e.userInfo.securityLevel<25&&_.isString(e.userInfo.dashboardUrl)?window.location=e.userInfo.dashboardUrl:window.location.reload():(PromptForLogin("Invalid Login",!0),Notification.Banner.Error("Click here if you need help getting back into your account.","Invalid Login",{onclick:function(){window.location="/account/forgotpassword"}}))}).fail(function(e){Notification.Banner.Error(e.responseText,"Login Error"),PromptForLogin("Login Failed",!0)});else{var r=$(this).find("[name=Email]");Notification.Tooltip.Show("Please enter a valid email",r)}}),$(".js-inquiry-form").find("input, select, textarea").each(function(){var e=CINC.QS[$(this).attr("name").toLowerCase()];e&&$(this).val(e)}),$(".js-inquiry-form").on("submit",function(t){t.preventDefault();var r=$(this),a=r.serializeObject(),i=r.find(".js-searchtermsagree");if(1!==i.length||i.prop("checked")){var n=r.find('input[type="submit"]');if(n.hasClass("loading"))return!1;if(n.addClass("loading"),a=function(e,t){if(t.FullName=$.trim(t.FullName||""),!t.FullName||0===t.FullName.length)return Notification.Tooltip.Show("Please enter your name",e.find('[name="FullName"]')),!1;var r=t.FullName.split(" ");if(r.length<1||1===r.length&&!CINC.Site.Registration_AllowPartialName)return Notification.Tooltip.Show("Please enter your full name",e.find('[name="FullName"]')),!1;for(var a=0;a<r.length;a++)if(0!=r[a].length&&(r[a]=r[a].replace(/[^a-zA-Z]+/g,""),0==r[a].length))return Notification.Tooltip.Show("Please enter a valid name",e.find('[name="FullName"]')),!1;if(t.Email=$.trim(t.Email||""),!t.Email||!IsEmail(t.Email))return Notification.Tooltip.Show("Please enter a valid email",e.find('[name="Email"]')),!1;if(t.Phone=$.trim(t.Phone||""),!t.Phone||t.Phone.length<10)return Notification.Tooltip.Show("Please enter a valid phone number",e.find('[name="Phone"]')),!1;return t}(r,a)){var s=r.find('[name="Street"]');if(s.length>0&&!s.val())Notification.Tooltip.Show("Please enter a street address",s);else{var o=r.find('[name="City"]');if(o.length>0&&!o.val())Notification.Tooltip.Show("Please enter a city",o);else{var l=r.find('[name="Zip"]');if(!(l.length>0)||l.val()){a.Message=$.trim(a.Message||"");var h="\r\n";(a.BuyerLocation||a.BuyerMinPrice||a.BuyerMaxPrice||a.BuyerBeds)&&(a.Message+="\r\n\r\nBuyer Info\r\nLocation: "+(a.BuyerLocation||"n/a")+h+"Price Range: "+(a.BuyerMinPrice||"$0")+" - "+(a.BuyerMaxPrice||"n/a")+h+"Beds: "+(a.BuyerBeds||"Any"),a.BuyerPropertyTypes&&(a.Message+="\r\nProperty Types: "+a.BuyerPropertyTypes.replace(/,/g,", "))),(a.PropertyAddress||a.PropertyStyle||a.PropertySqFt||a.PropertyAge||a.PropertyBeds|a.PropertyBaths||a.PropertyFeatures||a.SellerReason||a.SellerTimeframe)&&(a.Message+="\r\n\r\nSeller Info\r\nCurrent Address: "+(a.PropertyAddress||"n/a")+h+"Property Style: "+(a.PropertyStyle||"n/a")+h+"Approx SqFt: "+(a.PropertySqFt||"n/a")+h+"Property Age: "+(a.PropertyAge||"n/a")+h+"Beds: "+(a.PropertyBeds||"n/a")+h+"Baths: "+(a.PropertyBaths||"n/a")+h+"Special Features: "+(a.PropertyFeatures||"n/a")+h+"Reason: "+(a.SellerReason||"n/a")+h+"Timeframe: "+(a.SellerTimeframe||"n/a")),(a.ReferralFullName||a.ReferralEmail||a.ReferralPhone)&&(a.Message+="\r\n\r\nReferral Info\r\nReferral Name: "+(a.ReferralFullName||"n/a")+h+"Referral Email: "+(a.ReferralEmail||"n/a")+h+"Referral Phone: "+(a.ReferralPhone||"n/a")),("Recruit"==a.LeadType||a.ResumeUrl)&&(a.Message+="\r\n\r\nResume: "+(a.ResumeUrl||"n/a")),a.Street&&(a.Message+="\r\n\r\nStreet: "+(a.Street||"n/a")+h+"City: "+(a.City||"n/a")+h+"State: "+(a.State||"n/a")+h+"Zip: "+(a.Zip||"n/a")),a.Message=$.trim(a.Message);var p=Modals.Loading("").Open();return CINC.Api.Account("inquiry").post(a).success(function(t){$(".js-inquiry-formwrap").hide(),$(".js-inquiry-success").show(),IsLoggedIn||($("body").append(CINC.Site.ConversionTrackingScripts),null!=e&&e("cinc.send","event","registration-inquiry","api-response","Successful Registration"),"undefined"!=typeof mixpanel&&mixpanel.track("User Registration Successful")),0!=$(".js-inquiry-noreload").length||IsLoggedIn?p.Close():"lender"==CINC.CincProduct.toLowerCase()?p.Close():window.location.reload(!0)}).fail(function(e){(p.Close(),e.responseJSON&&e.responseJSON.message&&"Email already in use"==e.responseJSON.message)?PromptForLogin({email:$(".js-inquiry-form").find("[name=Email]").val()}):Notification.Banner.Error(e.responseText,"Error submitting form.");n.removeClass("loading")}),!1}Notification.Tooltip.Show("Please enter a street address",l)}}}}else Notification.Tooltip.Show("Please accept the terms and conditions",r.find(".js-searchtermsagree"))});var r=null;$(".js-accountsettings-uploadphotoform").fineUploader({request:{endpoint:"/cincapi/upload/upload.aspx"}}).on("submit",function(e,t,a){r=Modals.Loading("Uploading photo").Open(),$(this).fineUploader("setParams",{object:"uploads",action:"uploadfiles"})}).on("complete",function(e,t,i,n){if(n.success){var s="/uploads/"+n.data.files[0].FileName;a(s)}else Notification.Banner.Error(n.error||"","Failed to update photo");r&&r.Close()}),$(".js-inquiry-uploadresumeform").fineUploader({request:{endpoint:"/cincapi/upload/upload.aspx"}}).on("submit",function(e,t,a){r=Modals.Loading("Uploading Resume").Open(),$(this).fineUploader("setParams",{object:"uploads",action:"uploadfiles"})}).on("complete",function(e,t,a,i){if(i.success){var n=i.data.files[0].FileURL;$(".js-inquiry-resumeurl").val(n),$(".js-inquiry-resumeuploaded").show()}else Notification.Banner.Error(i.error||"","Failed to upload resume");r&&r.Close()}),$(".js-accountsettings-uploadphoto, .js-inquiry-uploadresume").on("click",function(e){e.preventDefault(),$(".qq-uploader").find("[name=file]").trigger("click")}),$(".js-accountsettingscancel").on("click",function(e){e.preventDefault(),$(".js-accountsettingsform")[0].reset(),$(".js-accountsettingseditor").hide()}),$(".js-accountsettingsedit").on("click",function(e){e.preventDefault();var r=$(this).closest("tr").next("tr");r.is(":visible")||(t(),r.fadeIn("slow"))}),$(".js-accountsettingsform").on("submit",function(e){e.preventDefault(),CINC.Api.Account("update").post($(this).serializeObject()).success(function(e){CINC.User=e,window.location.reload()}).displayFailures("Failed to Save")}),$(".js-accountsettings-saveavatar").on("click",function(e){e.preventDefault();var t=$("input[name=avatar]:checked",".pick-avatar").attr("id");a(t="/avatars/"+t+".png")}),$(".js-accountsettings-unsubscribeemail").on("click",function(e){e.preventDefault();var t=$(this).data("value"),r=function(e){CINC.Api.Account("update").post({UnsubscribeEmail:e}).success(function(){window.location.reload()}).displayFailures("Failed to Save")};t?Notification.Prompt.Confirm("Are you sure you would like to be unsubscribed from email?","Unsubscribe",{submit:function(e,a){a&&r(t)}}):r(t)}),$(".js-accountsettings-unsubscribetext").on("click",function(e){e.preventDefault();var t=$(this).data("value"),r=function(e){CINC.Api.Account("update").post({UnsubscribeText:e}).success(function(){window.location.reload()}).displayFailures("Failed to Save")};t?Notification.Prompt.Confirm("Are you sure you would like to be unsubscribed from text?","Unsubscribe",{submit:function(e,a){a&&r(t)}}):r(t)}),$(".js-accountsettings-onpropertyalerts").on("click",function(e){e.preventDefault();var t=$(this).data("value"),r=function(e){CINC.Api.Account("update").post({On_PropertyAlerts:!e}).success(function(){window.location.reload()}).displayFailures("Failed to Save")};t?Notification.Prompt.Confirm("Are you sure you would like to be unsubscribed from property alerts?","Unsubscribe",{submit:function(e,a){a&&r(t)}}):r(t)}),$(".js-accountsettings-onpropertyupdates").on("click",function(e){e.preventDefault();var t=$(this).data("value"),r=function(e){CINC.Api.Account("update").post({On_PropertyUpdates:!e}).success(function(){window.location.reload()}).displayFailures("Failed to Save")};t?Notification.Prompt.Confirm("Are you sure you would like to be unsubscribed from property updates?","Unsubscribe",{submit:function(e,a){a&&r(t)}}):r(t)}),$(".js-facebooksignin").on("click",function(e){e.preventDefault(),IsLoggedIn||(CINC.Registration.closeSignInModals("Log In With Facebook"),FB.login(function(e){if("connected"===e.status){var t=Modals.Loading("Logging In"),r=setTimeout(function(){clearTimeout(r),t.Open()},1e3);CINC.Api.Account("facebooksignin").post(e.authResponse).success(function(e){if(e.isSuccess)e.isNewUser&&SetLoadAction("NotificationBanner",{message:"Welcome to "+CINC.Site.DomainName+", "+CINC.User.firstName+"!",type:"Info"}),window.location.reload();else{var t=e.description||"";Notification.Banner.Error(t,"Login failed")}}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to log in")}).always(function(){t.Close()})}},{scope:"public_profile,email"}))}),window.onmessage=function(t){"google-signin-fail"===t.data?Notification.Banner.Error("Sorry! We are unable to retrieve your Google profile information. Please register by entering your information in the form.","Unable to Get Google Profile"):"facebook-signin-fail"===t.data?Notification.Banner.Error("Sorry! We are unable to retrieve your Facebook profile information. Please register by entering your information in the form.","Unable to Get Facebook Profile"):t.data&&t.data.authResponse&&t.data.status?function(t){if(e("cinc.send","event","registration-legacy","click","facebook-signup"),CINC.Registration.closeSignInModals("Log In With Facebook"),CINC.Integrations.Facebook.Auth=t.authResponse,CINC.Core.CookiesVanilla.Set("registration-state","unregistered",5),"1"===CINC.Core.CookiesVanilla.Get("fbprompt")||CINC.QS&&"1"===CINC.QS.fbprompt)e("cinc.send","event","registration-legacy","submit","facebook-phone-webhook"),$(".js-signupform-required-phone").find('[name="Phone"]').val("123456789012345"),$(".js-signupform-required-phone").trigger("submit");else if(CINC.Site.Registration_SocialWithoutPhone){var r=CINC.Api.Account("facebooksignin"),a=CINC.Integrations.Facebook.Auth,i=Modals.Loading("Signing up now! Give us a second to get you all set up.").Open();r.post(a).success(function(t){t.isSuccess?(e("cinc.send","event","registration-legacy","api-response","Successful Partial Registration with Facebook"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Succeeded with Facebook"),e("cinc.send","event","registration-legacy","pop-up","facebook-phone-prompt"),PromptForSignup("",!1,"1-phone")):(e("cinc.send","event","registration-legacy","api-response","Failed Partial Registration with Facebook"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Failed with Facebook"),CINC.Registration.callbacks.registrationError(t,i))}).fail(function(t){e("cinc.send","event","registration-legacy","api-response","Failed Partial Registration with Facebook"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Failed with Facebook"),CINC.Registration.callbacks.registrationApiFailure(t,i)})}else e("cinc.send","event","registration-legacy","pop-up","facebook-phone-prompt"),PromptForSignup("",!1,"1-phone")}(t.data):t.data&&t.data.familyName&&t.data.givenName&&t.data.email&&function(t){if(e("cinc.send","event","registration-legacy","click","google-signup"),CINC.Registration.closeSignInModals("Create Account"),CINC.Integrations.Google.User=t,CINC.Core.CookiesVanilla.Set("registration-state","unregistered",5),null==t.phoneNumber||""===t.phoneNumber)if(CINC.Site.Registration_SocialWithoutPhone){var r=CINC.Api.AccountSocialSign("google"),a=Modals.Loading("Signing up now! Give us a second to get you all set up.").Open();r.post(t).success(function(t){t.isSuccess?(e("cinc.send","event","registration-legacy","api-response","Successful Partial Registration with Google"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Successful with Google"),e("cinc.send","event","registration-legacy","pop-up","google-phone-prompt"),PromptForSignup("",!1,"1-phone")):(e("cinc.send","event","registration-legacy","api-response","Failed Partial Registration with Google"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Failed with Google"),CINC.Registration.callbacks.registrationError(t,a))}).fail(function(t){e("cinc.send","event","registration-legacy","api-response","Failed Partial Registration with Google"),"undefined"!=typeof mixpanel&&mixpanel.track("User Partial Registration Failed with Google"),CINC.Registration.callbacks.registrationApiFailure(t,a)})}else e("cinc.send","event","registration-legacy","pop-up","google-phone-prompt"),PromptForSignup("",!1,"1-phone");else{var i=Modals.Loading("Signing up now! Give us a second to get you all set up.").Open();CINC.Api.AccountSocialSign("google").post(t).success(function(e){e.isSuccess?CINC.Registration.callbacks.registrationSuccess(e):CINC.Registration.callbacks.registrationError(e,i)}).fail(function(e){CINC.Registration.callbacks.registrationApiFailure(e,i)})}}(t.data)}},a=function(e){return CINC.Api.Account("update").post({PhotoLocation:e}).success(function(e){window.location.reload()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to Save Photo")})}}("undefined"==typeof ga||null===ga?function(){}:ga),$(document).ready(function(){$(".js-signupform-form").on("submit",function(e){e.preventDefault();var t=$(this),r=t.serializeObject();_.isObject(CINC.Property)&&(r.price=CINC.Property.price,r.city=CINC.Property.city,r.state=CINC.Property.state,r.zip=CINC.Property.zip);var a=t.find(".js-searchtermsagree");if(1!==a.length||a.prop("checked")){if(r.FirstName=$.trim(r.FirstName||""),!r.FirstName||0===r.FirstName.length)return Notification.Tooltip.Show("Please enter your name",t.find('[name="FirstName"]')),void ga("cinc.send","event","registration-legacy","invalid","Reg 1 Name Invalid");var i=r.FirstName.split(" ");if(i.length<1||1===i.length&&!CINC.Site.Registration_AllowPartialName)return Notification.Tooltip.Show("Please enter your full name",t.find('[name="FirstName"]')),void ga("cinc.send","event","registration-legacy","invalid","Reg 1 Name Invalid");for(var n=0;n<i.length;n++)if(0!==i[n].length&&(i[n]=i[n].replace(/[^a-zA-Z]+/g,""),0===i[n].length))return Notification.Tooltip.Show("Please enter a valid name",t.find('[name="FirstName"]')),void ga("cinc.send","event","registration-legacy","invalid","Reg 1 Name Invalid");if(r.Email=$.trim(r.Email||""),r.Email&&IsEmail(r.Email)){var s=t.find('[name="Phone"]');if(CINC.Registration.isValid.phoneInputValue(s,r.Phone)){var o=t.find('[name="Password"]');if(1===o.length){if(!r.Password||0===r.Password.length)return void Notification.Tooltip.Show("Please enter a password",o)}else 1===s.length&&(r.Password=r.Phone);r.Timezone=CINC.currentTimezone(),r.TimezoneName=Intl.DateTimeFormat().resolvedOptions().timeZone,CINC.Registration.closeSignInModals("Create Account");var l=Modals.Loading("Signing up now! Give us a second to get you all set up.").Open();return CINC.Core.CookiesVanilla.Set("registration-state","unregistered",5),CINC.Api.Account("register").post(r).success(function(e){e.isSuccess?CINC.Registration.callbacks.registrationSuccess(e):CINC.Registration.callbacks.registrationError(e,l)}).fail(function(e){CINC.Registration.callbacks.registrationApiFailure(e,l)}).always(function(){ga("cinc.send","event","registration-legacy","submit","Reg 1")}),!1}}else Notification.Tooltip.Show("Please enter a valid email",t.find('[name="Email"]'))}else Notification.Tooltip.Show("Please accept the terms and conditions",t.find(".js-searchtermsagree"))}),$(".js-signupform-required-phone").on("submit",function(e){e.preventDefault();var t=$(this),r=t.serializeObject(),a=t.find('[name="Phone"]');if(CINC.Registration.isValid.phoneInputValue(a,r.Phone)){var i=CINC.Integrations.Facebook.Auth?CINC.Api.Account("facebooksignin"):CINC.Api.AccountSocialSign("google"),n=CINC.Integrations.Facebook.Auth||CINC.Integrations.Google.User;n.phoneNumber=r.Phone,CINC.Registration.closeSignInModals("Phone Number Registration");var s=Modals.Loading("Signing up now! Give us a second to get you all set up.").Open();i.post(n).success(function(e){e.isSuccess?(CINC.Registration.callbacks.registrationSuccess(e),ga("cinc.send","event","registration-legacy","submit","Reg 1 Phone")):CINC.Registration.callbacks.registrationError(e,s)}).fail(function(e){CINC.Registration.callbacks.registrationApiFailure(e,s)})}})}),$(document).ready(function(){$(".js-signupform-extra").on("submit",function(e){e.preventDefault();for(var t=$(this),r=t.serializeObject(),a=["Prequalified","FirstTimeBuyer","TimeframeToBuy","HouseToSell"],i=0;i<a.length;i++){var n=a[i];if(!r.hasOwnProperty(n))return void Notification.Tooltip.Show("Please fill out the fields so we can better assist in your home search",t.find('[name="'+n+'"]').first())}"true"===r.HouseToSell&&(CINC.User.houseToSell=!0),CINC.Registration.closeSignInModals("Create Account");Modals.Loading("").Open();return CINC.Api.Account("register/extra").post(r).success(function(e){CINC.Site.On_DevilStepThree?PromptForSignup("",!1,"3"):CINC.Registration.finishRegistration(),ga("cinc.send","event","registration-legacy","submit","Reg 2")}).fail(function(e){Notification.Banner.Error(e.responseText,"Submission Error"),PromptForSignup("Submission Failed",!1,"2"),ga("cinc.send","event","registration-legacy","invalid","Reg 2 Failure")}),!1})}),$(document).ready(function(){$(".js-signupform-disc").on("submit",function(e){e.preventDefault();var t=$(this),r=t.find('[name="DiscType"]:checked');if(0!==r.length){var a={DiscType:r.val(),DiscAnswer:r.next("label").text()};CINC.Registration.closeSignInModals("Create Account");Modals.Loading("").Open();return CINC.Api.Account("register/disc").post(a).success(function(e){CINC.User.houseToSell?PromptForSignup("Submission Failed",!1,"3a"):CINC.Registration.finishRegistration(),ga("cinc.send","event","registration-legacy","submit","Reg 3")}).fail(function(e){Notification.Banner.Error(e.responseText,"Submission Error"),PromptForSignup("Submission Failed",!1,"3"),ga("cinc.send","event","registration-legacy","invalid","Reg 3 Failure")}),!1}Notification.Tooltip.Show("Please fill out the fields so we can better assist in your home search",t.find('[name="DiscType"]').first())}),$(".js-signupform-seller").on("submit",function(e){e.preventDefault();for(var t=$(this),r=t.serializeObject(),a=["Address","Beds","Baths"],i=0;i<a.length;i++){var n=a[i];if(!r.hasOwnProperty(n)||0===$.trim(r[n]).length)return void Notification.Tooltip.Show("Please fill out the fields so we can better assist in your home search",t.find('[name="'+n+'"]').first())}CINC.Registration.closeSignInModals("Create Account");Modals.Loading("").Open();return CINC.Api.Account("register/seller").post(r).success(function(e){CINC.Registration.finishRegistration(),ga("cinc.send","event","registration-legacy","submit","Reg 4 Submit")}).fail(function(e){Notification.Banner.Error(e.responseText,"Submission Error"),PromptForSignup("Submission Failed",!1,"3a")}),!1}),$(".js-signupform-seller-close").on("click",function(){CINC.Registration.finishRegistration(),ga("cinc.send","event","registration-legacy","submit","Reg 4 No Thanks")})}),CINC="undefined"==typeof CINC?{}:CINC,function(){$(".js-agentbio-readmore").on("click",function(){var e=$(this).data("mdid"),t=$(".js-agentbio-readmore-"+e);"none"===t.css("max-height")?(t.css("max-height","100px"),$(this).html("READ MORE"),t.removeClass("no-background")):(t.css("max-height","none"),$(this).html("LESS"),t.addClass("no-background"))});CINC.Core.FinishMapInit=function(){CINC.SellerSuite&&CINC.SellerSuite.FinishMapInit?CINC.SellerSuite.FinishMapInit():(t(),e(),CINC.Search&&CINC.Search.FinishMapInit&&CINC.Search.FinishMapInit(),CINC.Details&&CINC.Details.FinishMapInit&&CINC.Details.FinishMapInit())};var e=function(){$(".js-easymap").each(function(){var e=$(this),t=!("false"===e.attr("data-easymap-controls")),r=parseFloat(e.attr("data-easymap-lat")),a=parseFloat(e.attr("data-easymap-lng")),i=$.trim(e.attr("data-easymap-name")),n=parseInt(e.attr("data-easymap-zoom"));if(0!==r&&0!==a){var s={center:new google.maps.LatLng(r,a),mapTypeControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT},mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:n>0?n:11,draggable:!0,scrollwheel:!1,disableDefaultUI:!t},o=new google.maps.Map(this,s);if(i.length>0)new RichMarker({content:'<div class="map-marker map-marker-dark map-marker-noninteractive"><span class="map-marker-title">'+i.htmlEncode()+"</span></div>",draggable:!1,map:o,position:new google.maps.LatLng(r,a),shadow:""})}else e.remove()})},t=function(){!function(){var e=!0,t=!1;function r(r){var a=r||{};this.d=this.c=t,void 0===r.visible&&(r.visible=e),void 0===r.shadow&&(r.shadow="7px -3px 5px rgba(88,88,88,0.7)"),null==r.anchor&&(r.anchor=l.BOTTOM),this.setValues(a)}function a(e,t){if(e.c){var r="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==t&&(r="-moz-grabbing"),"dragready"==t&&(r="-moz-grab")):"dragging"!=t&&"dragready"!=t||(r="move"),"draggable"==t&&(r="pointer"),e.a.style.cursor!=r&&(e.a.style.cursor=r)}}function i(e){e.getDraggable()&&e.d&&(e.d=t,e.getMap().set("draggable",e.m),e.h=e.i=e.m=null,e.a.style.MozUserSelect="",e.a.style.KhtmlUserSelect="",e.a.style.WebkitUserSelect="",e.a.unselectable="off",e.a.onselectstart=function(){},function(e){if(e.e){for(var t,r=0;t=e.e[r];r++)google.maps.event.removeListener(t);e.e.length=0}}(e),a(e,"draggable"),google.maps.event.trigger(e,"dragend"),e.draw())}function n(e,t){if(e.getDraggable()&&e.d){var r=e.h-t.clientX,n=e.i-t.clientY;e.h=t.clientX,e.i=t.clientY,r=parseInt(e.a.style.left,10)-r,n=parseInt(e.a.style.top,10)-n,e.a.style.left=r+"px",e.a.style.top=n+"px";var s=o(e);e.setPosition(e.getProjection().fromDivPixelToLatLng(new google.maps.Point(r-s.width,n-s.height))),a(e,"dragging"),google.maps.event.trigger(e,"drag")}else i(e)}function s(e){e.f&&(google.maps.event.removeListener(e.f),delete e.f),a(e,"")}function o(e){var t=e.l();if("object"==typeof t)return t;var r=new google.maps.Size(0,0);if(!e.b)return r;var a=e.b.offsetWidth;switch(e=e.b.offsetHeight,t){case l.TOP:r.width=-a/2;break;case l.TOP_RIGHT:r.width=-a;break;case l.LEFT:r.height=-e/2;break;case l.MIDDLE:r.width=-a/2,r.height=-e/2;break;case l.RIGHT:r.width=-a,r.height=-e/2;break;case l.BOTTOM_LEFT:r.height=-e;break;case l.BOTTOM:r.width=-a/2,r.height=-e;break;case l.BOTTOM_RIGHT:r.width=-a,r.height=-e}return r}r.prototype=new google.maps.OverlayView,window.RichMarker=r,r.prototype.getVisible=function(){return this.get("visible")},r.prototype.getVisible=r.prototype.getVisible,r.prototype.setVisible=function(e){this.set("visible",e)},r.prototype.setVisible=r.prototype.setVisible,r.prototype.s=function(){this.c&&(this.a.style.display=this.getVisible()?"":"none",this.draw())},r.prototype.visible_changed=r.prototype.s,r.prototype.setFlat=function(e){this.set("flat",!!e)},r.prototype.setFlat=r.prototype.setFlat,r.prototype.getFlat=function(){return this.get("flat")},r.prototype.getFlat=r.prototype.getFlat,r.prototype.p=function(){return this.get("width")},r.prototype.getWidth=r.prototype.p,r.prototype.o=function(){return this.get("height")},r.prototype.getHeight=r.prototype.o,r.prototype.setShadow=function(e){this.set("shadow",e),this.g()},r.prototype.setShadow=r.prototype.setShadow,r.prototype.getShadow=function(){return this.get("shadow")},r.prototype.getShadow=r.prototype.getShadow,r.prototype.g=function(){this.c&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},r.prototype.flat_changed=r.prototype.g,r.prototype.setZIndex=function(e){this.set("zIndex",e)},r.prototype.setZIndex=r.prototype.setZIndex,r.prototype.getZIndex=function(){return this.get("zIndex")},r.prototype.getZIndex=r.prototype.getZIndex,r.prototype.t=function(){this.getZIndex()&&this.c&&(this.a.style.zIndex=this.getZIndex())},r.prototype.zIndex_changed=r.prototype.t,r.prototype.getDraggable=function(){return this.get("draggable")},r.prototype.getDraggable=r.prototype.getDraggable,r.prototype.setDraggable=function(e){this.set("draggable",!!e)},r.prototype.setDraggable=r.prototype.setDraggable,r.prototype.k=function(){var r,o;this.c&&(this.getDraggable()?(r=this,(o=this.a)&&(r.f=google.maps.event.addDomListener(o,"mousedown",function(s){!function(r,s){if(r.getDraggable()&&!r.d){r.d=e;var o=r.getMap();r.m=o.get("draggable"),o.set("draggable",t),r.h=s.clientX,r.i=s.clientY,a(r,"dragready"),r.a.style.MozUserSelect="none",r.a.style.KhtmlUserSelect="none",r.a.style.WebkitUserSelect="none",r.a.unselectable="on",r.a.onselectstart=function(){return t},function(t){t.a.setCapture?(t.a.setCapture(e),t.e=[google.maps.event.addDomListener(t.a,"mousemove",function(e){n(t,e)},e),google.maps.event.addDomListener(t.a,"mouseup",function(){i(t),t.a.releaseCapture()},e)]):t.e=[google.maps.event.addDomListener(window,"mousemove",function(e){n(t,e)},e),google.maps.event.addDomListener(window,"mouseup",function(){i(t)},e)]}(r),google.maps.event.trigger(r,"dragstart")}}(r,s)}),a(r,"draggable"))):s(this))},r.prototype.draggable_changed=r.prototype.k,r.prototype.getPosition=function(){return this.get("position")},r.prototype.getPosition=r.prototype.getPosition,r.prototype.setPosition=function(e){this.set("position",e)},r.prototype.setPosition=r.prototype.setPosition,r.prototype.q=function(){this.draw()},r.prototype.position_changed=r.prototype.q,r.prototype.l=function(){return this.get("anchor")},r.prototype.getAnchor=r.prototype.l,r.prototype.r=function(e){this.set("anchor",e)},r.prototype.setAnchor=r.prototype.r,r.prototype.n=function(){this.draw()},r.prototype.anchor_changed=r.prototype.n,r.prototype.setContent=function(e){this.set("content",e)},r.prototype.setContent=r.prototype.setContent,r.prototype.getContent=function(){return this.get("content")},r.prototype.getContent=r.prototype.getContent,r.prototype.j=function(){if(this.b){!function(e,t){if(t)for(var r;r=t.firstChild;)t.removeChild(r)}(0,this.b);var e=this.getContent();if(e){"string"==typeof e&&(e=function(e,t){var r=document.createElement("DIV");if(r.innerHTML=t,1==r.childNodes.length)return r.removeChild(r.firstChild);for(var a=document.createDocumentFragment();r.firstChild;)a.appendChild(r.firstChild);return a}(0,e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"))),this.b.appendChild(e);var r=this;e=this.b.getElementsByTagName("IMG");for(var a,i=0;a=e[i];i++)google.maps.event.addDomListener(a,"mousedown",function(e){r.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=t)}),google.maps.event.addDomListener(a,"load",function(){r.draw()});google.maps.event.trigger(this,"domready")}this.c&&this.draw()}},r.prototype.content_changed=r.prototype.j,r.prototype.onAdd=function(){if(this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute"),this.getZIndex()&&(this.a.style.zIndex=this.getZIndex()),this.a.style.display=this.getVisible()?"":"none",!this.b){this.b=document.createElement("DIV"),this.a.appendChild(this.b);var t=this;google.maps.event.addDomListener(this.b,"click",function(){google.maps.event.trigger(t,"click")}),google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(t,"mouseover")}),google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(t,"mouseout")})}this.c=e,this.j(),this.g(),this.k();var r=this.getPanes();r&&r.overlayImage.appendChild(this.a),google.maps.event.trigger(this,"ready")},r.prototype.onAdd=r.prototype.onAdd,r.prototype.draw=function(){if(this.c&&!this.d){var e=this.getProjection();if(e){var t=this.get("position");e=e.fromLatLngToDivPixel(t),t=o(this),this.a.style.top=e.y+t.height+"px",this.a.style.left=e.x+t.width+"px",e=this.b.offsetHeight,(t=this.b.offsetWidth)!=this.get("width")&&this.set("width",t),e!=this.get("height")&&this.set("height",e)}}},r.prototype.draw=r.prototype.draw,r.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a),s(this)},r.prototype.onRemove=r.prototype.onRemove;var l={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=l}(),google.maps.Polyline.prototype.simplifyLine=function(e){var t=null;if(this.getPath()&&this.getPath().getLength()){var r=this.getPath().getArray(),a=function(e,t){this.p1=e,this.p2=t,this.distanceToPoint=function(e){var t=(this.p2.lat()-this.p1.lat())/(this.p2.lng()-this.p1.lng()),r=this.p1.lat()-t*this.p1.lng(),a=[];return a.push(Math.abs(e.lat()-t*e.lng()-r)/Math.sqrt(Math.pow(t,2)+1)),a.push(Math.sqrt(Math.pow(e.lng()-this.p1.lng(),2)+Math.pow(e.lat()-this.p1.lat(),2))),a.push(Math.sqrt(Math.pow(e.lng()-this.p2.lng(),2)+Math.pow(e.lat()-this.p2.lat(),2))),a.sort(function(e,t){return e-t})[0]}},i=function(e,t){if(e.length<=2)return[e[0]];for(var r,n=[],s=new a(e[0],e[e.length-1]),o=0,l=0,h=1;h<=e.length-2;h++){var p=s.distanceToPoint(e[h]);p>o&&(o=p,l=h)}return o>=t?(r=e[l],s.distanceToPoint(r,!0),n=(n=n.concat(i(e.slice(0,l+1),t))).concat(i(e.slice(l,e.length),t))):(r=e[l],s.distanceToPoint(r,!0),n=[e[0]]),n};(t=i(r,e)).push(r[r.length-1])}return t},delete CINC.Search.InitRichMarker},r=(CINC.Core.ShowPrompt=function(e){if(e=void 0!==e&&e,!(CINC.User&&CINC.User.securityLevel&&CINC.User.securityLevel>0)){if(CINC.QS&&"1"===CINC.QS.showprompt&&(e=!0),"1"==CINC.Core.CookiesVanilla.Get("fbprompt")||CINC.QS&&"1"===CINC.QS.fbprompt){e=!0,CINC.Core.CookiesVanilla.Set("fbprompt","1",1);try{var t=window.location.protocol+"//"+window.location.host+window.location.pathname;if(window.location.search){var r="?"+$.grep(window.location.search.substring(1).split("&"),function(e){return"fbprompt=1"!=e}).join("&");"?"!=r&&(t+=r)}History.pushState({path:t},"",t)}catch(e){}}if(CINC.QS&&CINC.QS.mobilehideviews)(a=parseInt(CINC.QS.mobilehideviews))>0&&(CINC.Site.PromptViews=a,CINC.Core.CookiesVanilla.Set("maxviews",a,1));else if(""!==CINC.Core.CookiesVanilla.Get("maxviews")){var a;(a=parseInt(CINC.Core.CookiesVanilla.Get("maxviews")))>0&&(CINC.Site.PromptViews=a)}var i=(CINC.ControllerName||"").toLowerCase(),n=parseInt(CINC.Core.CookiesVanilla.Get("promptviews"))||0;if(!e){if(0===CINC.Site.PromptLevel||"sellersuite"===i)return;switch(CINC.Site.PromptPages){case 0:if("account"===i)return;break;case 1:if("details"!==i)return;break;case 2:if("search"!==i)return;break;case 3:if("details"!==i&&"search"!==i)return}if(CINC.Core.CookiesVanilla.Set("promptviews",++n,7),n<=CINC.Site.PromptViews)return}var s=!(e||CINC.Site.PromptLevel>1);CINC.Core.PromptForSignup("",s)}},null),a=function(e){e.preventDefault();var t=$(this).prop("checked");return $(".js-acceptterms-checkbox").prop("checked",t),CINC.Core.CookiesVanilla.Get("acceptterms",t?"1":"0"),e.stopPropagation(),!1},i=(CINC.Core.BindAcceptTerms=function(){$(".js-acceptterms-checkbox").off("change",a).on("change",a),"1"===CINC.Core.CookiesVanilla.Get("acceptterms")&&$(".js-acceptterms-checkbox").prop("checked",!0)},CINC.Core.InitAcceptTerms=function(){CINC.Site.SearchRequiresAccept&&($(".js-acceptterms-accept").on("click",function(){$.cookie("acceptterms","1"),$(".js-acceptterms-checkbox").prop("checked",!0),$("#acceptterms-modal").prop("checked",!1),null!==r&&"function"==typeof r&&(r(),r=null)}),"search"===(CINC.ControllerName||"").toLowerCase()&&"PDQ"!==(CINC.ActionName||"")&&i(!1))},CINC.Core.InitOptIn=function(){CINC.User&&CINC.User.user_IsImport&&$(".js-importoptin-accept").on("click",function(){$("#optinimport-modal").prop("checked",!1);var e={MDID:CINC.User.mdid,CellPhone:$(".optin-modal").find('input[name="cellphone"]').val()};CINC.Api.Account("importoptin").post(e)})},CINC.Core.AcceptTerms=function(e,t){return e||CINC.Site.SearchRequiresAccept&&!(CINC.User&&CINC.User.SecurityLevel>=5)&&"1"!==CINC.Core.CookiesVanilla.Get("acceptterms")?($("#acceptterms-modal").prop("checked",!0),r=t,!1):("function"==typeof t&&t(),r=null,!0)});CINC.Core.OptInImport=function(){CINC.User&&CINC.User.user_IsImport&&!CINC.User.user_Import_OptedIn&&CINC.User.user_UnsubscribeText&&!CINC.Core.CookiesVanilla.Get("import_optedin")&&($(".optin-modal").find('input[name="cellphone"]').val(CINC.User.cellPhone),$("#optinimport-modal").prop("checked",!0),CINC.Core.CookiesVanilla.Get("import_optedin","1"))};var n,s,o,l,h=CINC.Core.ToggleNavItemsVisibility=function(){if(!CINC.Site.On_MultiLineNav){var e=$("#nav");if(0!==e.length&&e.is(":visible")){var t=e.children("ul:not(.pull-right)").first();if(0!==t.length&&t.is(":visible"))!function(e,t){var r=!1;e.each(function(){var e=$(this),a=$(this).find("a").text();t.each(function(){var t=$(this),i=$(this).find("a").text();a!==i||(e.is(":hidden")?(t.show(),r=!0):t.hide())})}),r?$(".js-nav-more").show():$(".js-nav-more").hide()}(t.find(".nav__item").not(".js-nav-more"),$(".js-nav-more").find(".menu .item"))}}},p=(n=h,s=50,function(){var e=this,t=arguments,r=o&&!l;clearTimeout(l),l=setTimeout(function(){l=null,o||n.apply(e,t)},s),r&&n.apply(e,t)});CINC.Core.InitToggleNavItemsVisibility=function(){p(),$(window).off("resize",p).on("resize",p)}}(),$(document).ready(function(){$('<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?client=gme-cinc&channel=cinc-corejs&libraries=places,drawing&callback=CINC.Core.FinishMapInit"><\/script>').appendTo("body"),$("form.js-nosubmit").on("submit",function(e){return e.preventDefault(),!1});try{$(".js-phonefield").attr("type","tel")}catch(e){}CINC.Search.BindSearchBoxForm();var e=CINC.Core.CookiesVanilla.Get("CINC-LoadAction");if(e){var t=CINC.Core.LoadActionHandlers[e];if(t)t(JSON.parse(CINC.Core.CookiesVanilla.Get("CINC-LoadActionPayload")));CINC.Core.CookiesVanilla.Remove("CINC-LoadAction"),CINC.Core.CookiesVanilla.Remove("CINC-LoadActionPayload")}$(".js-easygraph").each(function(){var e=$(this),t=e[0].getContext("2d");if(e.attr("data-graphdata")){var r=$.parseJSON(e.attr("data-graphdata"));if(r.labels&&r.data){var a={labels:r.labels,datasets:[{label:r.title,fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:r.data}]};new Chart(t).Bar(a,{responsive:!0,scaleBeginAtZero:!0,scaleLabel:function(e){return Number(e.value).formatPrice()},tooltipTemplate:function(e){return Number(e.value).formatPrice()+" avg price"}})}}}),CINC.Core.ShowPrompt(!1),CINC.Core.InitAcceptTerms(),CINC.Core.InitOptIn(),CINC.Core.InitToggleNavItemsVisibility()});var IsLoggedIn="undefined"!=typeof CINC&&CINC.User&&null!==CINC.User&&null!==CINC.User.userDID;function IsEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9_-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function FormatPhone(e){var t=e;return 10==e.length&&(t=e.substr(0,3)+"-"+e.substr(3,3)+"-"+e.substr(6,4)),t}function PromptForLogin(e,t){e="string"==typeof e?{message:e}:e||{},$(".js-loginmessage").html(e.message||""),$(".js-signinform").show(),$(".js-signupform").hide(),(e.email||e.password)&&($(".js-signin-email").val(e.email),$(".js-signin-password").val(e.password),setTimeout(function(){$(".js-signin-email").trigger("focus").focus(),$(".js-signin-password").trigger("focus").focus()},100)),Modals.CloseAll();var r=Modals.SignInModal().Open();return t||r.Element.next(".modal-window").toggleClass("non-dismissable",!1),r}function PromptForValidCellPhone(e){var t=Modals.LeadValidCellModal().Open();return t.Element.next(".modal-window").toggleClass("non-dismissable",!1),t}function PromptForSystemAlert(e){confirm("Hello Injection")}function updateOrCancelValidCellCheck(e){$("js-update-cellphone"),$("js-cancel-cellphone")}var checkForConversionScripts=CINC.Core.WriteConversionScripts=function(){var e=CINC.Core.CookiesVanilla.Get("registration-state");null!=e&&e.length>0&&"registered"===e&&null===document.getElementById("conversion-tracking-scripts")&&($("body").append('<div id="conversion-tracking-scripts">'+CINC.Site.ConversionTrackingScripts+"</div>"),"undefined"!=typeof ga&&ga("cinc.send","event","adwords-conversion","submit","conversion tracking script written"),"undefined"!=typeof mixpanel&&mixpanel.track("Google Adwords conversion tracking script written"))},PromptForSignup=CINC.Core.PromptForSignup=function(e,t,r){t=void 0===t||t,r=void 0===r?"1":String(r);var a=PromptForLogin(e);CINC.Core.WriteConversionScripts(),$(".js-signup-step").each(function(){var e=$(this);e.toggle(e.attr("data-signup-step")===r)});var i=CINC.GetSubdomain();if("Houses"==CINC.CincProduct&&null!=i&&0==i.length)return $(".js-signupform").hide(),$(".js-signinform").hide(),window.location.replace("/"),!1;$(".js-signupmessage").html(e||"Join us and see how our powerful notebook features simplify your home search process, saving you time and hassle!"),$(".js-signupform").show(),$(".js-signinform").hide();var n=$(".js-socialsignin-buttons");return n.hasClass("hidden")&&(n.removeClass("hidden"),n.find("iframe[data-src]").each(function(){$(this).attr("src",$(this).attr("data-src")),$(this).attr("data-src",null)})),"1"===r&&ga("cinc.send","event","registration-legacy","pop-up","Reg 1"),$(".js-signup-close").toggle(t),a.Element.next(".modal-window").toggleClass("non-dismissable",!t),a},Notification={CloseAll:function(){toastr.clear(),$.prompt.close()},Toast:{Success:function(e,t){toastr.success(e,t)},Info:function(e,t){toastr.info(e,t)},Warning:function(e,t){toastr.warning(e,t)},Error:function(e,t){toastr.error(e,t)}},Banner:{DefaultSettings:{closeButton:!0,positionClass:"toast-top-full-width",preventDuplicates:!0,showMethod:"slideDown",Merge:function(e){return $.extend({},this,e)}},GetDefaultSettings:function(){var e=Notification.Banner.DefaultSettings;return Modals.AnyOpen()&&(e.positionClass="toast-top-full-width toast-top-full-width-modal"),e},Success:function(e,t,r){toastr.success(e,t,Notification.Banner.GetDefaultSettings().Merge(r))},Info:function(e,t,r){toastr.info(e,t,Notification.Banner.GetDefaultSettings().Merge(r))},Warning:function(e,t,r){toastr.warning(e,t,Notification.Banner.GetDefaultSettings().Merge(r))},Error:function(e,t,r){toastr.error(e,t,Notification.Banner.GetDefaultSettings().Merge(r))}},Prompt:{DefaultConfirmSettings:{buttons:{OK:!0,Cancel:!1},Merge:function(e){return $.extend({},this,e)}},Confirm:function(e,t,r){return(r=r||{}).title=t,$.prompt(e,Notification.Prompt.DefaultConfirmSettings.Merge(r))},Show:function(e,t,r){return(r=r||{}).title=t,r.buttons={OK:!0},$.prompt(e,Notification.Prompt.DefaultConfirmSettings.Merge(r))}},Tooltip:{DefaultSettings:{Merge:function(e){return $.extend({},this,e)}},Show:function(e,t,r){return(r=r||{}).content=e,r.trigger="custom",r.timer=3e3,r.focusElement=!0,$(t).hasClass("tooltipstered")&&$(t).tooltipster("destroy"),$(t).tooltipster(Notification.Tooltip.DefaultSettings.Merge(r)),1==r.focusElement&&t.focus(),$(t).tooltipster("show")},CloseAll:function(){$(".tooltipstered").tooltipster("hide")}}};CINC="undefined"==typeof CINC?{}:CINC,CINC.Core=void 0===CINC.Core?{}:CINC.Core,CINC.Core.IsBot=void 0===CINC.Core.IsBot?function(){return!0}:CINC.Core.IsBot,CINC.Details={el:{},g:{}},function(){var e=function(e){e&&e.target&&($(e.target).trigger("click"),$(document).trigger("touchstart"),$(document).trigger("touchend"),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())};$(document).ready(function(){$(".js-gallery").on("fotorama:showend",function(t,r,a){var i=$(r.activeFrame.html);!i.hasClass("js-gallery-map")||CINC.Core.IsBot()||CINC.IsNonDismissableModal?r.setOptions({swipe:!0,click:!0,arrows:!0}):("1"!==i.attr("data-mapinit")&&function(t){if(0!==t.length){var r=t.attr("data-address"),a=parseFloat(t.attr("data-lat")),i=parseFloat(t.attr("data-lng"));if(0!==a&&0!==i){var n={center:new google.maps.LatLng(a,i),mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:14,draggable:!0,scrollwheel:!0},s=new google.maps.Map(t[0],n);new RichMarker({content:'<div class="map-marker map-marker-dark map-marker-noninteractive"><span class="map-marker-title">'+r+"</span></div>",draggable:!1,map:s,position:new google.maps.LatLng(a,i),shadow:""}),t.attr("data-mapinit","1"),google.maps.event.addListenerOnce(s,"idle",function(){$(".js-gallery-map").on("touchstart",e)})}}}(i),r.setOptions({swipe:!1,click:!1,arrows:"always"}))}),$(".js-gallery-map-show").on("click",function(){if(!CINC.Core.IsBot()&&!CINC.IsNonDismissableModal){var e=1;$(this).hasClass("js-gallery-map-show")&&(e=1);var t=$(".js-gallery").data("fotorama");t&&t.show(t.size-e)}}),$(".js-gallery-virtualtour-show").on("click",function(){var e=$(this).attr("href");window.open(e,"_blank")}),0===window.location.pathname.indexOf("/homes")&&(window.location.href.indexOf("src=listcast")>=0||window.location.href.indexOf("src%3Dlistcast")>=0)&&ga&&ga("details-interactions","PageView","ListCast Details Page View")})}(),function(){$(document).ready(function(){e()});var e=function(){$(".js-emailproperty").on("click",function(e){e.preventDefault();var t=$(".js-emailaddress").val(),a=$(this).data("shareurl");r(t,a)}),$("body").on("click",".js-socialsharemodal",function(e){e.preventDefault();var t=$(this).data("shareurl");$(".js-share").data("shareurl",t),Modals.SocialShareModal().Open().NoResponse(function(){$(".js-share").removeData("shareurl")})}),$(".js-tweetproperty").on("click",function(e){e.preventDefault(),t($(this).data("shareurl"),"http://twitter.com/share?url=")}),$(".js-facebookproperty").on("click",function(e){e.preventDefault(),t($(this).data("shareurl"),"https://www.facebook.com/sharer/sharer.php?u=")}),$(".js-pinproperty").on("click",function(e){e.preventDefault();var r=encodeURIComponent($(".js-listingaddress").text()),a=$(".fotorama__loaded--img").find("img").attr("src");a||(a=""),t($(this).data("shareurl"),"http://pinterest.com/pin/create/link/?url=","&description="+r+"&media="+a)}),$(".js-gplusproperty").on("click",function(e){e.preventDefault(),t($(this).data("shareurl"),"http://plus.google.com/share?url=")})},t=function(e,t,r){e?-1==e.indexOf("http")&&(-1==e.indexOf("/")&&(e="/"+e),e="http://"+window.location.host+e):e=window.location;var a=CINC.GetAgentSubdomain();a&&(e=new URI(e).subdomain(a).toString()),e=encodeURIComponent(e),r||(r=""),window.open(t+e+r,"","status=0,toolbar=0,width=500,height=300")},r=function(e,t){if(IsEmail(e))if(Modals.SocialShareModal().Close(),IsLoggedIn){var r={Email:e,Url:t};r.Url&&0!=r.Url.length||(r.Url=window.location.href),CINC.Api.Organizer.Share().post(r).success(function(){Notification.Banner.Success("Listing shared with "+r.Email)}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to share listing")})}else PromptForSignup("Making an account is quick, easy, and will help you manage your favorite listings!");else Notification.Banner.Error("Please enter a valid email address")}}();var Modals={};function debounce(e,t,r){var a;return function(){var i=this,n=arguments,s=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||e.apply(i,n)},t),s&&e.apply(i,n)}}!function(e){var t={loadingModal:"#loading-modal",notebooksModal:"#notebooks-modal",noteModal:"#note-modal",cellPhoneModal:"#cellphone-modal",socialShareModal:"#socialshare-modal",signInModal:"#signin-modal",pdqManagerModal:"#pdq-manager-modal",leadValidCellModal:"#lead-validcellphone-modal"};e.NotebooksModal=function(e){return a(e),new r(t.notebooksModal)},e.NoteModal=function(){return new r(t.noteModal)},e.CellPhoneModal=function(){return new r(t.cellPhoneModal)},e.SocialShareModal=function(){return new r(t.socialShareModal)},e.Loading=function(e){return $(".js-loadingmodaltext").html(e),new r(t.loadingModal)},e.SignInModal=function(){return new r(t.signInModal)},e.PdqManagerModal=function(){return new r(t.pdqManagerModal)},e.LeadValidCellModal=function(){return new r(t.leadValidCellModal)},e.HomeValuationModal=function(){return new r(t.homeValuationModal)},$("body").on("change",".modal-state",function(){$("body").toggleClass("modal-open",$(this).prop("checked"))}),$("form.js-nosubmit").on("submit",function(e){e.preventDefault()}),e.CloseAll=function(){$.each(t,function(e,t){new r(t).Close()})},e.AnyOpen=function(){for(entryName in t)if($(t[entryName]).is(":checked"))return!0;return!1},e.SetModalResponse=function(e,t){var r=$(e).closest("div.modal").children("input.modal-state");void 0===t&&(t=$(e).serializeObject()),r.attr("data-modalresponse",JSON.stringify(t)),r.prop("checked",""),r.trigger("change")};var r=e.CincModal=function(t){this.Element=$(t),this.Open=function(){return this.Element.removeAttr("data-modalresponse"),this.Element.prop("checked",!0).trigger("change"),this},this.Close=function(){this.IsOpen()&&(this.Element.removeAttr("data-modalresponse"),this.Element.prop("checked",!1),this.Element.trigger("change"))},this.CloseWithResponse=function(t){this.IsOpen()&&e.SetModalResponse(this.Element,t)},this.IsOpen=function(){return this.Element.is(":checked")},this.Exists=function(){return this.Element.length>0},this.Response=function(e){return this.Element.one("change",function(t){var a=r(t);void 0!==a&&e(a,this)}),this},this.ResponseOf=function(e,t){return this.Element.one("change",function(a){r(a)===e&&t()}),this},this.NoResponse=function(e){return this.Element.one("change",function(t){void 0===r(t)&&e()}),this};var r=function(e){var t=$(e.target).attr("data-modalresponse");if(void 0===t)return t;try{return JSON.parse(t)}catch(e){return t}}},a=function(e){var t=Handlebars.compile($("#notebooksmodal_tmpl").html())({headers:e});$("#notebooksmodal-list").html(t)}}(Modals),function(e,t){if(e.LeadLegalAgreementModal=function(){return new e.CincModal("#lead-legal-agreement-modal")},"undefined"!=typeof CINC&&CINC.User&&null!==CINC.User&&null!==CINC.User.AgreedToTermsOfUseAndPrivacyPolicy){var r=document.getElementById("lead-legal-agreement-modal");null!=r&&(e.LeadLegalAgreementModal().Open(),t("cinc.send","event","lead-legal-agreement","popup","Lead legal popup"))}$(document).ready(function(){$("#lead-legal-agreement-modal-btn").on("click",function(r){t("cinc.send","event","lead-legal-agreement","click","Lead legal agreement clicked"),r.preventDefault(),CINC.Api.LegalAgreement("agreed").post().success(function(r){r.isSuccess?(t("cinc.send","event","lead-legal-agreement","click","lead legal agreement success"),Notification.Banner.Success("Thank you for your agreement. Please enjoy viewing the site."),e.LeadLegalAgreementModal().Close()):(t("cinc.send","event","lead-legal-agreement","invalid","lead legal agreement failure"),Notification.Banner.Error("An unforeseen error has occurred. Please reload the page and try again."))}).fail(function(e){Notification.Banner.Error("Error: unable to save")})})})}(Modals||{},"undefined"==typeof ga?function(){}:ga),CINC.Organizer={el:{},g:{}},function(e){e.Core.LoadActionHandlers.ContinueScheduleShowing=function(e){IsLoggedIn&&b(e.pdid,e.showingDate)},$(document).ready(function(){a(),r(),t()});var t=function(){$(".js-changenotebook").off().on("click",function(e){e.preventDefault();var t=$(this).data("organizerdid");o(t)})},r=function(){$("body").on("click",".js-notemodal",function(e){e.preventDefault();var t=$(this).data("objdid"),r=$(this).data("objtype");r&&0!=r.length||(r="Property"),$(".js-savenote").data("objdid",t).data("objtype",r),Modals.NoteModal().Open()}),$(".js-savenote").off().on("click",function(e){e.preventDefault();var t=$(this).prevAll("textarea.js-notetext:first"),r=t.val().trim(),a=$(this).data("objdid"),i=$(this).data("objtype");Modals.NoteModal().CloseWithResponse("save"),u(r,a,i,function(){t.val("")})}),$(".js-deletenote").off().on("click",function(e){e.preventDefault();var t=$(this).closest(".js-noteactions"),r=t.data("notedid");g(r,function(){t.closest(".js-teamupdate").fadeOut()})})},a=function(){$(".js-savedsearch-frequency").off().on("change",function(){var t={};t.editdid=$(this).data("did"),t.strcrit=$(this).data("strcrit"),t.frequency=$(this).val(),e.Api.Organizer.Root("searches").put(t)}),$(".js-selectnotebook").off().on("click",function(e){e.preventDefault(),s(function(){t()})}),$(".js-createnotebook").off().on("click",function(e){e.preventDefault();var t=$(".js-createnotebookname"),r=t.val();r&&0!=r.length?n(r):Notification.Tooltip.Show("Enter a notebook name",t)}),$("body").on("click",".js-togglefavorite",function(e){e.preventDefault();var t=$(this),r=t.data("pdid");$(this).hasClass("green")?h(r,function(){t.removeClass("green"),t.find("i").attr("style","")}):l(r,function(){t.addClass("green"),t.find("i").attr("style","color:red")})}),$("body").on("click",".js-removefavorite",function(e){e.preventDefault();var t=$(this).data("pdid");h(t)}),$("body").on("click",".js-savedsearch-edit",function(e){var t,r,a;return e.preventDefault(),t=$(this),r=t.attr("data-editdid"),a=t.attr("data-strcrit"),t.hasClass("loading")||(t.addClass("loading"),r.length>0?f(r,a,function(){t.html('<span class="icon-star-full"></span><span class="small-title">Saved!</span>'),setTimeout(function(){t.text("Resave Search").removeClass("loading")},1e3),Notification.Banner.Success("Saved search has been updated successfully.","Updated Saved Search!")}):d(a,function(){t.html('<span class="icon-rate text-yellow"></span><span class="small-title">Saved!</span>'),Notification.Banner.Success("Saved search has been created successfully.","Created Saved Search!")})),!1}),$("body").on("click",".js-savedsearch-remove",function(e){e.preventDefault();var t=$(this).attr("data-searchdid");c(t)}),$(".js-inviteuser").off().on("click",function(e){e.preventDefault();var t=$(".js-inviteemail"),r=t.val().trim();v(r,function(){t.val("")})}),$(".js-scheduleshowing").off().on("click",function(e){e.preventDefault();var t=$(".js-showingdate").val(),r=$(this).data("pdid");b(r,t)}),$(".js-addopenhousetoschedule").off().on("click",function(e){e.preventDefault();var t=$(this),r=$(this).data("appointment");S(r,function(e){t.fadeOut()})}),$(".js-cancelappointment").off().on("click",function(e){e.preventDefault();var t=$(this).data("aptdid"),r=$(this).closest(".js-scheduleentry");w(t,function(){r.fadeOut("slow")})}),$(".js-myopinion").off().on("click",function(e){e.preventDefault();var t="None";if(i($(this))){t="Pro";var r=$(this).next("div");$(this).hasClass("js-conopinion")&&(t="Con",r=$(this).prev("div")),i(r,!1)}var a=$(this).closest(".rating"),n=a.closest(".scorecard").data("pdid"),s=a.data("featurename"),o=$(".js-propertyholder[data-pdid='"+n+"']");if(1==o.length){var l=o.find(".js-procount"),h=o.find(".js-concount");l.html(o.find(".js-proopinion.pro").length),h.html(o.find(".js-conopinion.con").length)}k(n,s,t,function(){var e=$(".js-togglefavorite");1!=e.length||e.hasClass("green")||e.addClass("green")})}),$(".js-togglefavoritedetails").off().on("click",function(e){e.preventDefault();var t=$(this).data("pdid");$(".js-favoritedetails[data-pdid="+t+"]").toggle()}),$(".js-expandfavoritedetails").off().on("click",function(e){e.preventDefault();var t=$(this).data("pdid");t||(t=$(this).closest(".js-propertyholder").data("pdid"));var r=$(".js-favoritedetails[data-pdid="+t+"]");r.show(),r.scrollintoview()})},i=function(e,t){var r=e.find("i");void 0===t&&(t=!r.hasClass("fa-check-circle"));var a=e.hasClass("js-proopinion")?"pro":"con";return r.toggleClass("fa-circle-o",!t),r.toggleClass("fa-check-circle",t),e.toggleClass(a,t),r.hasClass("fa-check-circle")},n=function(t){var r=Modals.Loading("Getting your new notebook all ready").Open();e.Api.Organizer.Root().post({name:t}).success(function(){window.location.reload()}).fail(function(e){Notification.Banner.Error(e.responseText,"Error creating notebook")}).always(function(){r.Close()})},s=function(t){var r=Modals.Loading("Finding other notebooks").Open();e.Api.Organizer.Headers().get().success(function(e){Modals.NotebooksModal(e).Open().Response(function(e){o(e)}),t&&t()}).fail(function(e){Notification.Banner.Error(e.responseText,"Error loading notebooks")}).always(function(){r.Close()})},o=function(t){e.Api.Organizer.Focus(t).post().success(function(){window.location.reload()}).fail(function(e){Notification.Banner.Error(e.responseText,"Error changing notebooks")})},l=function(t,r){if(!IsLoggedIn)return E("temp-favs",{PDID:t}),void PromptForSignup("Favorite saved. Register to view favorites in your notebook.");e.Api.Organizer.Favorite(t).post().success(function(){r&&r()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to add favorite")})},h=function(e,t){Notification.Prompt.Confirm("Are you sure you want to remove this property from your favorites?","Remove Property",{submit:function(r,a){a&&p(e,t)}})},p=function(t,r){IsLoggedIn?e.Api.Organizer.Favorite(t).del().success(function(){r&&r();var e=$(".js-favoriteholder[data-pdid="+t+"]");e.length>0&&e.fadeOut("slow",function(){e.remove()})}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to remove favorite")}):PromptForLogin()},c=function(e,t){Notification.Prompt.Confirm("Are you sure you want to remove this saved search?","Remove Saved Search",{submit:function(r,a){a&&m(e,t)}})},d=function(t,r){IsLoggedIn?e.Api.Organizer.Searches().post({strcrit:t}).success(function(){"function"==typeof r&&r()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to create saved search!")}):PromptForLogin()},f=function(t,r,a){IsLoggedIn?e.Api.Organizer.Searches().put({editdid:t,strcrit:r}).success(function(){"function"==typeof a&&a()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to update saved search!")}):PromptForLogin()},m=function(t,r){IsLoggedIn?e.Api.Organizer.Searches(t).del().success(function(){r&&r();var e=$(".js-savedsearch[data-searchdid="+t+"]");e.length>0&&e.fadeOut("slow",function(){e.remove()})}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to remove saved search")}):PromptForLogin()},u=function(t,a,i,n){if(0!==t.length){if(!IsLoggedIn){var s={ObjectDID:a,NoteText:t,CreateDT:new Date,ObjectType:i};return E("temp-notes",s),void PromptForSignup("Your note has been saved. Register to view notes in your notebook")}if("Property"==i){var o=$(".js-togglefavorite[data-pdid="+a+"]");if(1==o.length)o.hasClass("green")||o.trigger("click")}e.Api.Organizer.Note().post({NoteText:t,ObjectDid:a,ObjectType:i}).success(function(t){n&&n(),Notification.Banner.Success("Note added");var i=$(".js-noteshost[data-objdid="+a+"]");if(i.length>0){var s=0==i.data("candisplaydate");e.Api.Organizer.Ajax("note/"+t.noteDID).get({inContext:!0,canDisplayDate:!s}).success(function(e){$(e).hide().prependTo(i).fadeIn("slow"),r()}).fail(function(e){Notification.Banner.Warning(e.responseText)})}}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to add note")})}else Notification.Banner.Error("Please enter a note")},g=function(e,t){Notification.Prompt.Confirm("Are you sure you want to delete this note?","Delete Note",{submit:function(r,a){a&&y(e,t)}})},y=function(t,r){e.Api.Organizer.Note(t).del().success(function(){r&&r()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to delete note")})},v=function(t,r){IsEmail(t)?IsLoggedIn?e.Api.Organizer.Team().post({Email:t}).success(function(){Notification.Banner.Success("Notebook invitation sent to "+t),r&&r()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to send invite")}):PromptForLogin():Notification.Banner.Error("Please enter a valid email address")},b=function(t,r){if(r&&0!=r.length)if(IsLoggedIn)e.User.cellPhone&&0!=e.User.cellPhone.length?C(t,r):Modals.CellPhoneModal().Open().Response(function(a){""==a.CellPhone?(Notification.Banner.Error("Please enter a valid phone number"),b(t,r)):e.Api.Account("update").post(a).success(function(a){e.User=a,C(t,r)}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to Update Cellphone")})});else{PromptForSignup("schedule").Response(function(){SetLoadAction("ContinueScheduleShowing",{pdid:t,showingDate:r})})}else Notification.Banner.Error("Please select a date")},C=function(t,r){var a={PDID:t,StartDate:r,EndDate:r,AppointmentType:"Showing",TimeZone:(new Date).getTimezoneOffset()/60},i=Modals.Loading("Finding an agent. This may take a minute or two."),n=setTimeout(function(){clearTimeout(n),i.Open()},1e3);e.Api.Organizer.Schedule("appointment").post(a).success(function(){Notification.Banner.Info("We'll have an agent contact you at "+FormatPhone(e.User.cellPhone)+" soon!","Appointment is pending acceptance by an agent",{timeOut:0,extendedTimeOut:0}),$(".js-scheduleshowingwrap").fadeOut("slow")}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to Schedule")}).always(function(){clearTimeout(n),i.Close()})},S=function(t,r){e.Api.Organizer.Schedule("appointment").post(t).success(function(e){Notification.Banner.Info("Your schedule has been updated!"),r&&r(e)}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to Schedule")})},w=function(t,r){Notification.Prompt.Confirm("Are you sure you want to cancel this appointment?","Cancel Appointment",{buttons:{Yes:!0,"No, go back":!1},submit:function(a,i){i&&e.Api.Organizer.Schedule("appointment/"+t).del().success(function(){Notification.Banner.Info("Appointment has been cancelled."),r&&r()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to Cancel")})}})},k=function(t,r,a,i){var n={PDID:t,FeatureName:r,FeatureOpinion:a};IsLoggedIn?e.Api.Organizer.Opinion().post(n).success(function(){i&&i()}).fail(function(e){Notification.Banner.Error(e.responseText,"Failed to set rating")}):(E("temp-opinions",n),PromptForSignup("Scorecard saved. Register to view your scorecards in your notebook."))},E=function(e,t){var r=[],a=$.cookie(e);a&&(a=JSON.parse(a),r=r.concat(a)),r.push(t),$.cookie(e,JSON.stringify(r),{expires:30,path:"/"})}}(CINC),CINC="undefined"==typeof CINC?{}:CINC,CINC.Search={el:{ClearControl:null,DrawControl:null,ListSearch:$(".js-listsearch"),MapSearch:$(".js-mapsearch"),SearchHandoffModal:$("#ModalSearchHandoff"),PdqAnchor:$("#pdq-manager"),PdqModalForm:$("#pdq-modal-form"),SearchFilters:$(".js-filters-form"),SearchBar:$(".js-filters-wrap-desktop"),TagsSearch:$(".js-tags-search"),SoldPropertyCheckbox:$('input[name="soldproperty"]'),UrlStackNext:$("a.js-urlstack-next"),UrlStackPrev:$("a.js-urlstack-prev"),UrlStackAll:$(".js-urlstack-all")},css:{KeywordSearchField:".js-filters-keywords",SearchFiltersForm:".js-filters-form",IncludeTags:".js-include-tags"},g:{FirstSearch:!0,IgnoreEvent:!1,IgnoreIdle:0,LastWord:null,Map:null,MapDrawMode:!1,MapMarkers:[],MapOverlay:null,MapPolygons:[],MapPolyline:null,MapResult:null,SearchBoxFirstFocus:!0,SearchTypes:[]},GracefulHandoff:function(e){},Events:{}},CINC.Search.Events=$(CINC.Search.Events),function(ga){var el=CINC.Search.el,g=CINC.Search.g,GracefulHandoff=CINC.Search.GracefulHandoff=function(e){el.SearchHandoffModal.prop("checked",!0),setTimeout(function(){CINC.QS.src&&(e+=(e.indexOf("?")>=0?"&":"?")+"src="+CINC.QS.src),el.SearchHandoffModal.prop("checked",!1),window.location=e},3e3)},SetSearchBoxError=function(){Notification.Tooltip.Show("Please enter a search location",$(CINC.Search.css.KeywordSearchField)),$(CINC.Search.css.KeywordSearchField).addClass("input-error").off("change",ClearSearchBoxError).off("focus",ClearSearchBoxError).off("keydown",ClearSearchBoxError).on("change",ClearSearchBoxError).on("focus",ClearSearchBoxError).on("keydown",ClearSearchBoxError)},ClearSearchBoxError=function(){$(CINC.Search.css.KeywordSearchField).removeClass("input-error").off("change",ClearSearchBoxError).off("focus",ClearSearchBoxError).off("keydown",ClearSearchBoxError)},HandleAltSearchBoxSubmit=function(e){var t=$(this),r=t.find(CINC.Search.css.KeywordSearchField);r.length>0&&r.data("searchBox").func.dropdown.trySelectFirst(),t.find("input, select").each(function(e,t){var r=$(t);""===r.val()&&r.attr("disabled","disabled")})},HandleSearchBoxChange=function(){var e=$(".js-advlink");if(e.length>0){var t=StrCrit();e.attr("href","/search?advanced=1&"+$.param(t))}},HandleSearchBoxSubmit=function(e){var t=$(this);return function(){var r=!1;if(!CINC.Core.AcceptTerms(!1,function(){r&&setTimeout(function(){t.submit()},200)}))return r=!0,e.preventDefault(),!1;var a=$(CINC.Search.css.KeywordSearchField);if($(".js-filters-form").length>0)return e.preventDefault(),a.data("searchBox").func.dropdown.trySelectFirst(),!1;if(0===$.trim(a.val()).length)return e.preventDefault(),SetSearchBoxError(),!1;if(CINC.Site.IsBrandedSlaveSite){var i=t.serialize(),n=t.attr("action")+"?"+i,s=CINC.GetSubdomain();s&&(s+=".");var o="http://"+s+CINC.Site.MasterSite.DomainName+n;return GracefulHandoff(o),!1}return!0}()},HandleSearchBoxFirstFocus=function(){if(g.SearchBoxFirstFocus){g.SearchBoxFirstFocus=!1;var e=$(this);e.val().length>0&&setTimeout(function(){e[0].select()},50)}},HandleKeywordChange=function(){$(".js-filters-toggle").prop("checked")||""!==$(this).val()||($(CINC.Search.css.KeywordSearchField).data("searchBox").func.searchBox.clear(),$(CINC.Search.css.KeywordSearchField).data("searchBox").func.tags.removeAll(),RefreshSearch())},isStrCritSoldPropertyCapable=function(e){return!_.isUndefined(e)&&!_.isNull(e)&&(e.hasOwnProperty("city")||e.hasOwnProperty("acl_city")||e.hasOwnProperty("acl_zip5")||e.hasOwnProperty("zip"))},handleSoldPropertyChange=function(e){if(this.checked){var t=this,r=StrCrit();isStrCritSoldPropertyCapable(r)||(Notification.Toast.Error("Please enter a city or zip code to search for sold properties.","Search Error!"),setTimeout(function(){t.checked=!1},650),e.stopPropagation())}},BindSearchBoxForm=CINC.Search.BindSearchBoxForm=function(){CINC.Core.BindAcceptTerms(),CINC.Search.el.SoldPropertyCheckbox.off("change",handleSoldPropertyChange).on("change",handleSoldPropertyChange),$(CINC.Search.css.KeywordSearchField).off("focus",HandleSearchBoxFirstFocus).on("focus",HandleSearchBoxFirstFocus),$(CINC.Search.css.KeywordSearchField).off("change",HandleKeywordChange).on("change",HandleKeywordChange),$(".js-searchbar-form").off("change",HandleSearchBoxChange).on("change",HandleSearchBoxChange),$(".js-searchbar-form").off("submit",HandleSearchBoxSubmit).on("submit",HandleSearchBoxSubmit),$(".js-filters-altform").off("submit",HandleAltSearchBoxSubmit).on("submit",HandleAltSearchBoxSubmit),$(".js-filters-altform select, .js-filters-altform input:not([type=search]):not([data-autocompletename='acl_kw'])").off("change",handleFilterInputChange).on("change",handleFilterInputChange)},BindFiltersForm=function(){BindSearchBoxForm(),$(".js-show-more-tags").off("click",HandleToggleFlip).on("click",HandleToggleFlip),$(".js-filters-toggle").off("change",HandleFiltersToggle).on("change",HandleFiltersToggle),$(".js-filters-close").off("click",CloseFilters).on("click",CloseFilters),$(".js-filters-form select, .js-filters-form input:not([type=search]):not([data-autocompletename='acl_kw'])").off("change",HandleFilterFormChange).on("change",HandleFilterFormChange),$(".js-filters-form").off("submit",HandleFilterFormSubmit).on("submit",HandleFilterFormSubmit),$(".js-filters-sortby").off("change",HandleSortByChange).on("change",HandleSortByChange),$(".js-filters-reset").off("click",HandleFilterReset).on("click",HandleFilterReset),$(".js-searchbox-default").searchBox({tags:!0}),$(".js-filters-form, .js-filters-altform").find(".ui.checkbox").checkbox(),$(".js-filters-form, .js-filters-altform").find(".js-sumoprep").one("focus",function(){var e=$(this).next(".js-sumoselect");1===e.length&&($(this).hide(),e.SumoSelect(),e.show(),$(e)[0].sumo.showOpts(),console.log("did it"))}),$("#js-pdq-trigger").click(function(){$(".pdq-moreoptions").toggleClass("open"),$(".js-listsearch").toggleClass("hide")}),window.SidebarMenuEffects&&SidebarMenuEffects(),$(window).off("resize",HandleFiltersResize).on("resize",HandleFiltersResize),HandleFiltersResize()},HandleFiltersResize=function(){var e=$(".js-filters-wrap-desktop"),t=$(".js-filters-wrap-mobile");1===e.length&&1===t.length&&(CINC.Core.IsMobile()?e.find(".js-filters-basic").prependTo(t):t.find(".js-filters-basic").appendTo(e));var r=$(".js-filters-basic");CINC.Core.IsMobile()?(r.find(".js-searchbox-wrap").addClass("searchbox-anchor"),r.removeClass("searchbox-anchor")):(r.find(".js-searchbox-wrap").removeClass("searchbox-anchor"),r.addClass("searchbox-anchor"))},HandleFilterReset=function(e){e.preventDefault();var t=$(".js-filters-form");return t.find("input, select").each(function(e,t){var r=$(t),a=r.prop("tagName").toUpperCase();if("SELECT"===a)r.val("");else if("INPUT"===a&&!r.hasClass("tgl")){var i=r.attr("type").toUpperCase();"TEXT"===i||"SEARCH"===i||"HIDDEN"===i?r.val(""):"RADIO"!==i&&"CHECKBOX"!==i||r.prop("checked",""===r.val())}}),t.append('<input type="hidden" name="reset" value="1" />'),RefreshSearch(),CloseFilters(),!1},HandleFilterFormChange=function(e){CINC.Search.LinkedFormInputs.synchronizeValues(e,$(".js-filters-form"),RefreshSearch)},handleFilterInputChange=function(e){var t=1===$(".pdq-view").length&&$(".pdq-moreoptions").is(":visible")?$(".js-filters-altform").serializeObject():null;CINC.Search.LinkedFormInputs.synchronizeValues(e,$(".pdq-view"),RefreshSearch(t))},HandleFilterFormSubmit=function(e){e.preventDefault();var t=1===$(".pdq-view").length&&$(".pdq-moreoptions").is(":visible")?$(".js-filters-altform").serializeObject():null;return RefreshSearch(t),!1},HandleSortByChange=function(){RefreshSearch()},searchIncludeTags=function(e,t,r){var a="";return e.every(function(e){return $(e).text().replace(/ \([0-9]*\)/,"").toLowerCase().trim()!==r.toLowerCase()||(a=$(e).parent().prev("input").attr("name"),!1)}),a},StrCrit=CINC.Search.StrCrit=function(e){var t=$(".js-filters-form");if(0===t.length&&0===(t=$(".js-searchbar-form")).length)return{};var r=t.serializeObject();if(r.page="1",null!=e)for(var a in e)r[a]=e[a];var i=$(".js-filters-sortby");if(1===i.length&&(r.sortby=i.val()),r.hasOwnProperty("tag")){var n=CINC.Search.el.TagsSearch.parent().parent().find(CINC.Search.css.IncludeTags).find("span"),s=searchIncludeTags($(n).toArray(),CINC.Search.el.TagsSearch,r.tag);void 0!==s&&""!==s?r[s]=1:r.kw=r.tag,delete r.tag}var o=t.find("select[name=listingtype]");if(o.length>0){var l=o.val()||[];r.listingtype=l.join(",")}if(g.SearchTypes.indexOf("MAP")>-1)if($.extend(r,{page:"1",perpage:CINC.MaxPinCount||100}),g.MapPolygons.length>0){var h=[];$.each(g.MapPolygons,function(e,t){var r=[],a=t.getPath().getArray();if(a[0].lat&&a[0].lng)a[0].lat()<a[1].lat()&&a.reverse();else{var i=a[0].D?"D":a[0].B?"B":"A";a[0][i]<a[1][i]&&a.reverse()}for(e=0;e<a.length;e++)if(a[e].lat&&a[e].lng)r.push(parseFloat(a[e].lat()).toFixed(6)+" "+parseFloat(a[e].lng()).toFixed(6));else{i=a[e].D?"D":a[e].B?"B":"A";r.push(parseFloat(a[e][i]).toFixed(6)+" "+parseFloat(a[e].k).toFixed(6))}r.push(r[0]),h.push(r.join(", "))}),r.polygonmap=h.join(":"),delete r.radius}else if(g.FirstSearch)delete r.lat,delete r.long,delete r.minlat,delete r.maxlat,delete r.minlong,delete r.maxlong,delete r.sortby;else{var p=g.Map.getBounds(),c=g.Map.getCenter();$.extend(r,{lat:c.lat(),long:c.lng(),minlat:p.getSouthWest().lat(),maxlat:p.getNorthEast().lat(),minlong:p.getSouthWest().lng(),maxlong:p.getNorthEast().lng(),sortby:1===i.length?r.sortby:"nearest"})}return null!=r.acl_city&&null!=r.acl_city&&null!=r.kw&&null!=r.kw&&r.kw.indexOf(r.acl_city)>-1&&(r.kw=r.kw.replace(r.acl_city,"")),r},RefreshSearch=CINC.Search.RefreshSearch=function(e){if(0!==g.SearchTypes.length){var t=StrCrit(e);"1"!==t.soldproperty||isStrCritSoldPropertyCapable(t)||(Notification.Toast.Error("Sold property searching requires a city or zip. Disabling sold property search.","Search Error!"),CINC.Search.el.SoldPropertyCheckbox.attr("checked",!1),delete t.soldproperty);var r=g.SearchTypes.indexOf("LIST")>-1,a=g.SearchTypes.indexOf("MAP")>-1;if($(".js-filters-submit").addClass("submit-loading"),r&&a)t.type="split",CINC.Api.Search.Split(!0).post(t).success(function(e){var t=$(e.html);HandleFiltersResponse(t.find(".js-filters-form")),HandleListResponse(t.find(".js-listsearch")),HandleMapResponse(e.results),BindFiltersForm(),BindSearchBox(),BindResults(),SetUrlStack(),FinalizeSearchResponse(e.results.searchQs,e.results.searchTitle,e.results.searchUrl)}).error(HandleSearchError);else if(r){t.type="list";var i=1===$(".pdq-view").length?"Quick":"Html";CINC.Api.Search[i](!0).get(t).success(function(e){var t=$(e),r=t.find(".js-listsearch"),a=t.find(".js-filters-altform");HandleFiltersResponse(t.find(".js-filters-form")),HandleListResponse(r),HandleAltFiltersResponse(a),BindFiltersForm(),BindSearchBox(),BindResults(),SetUrlStack(),FinalizeSearchResponse(r.attr("data-strcrit"),r.attr("data-searchtitle"),r.attr("data-searchurl"))}).error(HandleSearchError)}else a&&(t.type="map",CINC.Api.Search.Map(!0).post(t).success(function(e){var t=$(e.html);HandleFiltersResponse(t.find(".js-filters-form")),HandleMapResponse(e.results),BindFiltersForm(),BindSearchBox(),BindResults(),SetUrlStack(),FinalizeSearchResponse(e.results.searchQs,e.results.searchTitle,e.results.searchUrl)}).error(HandleSearchError))}},ApplyUrlStack=function(){var e=GetUrlStack();if(!e||0==e.length)return!1;var t=e.indexOf(window.location.pathname);if(-1==t)return!1;if(0==el.UrlStackNext.length||0==el.UrlStackPrev.length)return!1;var r=e[t+1]||"",a=e[t-1]||"";""!=r&&el.UrlStackNext.attr("href",r).removeClass("hidden"),""!=a&&el.UrlStackPrev.attr("href",a).removeClass("hidden"),r&&a&&el.UrlStackAll.removeClass("hidden")},GetUrlStack=function(){return CINC.Core.LocalStorage.Get("UrlStack")},SetUrlStack=function(){var e=$(".js-urlstack-values input[type=hidden]");if(e.length<=0){if((t=GetUrlStack())&&t.indexOf(window.location.pathname)>=0)return;CINC.Core.LocalStorage.Remove("UrlStack")}else{var t=[];e.each(function(){t.push($(this).val())}),CINC.Core.LocalStorage.Set("UrlStack",t)}},HandleGalleryShowEnd=function(e,t,r){$(this).siblings().find(".js-gallery-photocount").text(t.activeIndex+1)},BindResults=CINC.Search.BindResults=function(){$(".js-searchresult").each(function(){BindResult($(this))})},BindResult=function(e){e.off("mouseenter",HandleResultEnter).on("mouseenter",HandleResultEnter),e.off("mouseleave",HandleResultLeave).on("mouseleave",HandleResultLeave);var t={offset:"100%"},r=$(".js-splitwrap");1===r.length?t.context=r[0]:CINC.Core.IsMobile()&&(t.context=$(".content-wrap")[0]),e.find(".js-gallery").waypoint(function(){var e=$(this.element);e.data("fotorama")||e.fotorama(),e.off("fotorama:showend",HandleGalleryShowEnd).on("fotorama:showend",HandleGalleryShowEnd),this.disable()},t)},HandleResultEnter=function(){var e=$(this).attr("data-pdid").toLowerCase();$.each(g.MapMarkers,function(t,r){var a=$(r.getContent());r.pdid.toLowerCase()===e.toLowerCase()?a.addClass("map-marker-selected"):a.removeClass("map-marker-selected")})},HandleResultLeave=function(){var e=$(this).attr("data-pdid").toLowerCase();$.each(g.MapMarkers,function(t,r){var a=$(r.getContent());if(r.pdid.toLowerCase()===e.toLowerCase())return a.removeClass("map-marker-selected"),!1})},FinalizeSearchResponse=function(e,t,r){g.FirstSearch=!1,PushSearchState(e,t,r),CINC.Search.Events.trigger("resultsFinalized")},HandleSearchError=function(e,t,r){e.getAllResponseHeaders()&&($(".js-filters-submit").removeClass("submit-loading"),alert("Error loading search results, please try again"))},PushSearchState=function(e,t,r){History.replaceState(e,t+" | "+CINC.Site.SiteName,r)},HandleFiltersResponse=function(e){var t={};$(".js-tgl-flip").each(function(e,r){var a=$(r);t[a.attr("id")]=a.prop("checked")}),$(".js-filters-form").replaceWith(e),SetToggleStates(t,null)},HandleFiltersToggle=function(e){return null!=e&&e.preventDefault(),$(this).prop("checked")?($(".js-filters-buttons").removeClass("filter-buttons-hidden"),$(".js-filters-wrap").removeClass("filter-panel-mobile"),$(".js-filters-toggle-btn").html('<span class="icon-close"></span><span class="small-title">Close</span>'),$(".js-filters-grid").slideDown(function(){Waypoint.refreshAll()})):($(".js-filters-buttons").addClass("filter-buttons-hidden"),$(".js-filters-wrap").addClass("filter-panel-mobile"),$(".js-filters-toggle-btn").html('<span class="icon-filter"></span><span class="small-title">Filters</span>'),$(".js-filters-grid").slideUp(function(){Waypoint.refreshAll()})),!1},OpenFilters=CINC.Search.OpenFilters=function(){SetToggleStates({},!0)},CloseFilters=CINC.Search.CloseFilters=function(){SetToggleStates({},!1)},HandleToggleFlip=function(e){e.preventDefault();var t=$(e.target),r=t.parent().find(t.data("target"));return r.hasClass("hidden")?t.text("Hide Tags"):t.text("More Tags"),r.toggleClass("hidden"),!1},SetToggleStates=function(e,t){$(".js-tgl-flip").each(function(r,a){var i=$(a),n=i.attr("id");!e[n]&&!0!==t||!1===t?(i.prop("checked",!1).trigger("change"),$("#"+i.attr("data-toggle-for")).css("display","none")):(i.prop("checked",!0).trigger("change"),$("#"+i.attr("data-toggle-for")).css("display","block"))})},HandleAltFiltersResponse=function(e){null!==e&&1===e.length&&$(".js-filters-altform").replaceWith(e)},HandleListResponse=function($results){$results.find("script").each(function(){var $script=$(this);try{eval($script.html())}catch(e){}$script.remove()}),$(".js-listsearch").replaceWith($results)},HandleMapResponse=function(results){for($(".js-mapsearch-link").attr("href","/search?"+results.searchQs),$(".js-mapsearch-link-split").attr("href","/search/split?"+results.searchQs);g.MapMarkers[0];)g.MapMarkers.pop().setMap(null);var persistResult=!1;if($.each(results.results,function(i,result){if(result.latitude&&result.longitude){var marker=new RichMarker({content:$('<div class="map-marker"><span class="map-marker-title">'+result.priceShort+"</span></div>")[0],draggable:!1,map:g.Map,pdid:result.pdid,position:new google.maps.LatLng(result.latitude,result.longitude),shadow:""});google.maps.event.addListener(marker,"click",function(){CINC.Api.Search.Result(this.pdid,!0).get().success(function(response){var $html=$(response),lat=parseFloat($html.attr("data-lat")),lng=parseFloat($html.attr("data-lng")),pdid=$html.attr("data-pdid");ClearMapResult(),g.MapResult=new RichMarker({pdid:$html.attr("data-pdid"),position:new google.maps.LatLng(lat,lng),map:g.Map,draggable:!1,content:$('<div class="map-result card--property card-no-overlay simple-gallery multi-image" data-pdid="'+pdid.htmlEncode()+'">'+$html.html()+"</div>")[0],shadow:""}),google.maps.event.addListener(g.MapResult,"ready",function(){var $script=$html.find("script");eval($script.html()),$script.remove()}),google.maps.event.addListener(g.MapResult,"click",KillEvent)});var $splitWrap=$(".js-splitwrap");1===$splitWrap.length&&$splitWrap.scrollTo('.js-searchresult[data-pdid="'+this.pdid+'"]',{offsetTop:$("#content").outerHeight()+15})}),persistResult=persistResult||null!==g.MapResult&&g.MapResult.pdid===result.pdid,g.MapMarkers.push(marker)}}),persistResult||ClearMapResult(),g.FirstSearch&&results.mapBounds&&results.mapBounds.maxLat&&results.mapBounds.maxLng&&results.mapBounds.minLng&&results.mapBounds.minLng){g.IgnoreIdle=1;var bounds=new google.maps.LatLngBounds;bounds.extend(new google.maps.LatLng(results.mapBounds.minLat,results.mapBounds.minLng)),bounds.extend(new google.maps.LatLng(results.mapBounds.maxLat,results.mapBounds.maxLng)),g.Map.fitBounds(bounds)}},BindSearchBox=g.BindSearchBox=function(){$(CINC.Search.css.KeywordSearchField).searchBox({hiddenInput:$(".js-kwinputname"),topMostParentClassIdentifier:CINC.Search.css.SearchFiltersForm})},InitListSearch=function(){el.ListSearch.length<1||g.SearchTypes.push("LIST")},FinishMapInit=CINC.Search.FinishMapInit=function(){InitMapSearch()},InitMapSearch=function(){if(!(el.MapSearch.length<1||CINC.Core.IsBot())){g.SearchTypes.push("MAP");var e=CINC.Site.StartLat,t=CINC.Site.StartLong,r=5,a=$(".js-filters-form").serializeObject();a.lat&&a.long?(e=parseFloat(a.lat),t=parseFloat(a.long),g.FirstSearch=!1,r=13):(a.acl_city||a.acl_county||a.acl_zip5||a.polygonmap)&&(g.FirstSearch=!0);var i={center:new google.maps.LatLng(e,t),mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:r,draggable:!0,disableDoubleClickZoom:!0};g.Map=new google.maps.Map(el.MapSearch[0],i),setTimeout(function(){g.MapOverlay=new google.maps.OverlayView,g.MapOverlay.draw=function(){},g.MapOverlay.setMap(g.Map),a.polygonmap&&CreateMapPolygons(a.polygonmap),google.maps.event.addListener(g.Map,"click",function(){g.IgnoreEvent?g.IgnoreEvent=!1:ClearMapResult()}),google.maps.event.addListener(g.Map,"idle",function(){2===g.IgnoreIdle||1===g.IgnoreIdle&&g.SearchTypes.length>1?g.IgnoreIdle=0:1===g.IgnoreIdle?(g.IgnoreIdle=2,g.Map.setZoom(g.Map.getZoom()+1)):0===g.MapPolygons.length&&RefreshSearch()}),el.ClearControl=$('<span class="mapsearch-control mapsearch-draw mapsearch-clear">Clear</span>'),google.maps.event.addDomListener(el.ClearControl[0],"click",function(e){g.MapPolygons.length>0&&(ClearMapPolygons(),ShowDrawButton(),RefreshSearch())}),g.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(el.ClearControl[0]),el.DrawControl=$('<span class="mapsearch-control mapsearch-draw">Draw Custom Search</span>'),google.maps.event.addDomListener(el.DrawControl[0],"click",function(e){g.MapDrawMode?(el.MapSearch.off("mousedown",HandleDrawMousedown),el.MapSearch.off("mousemove",HandleDrawMousemove),el.MapSearch.off("mouseup",HandleDrawMouseup),g.MapDrawMode=!1,g.Map.setOptions({draggable:!0}),g.MapPolyline=null,ShowDrawButton()):(g.Map.setOptions({draggable:!1}),el.MapSearch.on("mousedown",HandleDrawMousedown),g.MapDrawMode=!0,ShowDrawingButton())}),g.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(el.DrawControl[0]),el.SplitLink=$('<a class="mapsearch-icon js-mapsearch-link-split" href="/search/split"><i class="fa fa-columns"></i></a>'),el.SearchLink=$('<a class="mapsearch-icon js-mapsearch-link" href="/search"><i class="fa fa-th-large"></i></a>'),g.SearchTypes.length<2&&(g.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(el.SplitLink[0]),g.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(el.SearchLink[0])),CINC.DefaultMapData?(HandleMapResponse(CINC.DefaultMapData),FinalizeSearchResponse(CINC.DefaultMapData.searchQs,CINC.DefaultMapData.searchTitle,CINC.DefaultMapData.searchUrl)):RefreshSearch()},1e3)}},KillEvent=function(){g.IgnoreEvent=!0},ClearMapResult=function(){null!==g.MapResult&&(g.MapResult.setMap(null),g.MapResult=null)},ShowDrawButton=function(){el.DrawControl.text("Draw Custom Search").removeClass("mapsearch-drawing mapsearch-clear")},ShowDrawingButton=function(){el.DrawControl.text("Drawing...").removeClass("mapsearch-clear").addClass("mapsearch-drawing")},HandleDrawMousedown=function(e){g.MapPolyline=new google.maps.Polyline({map:g.Map}),el.MapSearch.on("mousemove",HandleDrawMousemove),el.MapSearch.on("mouseup",HandleDrawMouseup),el.MapSearch.off("mousedown",HandleDrawMousedown)},HandleDrawMousemove=function(e){var t=el.MapSearch.offset(),r=e.pageX-t.left,a=e.pageY-t.top,i=new google.maps.Point(parseInt(r),parseInt(a)),n=g.MapOverlay.getProjection().fromContainerPixelToLatLng(i);g.MapPolyline.getPath().push(n)},HandleDrawMouseup=function(e){if(g.MapPolyline&&null!==g.MapPolyline&&g.MapPolyline.getPath().getArray().length>2){g.Map.setOptions({draggable:!0}),g.MapDrawMode=!1;for(var t=9e-4,r=10,a=g.MapPolyline.simplifyLine(t).length;(a<4||a>=100)&&r-- >0;)a<4&&(t/=10),a>=100&&(t*=10),a=g.MapPolyline.simplifyLine(t).length;var i=new google.maps.Polygon({paths:g.MapPolyline.simplifyLine(t),strokeColor:"#227B87",strokeOpacity:.8,strokeWeight:3,fillColor:"#7DCFB6",fillOpacity:.1,editable:!1,geodesic:!1});i.setMap(g.Map),g.MapPolygons.push(i),$(CINC.Search.css.KeywordSearchField).val(""),ShowDrawButton(),el.MapSearch.off("mousedown",HandleDrawMousedown),el.MapSearch.off("mousemove",HandleDrawMousemove),el.MapSearch.off("mouseup",HandleDrawMouseup),g.MapPolyline.setMap(null),g.MapPolyline=null,RefreshSearch()}},CreateMapPolygons=function(e){if(!(e.length<1)){for(var t=e.split(":"),r=null,a=null,i=null,n=null,s=0;s<t.length;s++){for(var o,l=t[s].split(","),h=[],p=0;p<l.length;p++)o=$.trim(l[p]).split(" "),h.push(new google.maps.LatLng(parseFloat(o[0]),parseFloat(o[1]))),null===r||parseFloat(o[0])<r?r=parseFloat(o[0]):(null===i||parseFloat(o[0])>i)&&(i=parseFloat(o[0])),null===a||parseFloat(o[1])<a?a=parseFloat(o[1]):(null===n||parseFloat(o[1])>n)&&(n=parseFloat(o[1]));var c=new google.maps.Polygon({paths:h,strokeColor:"#005063",strokeOpacity:.8,strokeWeight:3,fillColor:"#CCECF4",fillOpacity:.3,editable:!1,geodesic:!1});c.setMap(g.Map),g.MapPolygons.push(c)}g.Map.panTo(new google.maps.LatLng((i+r)/2,(n+a)/2))}},ClearMapPolygons=function(){if(g.MapPolygons.length>0){for(var e=0;e<g.MapPolygons.length;e++)g.MapPolygons[e].setMap(null);g.MapPolygons=[]}$(".js-filters-form").find('[name="polygonmap"]').remove()},pdqModalFormSubmit=function(){var e=$(this).serializeObject();return e.filtersAsString=JSON.stringify(StrCrit()),CINC.Api.Search.SavePdq(e).post(e).success(function(e,t,r){window.location.pathname=e}).error(function(e,t,r){alert("Unable to persist the PDQ. See error: "+r)}),!1},pdqManagerModalWireup=function(){el.PdqAnchor.on("click",function(e){e.preventDefault(),Modals.PdqManagerModal().Open()}),el.PdqModalForm.on("submit",pdqModalFormSubmit)};$(document).ready(function(){if(el.SearchHandoffModal.length>0&&el.SearchHandoffModal.prop("checked",!1),CINC.Site.IsBrandedSlaveSite&&$("body").on("click",".js-handofflink",function(e){e.preventDefault();var t=$(this),r=t.attr("href")||t.data("handoffurl");r&&GracefulHandoff(r)}),SetUrlStack(),ApplyUrlStack(),CINC.QS.forceopen>0){if(!CINC.Core.LocalStorage.IsAvailable)return void(window.location=window.location.replace("forceopen="+CINC.QS.forceopen,""));var e=GetUrlStack()[CINC.QS.forceopen];if(e)return window.location=e,void Modals.Loading("Finding your requested listing").Open()}BindFiltersForm(),BindSearchBox(),BindResults(),InitListSearch(),pdqManagerModalWireup(),$(".brokenImage").each(function(e,t){CINC.Api.Photo("broken").post({pdid:$(t).data("pdid"),url:$(t).find(".initial-image").attr("src"),mlsid:$(t).data("mlsid")}).done(function(e){}).fail(function(e){})}),CINC.QS&&"1"===CINC.QS.advanced&&OpenFilters(),$(".js-lender-search-banner").on("click",function(e){ga("cinc.send","event","lender","click","searchBanner")}),CINC.Core.OptInImport()})}("undefined"==typeof ga||null===ga?function(){}:ga),CINC="undefined"==typeof CINC?{}:CINC,CINC.Search=void 0===CINC.Search?{}:CINC.Search,CINC.Search.LinkedFormInputs={synchronizeValues:function(e,t,r){var a=$(e.target),i=a.attr("name");if(void 0!==i&&"function"==typeof r){var n=(t=$(t)).find('[name="'+i+'"]');n.length<=1&&r();var s=a.val();"INPUT"!==a.prop("tagName").toUpperCase()||"CHECKBOX"!==a.attr("type").toUpperCase()||a.prop("checked")||(s=""),n.each(function(e,t){if(a[0]!==t){var r=$(t),i=r.prop("tagName").toUpperCase();if("SELECT"===i)r.val(s);else if("INPUT"===i){var n=r.attr("type").toUpperCase();"TEXT"===n||"SEARCH"===n||"HIDDEN"===n?r.val(s):"RADIO"!==n&&"CHECKBOX"!==n||a.attr("id")!==r.attr("id")||r.prop("checked",r.val().toLowerCase()===s.toLowerCase())}}}),r()}}},function(){var e=function(){var e=[];return $(".searchboxed").each(function(){var t=$(this);t.data("searchBox")&&e.push(t.data("searchBox"))}),e},t=function(t){$.each(e(),function(e,r){t&&t.is(r)||r.func.dropdown.remove()})},r=function(e,t){return t&&(e.stopPropagation(),e.preventDefault()),!t};$.fn.searchBox=function(a){return this.each(function(){var i=$(this);if(i.data("searchBox"))return!0;var n={keywords:[],el:{dropdown:null,searchBox:null,tagsWrap:null,wrap:null},func:{dropdown:{bind:function(){null!==n.el.dropdown&&0!==n.el.dropdown.length&&(n.el.dropdown.off("click",n.func.dropdown.handleDropdownClick).on("click",n.func.dropdown.handleDropdownClick),n.el.dropdown.find(".js-keyword").off("click",n.func.dropdown.handleClick).on("click",n.func.dropdown.handleClick).off("mouseenter",n.func.dropdown.handleMouseEnter).on("mouseenter",n.func.dropdown.handleMouseEnter))},handleClick:function(e){n.func.dropdown.select($(this),e)},handleDropdownClick:function(e){e.stopPropagation()},handleMouseEnter:function(){n.func.dropdown.preselect($(this),!1)},moveSelected:function(e){if(null!==n.el.dropdown&&0!==n.el.dropdown.length){var t=n.el.dropdown.find(".js-keyword"),r=t.filter(".preselected"),a=t.index(r[0]);e&&1===r.length&&a>0?n.func.dropdown.preselect($(t[a-1]),!0):0===r.length?n.func.dropdown.preselect(t.first(),!0):1===r.length&&a<t.length-1&&n.func.dropdown.preselect($(t[a+1]),!0)}},preselect:function(e,t){if(null!==n.el.dropdown&&0!==n.el.dropdown.length&&(n.el.dropdown.find(".js-keyword").removeClass("preselected"),e.addClass("preselected"),t)){var r=n.el.dropdown.find(".js-keywords-scroll"),a=e.outerHeight(),i=e.position().top,s=r.height();i<0?r.animate({scrollTop:"-="+(0-i+a)},0):i+a>s&&r.animate({scrollTop:"+="+(i+a-s)},0)}},preselectFirst:function(){if(null===n.el.dropdown||0===n.el.dropdown.length)return!1;var e=n.el.dropdown.find(".js-keyword:first");return 1===e.length&&(n.func.dropdown.preselect(e,!1),!0)},select:function(e,t){e instanceof jQuery&&(e={friendlyInputName:e.attr("data-friendlyinputname"),inputName:e.attr("data-inputname"),value:e.attr("data-value")});var r=!0,a=e.inputName.toLowerCase(),i=e.friendlyInputName.toLowerCase(),s=e.value,o=(a+"_"+s).replace(/ /g,"_").replace(/,/g,"").replace(/\(|\)/g,"").toLowerCase();n.parms.tags&&null!==n.el.tagsWrap&&1===n.el.tagsWrap.length?(o=o.split("/").join("_"),0===$("#"+o).length?(n.el.tagsWrap.append('<input class="js-searchbox-tag" type="checkbox" name="'+a+'" id="'+o.htmlEncode()+'" value="'+s.htmlEncode()+'" checked="checked" />'),n.el.tagsWrap.append('<label for="'+o+'"><span class="filtertag">'+s.htmlEncode()+" ("+i.htmlEncode()+")</span></label>")):r=!1,n.el.searchBox.attr("name",n.parms.defaultInputName).val("")):n.el.searchBox.attr("name",a).val(s),n.parms.lastWord=s,n.parms.lastInputName=a,n.func.dropdown.remove();var l=$(".js-filters-altform");1===l.length&&l.is(":visible")&&void 0!==t?(t.stopPropagation(),t.preventDefault()):r&&CINC.Search&&CINC.Search.RefreshSearch&&CINC.Search.RefreshSearch()},remove:function(){null!==n.el.dropdown&&0!==n.el.dropdown.length&&(n.el.dropdown.remove(),n.el.dropdown=null)},removeAll:t,trySelectFirst:function(){if(0!==n.keywords.length){var e=$.trim(n.el.searchBox.val()),t=n.keywords[0],r=t.value,a=[r,r.replace(",","").replace("  "," ")];$.each(a,function(r,a){if(0===a.toLowerCase().indexOf(e.toLowerCase()))return n.func.dropdown.select(t),!1})}}},init:function(){return n.el.searchBox=i,n.el.wrap=i.closest(".js-searchbox-wrap"),n.parms.tags&&(n.el.tagsWrap=n.el.wrap.next(".js-searchbox-tagswrap"),0===n.el.tagsWrap.length&&(n.el.tagsWrap=n.el.wrap.find(".js-searchbox-tagswrap")),0===n.el.tagsWrap.length?(n.el.tagsWrap=null,n.parms.tags=!1):n.func.tags.bind()),n.func.searchBox.bind(),i.addClass("searchboxed")},searchBox:{bind:function(){null!==n.el.searchBox&&0!==n.el.searchBox.length&&n.el.searchBox.off("click",n.func.searchBox.handleClick).on("click",n.func.searchBox.handleClick).off("keydown",n.func.searchBox.handleKeydown).on("keydown",n.func.searchBox.handleKeydown).off("keypress",n.func.searchBox.handleKeypress).on("keypress",n.func.searchBox.handleKeypress).off("keyup",n.func.searchBox.handleKeyup).on("keyup",n.func.searchBox.handleKeyup).off("change",n.func.searchBox.handleEvent).on("change",n.func.searchBox.handleEvent).off("focus",n.func.searchBox.handleEvent).on("focus",function(e){n.func.searchBox.handleEvent(e,!0)})},clear:function(){n.el.searchBox.attr("name",n.parms.defaultInputName),n.el.searchBox.val("")},handleClick:function(e){e.stopPropagation(),t(n)},handleEvent:function(e,t){CINC.Search&&CINC.Search.g&&(CINC.Search.g.FirstSearch=!0,CINC.Search.g.NextZoom=12);var r=function(){var t=$.trim(n.el.searchBox.val());return t.length<2?n.func.dropdown.remove():t===n.parms.lastWord&&"focus"!==e.type||CINC.Api.Search.AutocompleteHtml(n.parms.autocompleteName,t,!0).get({IncludeSearches:n.parms.includeSearches?"1":"0"}).success(function(e){n.func.dropdown.remove();var t=$(e);parseInt(t.attr("data-groupcount"))>0?(n.el.dropdown=$(e).appendTo(n.el.wrap.addClass("open")),n.keywords=[],t.find(".js-keyword").each(function(){var e=$(this);n.keywords.push({friendlyInputName:e.attr("data-friendlyinputname"),inputName:e.attr("data-inputname"),value:e.attr("data-value")})}),n.func.dropdown.bind(),n.func.dropdown.preselectFirst()):n.el.searchBox.attr("name",n.parms.defaultInputName)}),n.parms.lastWord=t,"change"!==e.type||(e.stopPropagation(),e.preventDefault(),!1)};t?r():(n.AutocompleteTimer&&clearTimeout(n.AutocompleteTimer),n.AutocompleteTimer=setTimeout(r,800))},handleKeydown:function(e){var t=!1;switch(e.which){case 27:null!==n.el.dropdown&&(n.func.dropdown.remove(),t=!0);break;case 38:case 40:null!==n.el.dropdown&&(t=!0)}return r(e,t)},handleKeypress:function(e){var t=!1;switch(e.which){case 13:if(null!==n.el.dropdown){var a=n.el.dropdown.find(".js-keyword.preselected");1===a.length?(n.func.dropdown.select(a,e),t=!0):n.el.searchBox.attr("name",n.parms.defaultInputName)}}return r(e,t)},handleKeyup:function(e){var t=!1;switch(e.which){case 38:t=!0,n.func.dropdown.moveSelected(!0);break;case 40:t=!0,n.func.dropdown.moveSelected(!1);break;default:t=n.func.searchBox.handleEvent.apply(this,[e])}return r(e,t)}},tags:{bind:function(){n.el.tagsWrap.off("change",".js-searchbox-tag",n.func.tags.handleChange).on("change",".js-searchbox-tag",n.func.tags.handleChange)},handleChange:function(t){var r=$(this);if(!r.prop("checked")){var a=r.attr("name"),i=r.attr("value");$.each(e(),function(e,t){console.log(t.el.searchBox.attr("name")),console.log(t.el.searchBox.val()),t.el.searchBox.attr("name")===a&&t.el.searchBox.val()===i&&t.func.searchBox.clear()})}},removeAll:function(){i.data("searchBox").el.searchBox.parents(n.parms.topMostParentClassIdentifier).find(".js-searchbox-tagswrap").empty()}}},is:function(e){return e.el.wrap[0]===n.el.wrap[0]},parms:$.extend({autocompleteName:i.attr("data-autocompletename")?i.attr("data-autocompletename"):"acl_kw",defaultInputName:i.attr("data-defaultinputname")?i.attr("data-defaultinputname"):"kw",tags:!1,lastWord:null,includeSearches:!!i.attr("data-includesearches")&&"0"!==i.attr("data-includesearches")},a)};return n.func.init(),i.data("searchBox",n),!0}),$("body").on("click",function(){t()}),this},$.fn.searchBox.tags=!1}(),CINC="undefined"==typeof CINC?{}:CINC,CINC.PDQ=function(e){var t=0===window.location.pathname.indexOf("/search/quick"),r=function(r){t&&r&&(e("cinc.send","event","pdq-interactions","click",r),console.log(r+" click has been tracked."))},a=document.getElementsByClassName("js-open-house");for(let e=0;e<a.length;e++){a[e].onclick=function(){r("open-houses")}}var i=document.getElementsByClassName("js-quick-search-link");for(let e=0;e<i.length;e++){i[e].onclick=function(){r("quick-search")}}var n=document.getElementsByClassName("js-market-report-link");return n&&n[0]&&(n[0].onclick=function(){r("market-report")}),{events:{paginationClick:function(){r("pagination")},sortByClick:function(e){r("sort-by "+e.options[e.selectedIndex].text)},filtersClick:function(e){r("search-filters "+e)}}}}("undefined"==typeof ga?function(){}:ga),CINC.Forms={},CINC.Forms.Validate=function(e,t){var r=!0;switch(e=e.trim(),t.toLowerCase()){case"address":if(e.length<5||"STREET ADDRESS (LINE 1)"===e.toUpperCase())r=!1;else{var a=e.split(" ");a.length<=1?r=!1:((a[0].length<1||a[1].length<1)&&(r=!1),$.isNumeric(a[0])||(r=!1))}break;case"email":((e=e.toLowerCase()).length<1||!/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e))&&(r=!1);break;case"name":CINC.Site.NameValidationDisabled?(e.length<1||"full name"===e.toLowerCase())&&(r=!1):(e.length<1||-1===e.indexOf(" ")||"full name"===e.toLowerCase())&&(r=!1);break;case"message":break;case"password":e.length<5&&(r=!1);break;case"phone":var i;i=(e=e.replace(/\D/g,"")).length<=10?/^[2-9][0-9][0-9][2-9][0-9][0-9][0-9][0-9][0-9][0-9]$/:/^(999|998|997|996|995|994|993|992|991|990|979|978|977|976|975|974|973|972|971|970|969|968|967|966|965|964|963|962|961|960|899|898|897|896|895|894|893|892|891|890|889|888|887|886|885|884|883|882|881|880|879|878|877|876|875|874|873|872|871|870|859|858|857|856|855|854|853|852|851|850|839|838|837|836|835|834|833|832|831|830|809|808|807|806|805|804|803|802|801|800|699|698|697|696|695|694|693|692|691|690|689|688|687|686|685|684|683|682|681|680|679|678|677|676|675|674|673|672|671|670|599|598|597|596|595|594|593|592|591|590|509|508|507|506|505|504|503|502|501|500|429|428|427|426|425|424|423|422|421|420|389|388|387|386|385|384|383|382|381|380|379|378|377|376|375|374|373|372|371|370|359|358|357|356|355|354|353|352|351|350|299|298|297|296|295|294|293|292|291|290|289|288|287|286|285|284|283|282|281|280|269|268|267|266|265|264|263|262|261|260|259|258|257|256|255|254|253|252|251|250|249|248|247|246|245|244|243|242|241|240|239|238|237|236|235|234|233|232|231|230|229|228|227|226|225|224|223|222|221|220|219|218|217|216|215|214|213|212|211|210|98|95|94|93|92|91|90|86|84|82|81|66|65|64|63|62|61|60|58|57|56|55|54|53|52|51|49|48|47|46|45|44|43|41|40|39|36|34|33|32|31|30|27|20|7|1)[0-9]{0,14}$/,(e.length<10||!i.test(e)&&!/^((?:\+27|27)|0)(\d{2})-?(\d{3})-?(\d{4})$/.test(e))&&(r=!1);try{r&&e[0].repeat(e.length)==e&&(r=!1)}catch(e){}break;case"price":0===(e=e.replace(/\D/g,"")).length&&(r=!1);break;case"state":2!==e.length&&(r=!1);break;case"zip":var n=e.match(/^(\d{5}|[A-Za-z]\d[A-Z] ?\d[A-Za-z]\d)$/g);null==n||n.length<1?r=!1:e=n[0]}return r},CINC.Forms.Serialize=function(e){var t={};return e.serializeArray().map(function(e){void 0===t[e.name]||null===t[e.name]?t[e.name]=e.value:Array.isArray(t[e.name])?t[e.name].push(e.value):t[e.name]=[t[e.name],e.value]}),t},CINC.Forms.Arrayify=function(e){return null==e||Array.isArray(e)?e:[e]},$(document).ready(function(){$("body").delegate('form.cinc-form-validation input[type="submit"]',"click",function(e){e.preventDefault();for(var t=$(this).closest("form.cinc-form-validation"),r=(t.find(":input"),t.find('*[data-val="true"]:input')),a=!0,i=0;a&&i<r.length;){var n=$(r[i]);if(n.valueIsNullOrEmpty=CINC.IsNullOrEmpty(n.val()),n.isRequired=!1,n.hasRegex=!1,n.data("val-required")&&(n.isRequired=!0,n.requiredMessage=n.data("val-required")),n.data("val-regex")&&(n.hasRegex=!0,n.regexMessage=n.data("val-regex"),n.regexPattern=n.data("val-regex-pattern")),n.data("val-type")&&(n.hasType=!0,n.type=n.data("val-type"),n.typeMessage=n.data("val-type-message")),n.valueIsNullOrEmpty&&n.isRequired)return a=!1,void Notification.Tooltip.Show(n.requiredMessage,n);if(!n.valueIsNullOrEmpty&&n.hasRegex)if(!new RegExp(n.regexPattern).test(n.val()))return a=!1,void Notification.Tooltip.Show(n.regexMessage,n);if(!n.valueIsNullOrEmpty&&n.hasType&&!CINC.Forms.Validate(n.val(),n.type))return a=!1,void Notification.Tooltip.Show(n.typeMessage,n);i+=1}if(a){var s={};if(t.data("ajax")){s={};fnBegin=CINC.GetFunctionFromString(t.data("ajax-begin")),fnError=CINC.GetFunctionFromString(t.data("ajax-failure")),fnSuccess=CINC.GetFunctionFromString(t.data("ajax-success")),fnCompleted=CINC.GetFunctionFromString(t.data("ajax-complete")),fnBegin&&(s.beforeSubmit=function(e,t,r){fnBegin({arr:e,$form:t,options:r})}),fnError&&(s.error=function(e,t,r,a){var i={xhr:e,status:t,error:!0,success:!1,response:r,$form:a};fnError(i),fnCompleted&&fnCompleted(i)}),fnSuccess&&(s.success=function(e,t,r,a){var i={xhr:r,status:t,error:!1,success:!0,response:e,$form:a};fnSuccess(i),fnCompleted&&fnCompleted(i)}),t.ajaxSubmit(s)}}})}),$(document).bind("ready ajaxComplete",function(){$(".simple-file-uploader").each(function(){var e=$(this);e.fineUploader({request:{endpoint:"/upload"},button:$(e.data("upload-button"))[0],multiple:!1}).on("submit",function(e,t,r){var a=$(this),i={},n=a.attr("id"),s=CINC.GetFunctionFromString(a.data("ajax-begin"));if(n||(n="id{0}".format(Math.floor(1e4*(1+Math.random()))),$(this).attr("id",n)),i.__RequestVerificationToken=a.closest("form").find('input[name="__RequestVerificationToken"]').val(),s){var o={};o.event=e,o.id=t,o.name=r,o.options=i,o.$source=a,s(o)}a.fineUploader("setParams",i)}).on("error",function(e,t,r,a,i){var n=JSON.parse(i.responseText),s=$(e.target),o=CINC.GetFunctionFromString(s.data("ajax-failure"));if(o){var l={};l.event=e,l.id=t,l.name=r,l.errorReason=a,l.xhr=i,l.xhr.responseText=void 0,l.xhr.responseJSON=n,l.$source=s,o(l)}}).on("complete",function(e,t,r,a){var i=$(e.target),n=CINC.GetFunctionFromString(i.data("ajax-success")),s=CINC.GetFunctionFromString(i.data("ajax-complete"));if(s||n){var o={};o.event=e,o.id=t,o.name=r,o.response=a,o.$source=i,a.success&&n&&n(o),s&&s(o)}})})}),CINC.ResumeFormSubmitError=function(e){Notification.Banner.Error("Error","Resume Form Error")},CINC.ResumeFormSubmitSuccess=function(e){IsLoggedIn?$("#resume-form").addClass("success"):($("body").append(CINC.Site.ConversionTrackingScripts),"undefined"!=typeof ga&&null!==ga&&ga("cinc.send","event","registration-resume","api-response","Successful Registration"),"undefined"!=typeof mixpanel&&mixpanel.track("User Registration Successful"),0==$(".js-inquiry-noreload").length&&window.location.reload(!0))},CINC.BeginningResumeFormSubmit=function(e){Modals.Loading("").Open()},CINC.FinalizingResumeFormSubmit=function(e){Modals.Loading("").Close()},$(document).ready(function(){$("#resume-form .upload").fineUploader({request:{endpoint:"/upload"},multiple:!1}).on("submit",function(e,t,r){loadingModal=Modals.Loading("Uploading file").Open(),$(this).fineUploader("setParams",{action:"uploadfiles",__RequestVerificationToken:$('#resume-form input[name="__RequestVerificationToken"]').val()})}).on("error",function(e,t,r,a,i){Notification.Banner.Error(a||"","Failed to upload file")}).on("complete",function(e,t,r,a){if(a.success){var i=a.data[0].fileDID;$("#resume-form .upload").addClass("completed"),$('#resume-form input[name="UploadDID"]').val(i)}loadingModal&&loadingModal.Close()})}),$(document).ready(function(){initToggleNavItemsVisibility(),closeNavSidebarWhenModalOpenMobile()});var debounceToggleNavItemVisibility=debounce(toggleNavItemsVisibility,50);function initToggleNavItemsVisibility(){debounceToggleNavItemVisibility(),$(window).off("resize",debounceToggleNavItemVisibility).on("resize",debounceToggleNavItemVisibility)}function toggleNavItemsVisibility(){var e=$("nav");if(0!==e.length&&e.is(":visible")){var t=e.find(".header-menu-left");if(0!==t.length&&t.is(":visible"))toggleMoreDropdownVisbility(t.find(".header-item").not(".js-nav-more"),$(".js-nav-more").find(".menu .item"))}}function toggleMoreDropdownVisbility(e,t){var r=!1;e.each(function(){var e=$(this),a=$(this).find("a").text();t.each(function(){var t=$(this),i=$(this).find("a").text();a!==i||(e.is(":hidden")?(t.show(),r=!0):t.hide())}),$(window).innerWidth()<=768&&(e.removeClass("hidden-xs hidden-s"),r=!1)}),r?$(".js-nav-more").css("display","inline-block"):$(".js-nav-more").hide()}function closeNavSidebarWhenModalOpenMobile(){$(window).innerWidth()<=768&&$(".js-promptforlogin, .js-promptforsignup").on("click",function(){$("body").removeClass("with-sidebar")})};
